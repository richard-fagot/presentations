var ultimediaVisiblePlayer=function(){var G=false;var k=new Array();var b=new Array();var F=false;var t=new Array();var o=new Array();var e=new Array();var c=new Array();var u=new Array();var d=new Array();var i=0;var A=0;var x=300;var n=this;var E=7;var m=false;var j=false;var C=false;var D=false;var p=false;var a=false;var h=false;var z=false;var g=false;var v=new Array();var B=window.outerWidth;var l=(window.outerWidth<=420)?true:false;var w=window.outerHeight;var f=new Array();var r=this;window.addEventListener("scroll",function(H){if(!G&&m!=false){clearTimeout(i);i=setTimeout(function(){r.scrollVisiblePlayer()},15);clearTimeout(A);A=setTimeout(function(){n.check_play()},200)}},false);this.addCss=function(H,L,J,K,I){if(!m&&typeof H!="undefined"&&H!=0){m=".visible_player {position: fixed !important; z-index: 1000 !important;";if(l){switch(I){case 1:K=B;break;case 2:K=B*0.75;break;case 3:K=B*0.45;break}m=m+"top : auto !important; left: 0 !important; bottom:0 !important; right:auto !important;";C="auto";D="0";p="0";a="auto"}else{switch(H){case 1:m=m+"top : auto !important; left: auto !important; bottom:"+L+"px !important; right:"+J+"px !important;";C="auto";D=L;p="auto";a=J;break;case 2:m=m+"bottom : auto !important; left: auto !important; top:"+L+"px !important; right:"+J+"px !important;";C=L;D="auto";p="auto";a=J;break;case 3:m=m+"bottom : auto !important; right: auto !important; top:"+L+"px !important; left:"+J+"px !important;";C=L;D="auto";p=J;a="auto";break;case 4:m=m+"top : auto !important; right: auto !important; bottom:"+L+"px !important; left:"+J+"px !important;";C="auto";D=L;p=L;a="auto";break}}m=m+"width: "+K+"px !important;}";j=H;h=K;g=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css";if(z.styleSheet){z.styleSheet.cssText=m}else{z.appendChild(document.createTextNode(m))}g.appendChild(z)}};this.findVideos=function(Q,L,S,M,O){this.addCss(Q,L,S,M,O);var J=document.querySelectorAll("iframe");for(var P=0;P<J.length;P++){if(J[P].hasAttribute("src")){if(J[P].getAttribute("src").match(/(ultimedia|digiteka)\.(com|net)/)&&k.indexOf(J[P])==-1){F=k.length;k.push(J[P]);f.push(J[P].getAttribute("style"));t[F]="pause";o[F]=true;v[F]=J[P].className;c[F]=false;J[P].contentWindow.postMessage("your_id="+F,"*");var K=J[P].parentNode;var I=document.createElement("div");I.id=F+"_visible_player_brother";K.insertBefore(I,J[P]);var N="#"+K.parentNode.id+" ."+K.className+" iframe#"+J[P].id+m,R=document.head||document.getElementsByTagName("head")[0],H=document.createElement("style");H.type="text/css";if(H.styleSheet){H.styleSheet.cssText=N}else{H.appendChild(document.createTextNode(N))}R.appendChild(H)}}}};this.scrollVisiblePlayer=function(){for(var Y=0;Y<k.length;Y++){var X=document.compatMode!=="BackCompat";var K=X?document.documentElement:document.body;var O=(document.body.scrollLeft!=0)?document.body.scrollLeft:document.documentElement.scrollLeft;var N=(document.body.scrollTop!=0)?document.body.scrollTop:document.documentElement.scrollTop;var V="innerWidth" in window?window.innerWidth:K.clientWidth;var H="innerHeight" in window?window.innerHeight:K.clientHeight;var M=[O,N,O+V,N+H,V,H];if(o[Y]){var O=0,N=0;var R=document.getElementById(Y+"_visible_player_brother");if(!c[Y]||!k[Y].classList.contains("visible_player")){var P=k[Y].offsetWidth,Z=k[Y].offsetHeight}else{var P=R.offsetWidth,Z=R.offsetHeight}while(R.offsetParent!==null){O+=R.offsetLeft;N+=R.offsetTop;R=R.offsetParent}var aa=k[Y].getBoundingClientRect();var U=(j==1||j==4)?H-aa.top-Z:aa.top;var T=(j==1||j==2)?V-aa.left-P:aa.left;var S=[O,N,O+P,N+Z,P,Z];var L=(b[Y]==1||b[Y]==2)&&(M[0]<=S[2])&&(M[1]>=S[1]+0.5*S[5])&&(M[2]>=S[0])&&(M[3]>=S[3]);var Q=(b[Y]==1||b[Y]==3)&&(M[0]<=S[2])&&(M[3]<=S[1]+0.5*S[5])&&(M[2]>=S[0])&&(M[1]<=S[1]);var J=(L||Q)&&t[Y]=="play";if(J&&!d[Y]&&(!c[Y]||!k[Y].classList.contains("visible_player"))){k[Y].style.position="fixed";k[Y].style.height=Z+"px";k[Y].style.width=P+"px";k[Y].style.opacity="0.1";k[Y].style.zIndex="1001";if(j==1){k[Y].style.bottom=U+"px";k[Y].style.right=T+"px"}else{if(j==2){k[Y].style.top=U+"px";k[Y].style.right=T+"px"}else{if(j==3){k[Y].style.top=U+"px";k[Y].style.left=T+"px"}else{if(j==4){k[Y].style.bottom=U+"px";k[Y].style.left=T+"px"}}}}for(var W=0;W<k.length;W++){if(Y!=W){q(W)}}k[Y].className="";s(Y,true,Z,P,U,T)}else{if(!J&&(c[Y]||k[Y].classList.contains("visible_player"))){s(Y,false,Z,P,U,T)}}}else{var O=0,N=0;var R=document.getElementById(k[Y]._target+"_visible_player").parentNode;var P=R.offsetWidth,Z=R.offsetHeight;while(R.offsetParent!==null){O+=R.offsetLeft;N+=R.offsetTop;R=R.offsetParent}var aa=document.getElementById(k[Y]._target).getBoundingClientRect();var U=(j==1||j==4)?H-aa.top-Z:aa.top;var T=(j==1||j==2)?V-aa.left-P:aa.left;var S=[O,N,O+P,N+Z,P,Z];var L=(b[Y]==1||b[Y]==2)&&(M[0]<=S[2])&&(M[1]>=S[1]+0.5*S[5])&&(M[2]>=S[0])&&(M[3]>=S[3]);var Q=(b[Y]==1||b[Y]==3)&&(M[0]<=S[2])&&(M[3]<=S[1]+0.5*S[5])&&(M[2]>=S[0])&&(M[1]<=S[1]);var J=Q||L;var I=k[Y]._jw.getState()=="PLAYING"||k[Y]._jw.getState()=="playing"||k[Y]._jw.getState()=="buffer"||k[Y]._jw.getState()=="BUFFER"||k[Y]._state=="preroll"||k[Y]._state=="after_preroll"||k[Y]._state=="before_preroll";if(e[Y]=="pauseAd"){I=false}else{if(e[Y]=="pause"&&I){for(var W=0;W<k.length;W++){if(Y!=W){q(W)}}e[Y]="play"}else{if(!I){e[Y]="pause"}}}var ab=document.getElementById(k[Y]._target+"_visible_player");if(J&&I&&!d[Y]&&(!c[Y]||!ab.classList.contains("visible_player"))){s(Y,true,Z,P,U,T);for(var W=0;W<k.length;W++){if(Y!=W){q(W)}}}else{if((!J||!I)&&(c[Y]||ab.classList.contains("visible_player"))){s(Y,false,Z,P,U,T)}}}}};function s(Y,H,W,P,S,R){var X=false;var K=false;var J=false;var J=false;var M=false;var M=false;var T=false;if(o[Y]){var N=k[Y].contentWindow;X=document.getElementById(Y+"_visible_player_brother");if(H){n.set_in_page_visible_player(true);c[Y]=1;d[Y]=1;X.style.width=P+"px";X.style.height=W+"px";X.style.backgroundColor="black";N.postMessage("fb_btn_hide","*");u[Y]=new Array();if(l){var V=(h*9)/16;var O=h;var I=1;K="auto !important;";J="0 !important;";M="0 !important;";T="0 !important;";k[Y].style.cssText="z-index:1000;position:fixed !important;height:"+V+"px !important;width:"+O+"px !important;bottom:"+J+"right:"+M+"top:"+K+"left:"+T;k[Y].style.opacity=I}else{for(var U=1;U<=x;U++){u[Y].push(setTimeout(function(Z){return function(){switch(j){case 1:K=C+" !important;";J=S+(D-S)*Z/x;J=J+"px !important;";M=R+(a-R)*Z/x;M=M+"px !important;";T=p+" !important;";break;case 2:K=S+(C-S)*Z/x;K=K+"px !important;";J=D+" !important;";M=R+(a-R)*Z/x;M=M+"px !important;";T=p+" !important;";break;case 3:K=S+(C-S)*Z/x;K=K+"px !important;";J=D+" !important;";M=a+" !important;";T=R+(p-R)*Z/x;T=T+"px !important;";break;case 4:K=C+" !important;";J=S+(D-S)*Z/x;J=J+"px !important;";M=a+" !important;";T=R+(p-R)*Z/x;T=T+"px !important;";break}var ab=W+(W/P*h-W)*Z/x;var ac=P+(h-P)*Z/x;var aa=0.1+(0.9)*Z/x;k[Y].style.cssText="z-index:1000;position:fixed !important;height:"+ab+"px !important;width:"+ac+"px !important;bottom:"+J+"right:"+M+"top:"+K+"left:"+T;k[Y].style.opacity=aa;if(Z==x){k[Y].className="visible_player";k[Y].style.removeProperty("width");k[Y].style.removeProperty("opacity");k[Y].style.removeProperty("z-index");k[Y].style.removeProperty("position");k[Y].style.removeProperty("bottom");k[Y].style.removeProperty("right");k[Y].style.removeProperty("top");k[Y].style.removeProperty("left");d[Y]=0;n.resizeDTK(ac,ab,Y)}}}(U),U))}}}else{n.set_in_page_visible_player(false);for(var Q in u[Y]){clearTimeout(u[Y][Q])}X.style.width="";X.style.height="";if(typeof f[Y]!=="undefined"&&f[Y]!==null){k[Y].style.cssText=f[Y]}else{k[Y].style.removeProperty("height");k[Y].style.removeProperty("width");k[Y].style.removeProperty("zIndex");k[Y].style.removeProperty("position");k[Y].style.removeProperty("bottom");k[Y].style.removeProperty("right")}k[Y].style.removeProperty("opacity");k[Y].className=v[Y];d[Y]=0;c[Y]=0;N.postMessage("fb_btn_show","*");n.resizeDTK(P,W,Y)}}else{var L=document.getElementById(k[Y]._target+"_visible_player");if(H){n.set_in_page_visible_player(true);c[Y]=1;d[Y]=1;L.parentNode.style.width=P+"px";L.parentNode.style.height=W+"px";L.parentNode.style.backgroundColor="black";k[Y].setVisiblePlayer(true);k[Y].showPanel(false);if(l){var V=(h*9)/16;var O=h;var I=1;K="auto !important;";J="0 !important;";M="0 !important;";T="0 !important;";L.style.cssText="z-index:1000;position:fixed !important;height:"+V+"px !important;width:"+O+"px !important;bottom:"+J+"right:"+M+"top:"+K+"left:"+T;L.style.opacity=I}else{for(var U=1;U<=x;U++){u[Y]=setTimeout(function(Z){return function(){switch(j){case 1:K=C+" !important;";J=S+(D-S)*Z/x;J=J+"px !important;";M=R+(a-R)*Z/x;M=M+"px !important;";T=p+" !important;";break;case 2:K=S+(C-S)*Z/x;K=K+"px !important;";J=D+" !important;";M=R+(a-R)*Z/x;M=M+"px !important;";T=p+" !important;";break;case 3:K=S+(C-S)*Z/x;K=K+"px !important;";J=D+" !important;";M=a+" !important;";T=R+(p-R)*Z/x;T=T+"px !important;";break;case 4:K=C+" !important;";J=S+(D-S)*Z/x;J=J+"px !important;";M=a+" !important;";T=R+(p-R)*Z/x;T=T+"px !important;";break}var ab=W+(W/P*h-W)*Z/x;var ac=P+(h-P)*Z/x;var aa=0.1+(0.9)*Z/x;L.style.cssText="z-index:1000;position:fixed !important;height:"+ab+"px !important;width:"+ac+"px !important;bottom:"+J+"right:"+M+"top:"+K+"left:"+T;L.style.opacity=aa;if(Z==x){L.classList.add("visible_player");d[Y]=0;n.resizeDTK(ac,ab,Y)}}}(U),U)}}}else{n.set_in_page_visible_player(false);L.parentNode.style.width="";L.parentNode.style.height=W+"px";L.style.height="";L.style.width="";L.style.zIndex="";L.style.position="";L.style.bottom="";L.style.right="";L.style.opacity="";L.classList.remove("visible_player");d[Y]=0;clearTimeout(u[Y]);c[Y]=0;k[Y].setVisiblePlayer(false);n.resizeDTK(L.parentNode.offsetWidth,L.parentNode.offsetHeight,Y)}}}function y(H){if(!G&&typeof H.data=="string"){var K=H.data.match(/(state_player)=(.*)_(\d+)/);var L=H.data.match(/(new_video_)(\d+)_(\d+)_(\d+)_(\d+)_(\d+)/);if(K){if(K[1]=="state_player"){if(K[2]=="play"){t[K[3]]="play";for(var I=0;I<k.length;I++){if(K[3]!=I){q(I);if(c[I]){s(I,false,320,640,5,5)}}}n.scrollVisiblePlayer()}else{if(K[2]=="close"){G=true;for(var I=0;I<k.length;I++){s(I,false,320,640,5,5)}}else{if(K[2].match(/valid./)){b[K[3]]=parseInt(K[2].slice(-1))}else{if(K[2]!="loading"){t[K[3]]="pause";var J=7}}}}}}else{if(L){n.findVideos(parseInt(L[2]),parseInt(L[3]),parseInt(L[4]),parseInt(L[5]),parseInt(L[6]))}}}}this.initWidget=function(I,J){if(k.indexOf(I)>=0){return}if(null==document.getElementById(I._target+"_visible_player")){k.push(I);F=k.length-1;o[F]=false;b[F]=J;var H=document.getElementById(I._target);var M=document.createElement("div");M.id=I._target+"_visible_player";var L=document.createElement("div");L.id=F+"_button_visible_player";L.className="button_visible_player";L.style.position="absolute";L.style.top="0 px";L.style.left="0 px";L.style.width="100%";L.style.height="100%";L.style.zIndex="11";L.style.display="none";L.style.cursor="pointer";H.parentNode.insertBefore(M,H);M.appendChild(H);M.parentNode.insertBefore(L,M);var K=document.createElement("img");K.id="close_cross";K.style.cursor="pointer";K.style.display="none";K.style.position="absolute";K.style.right="7px";K.style.width="10px";K.style.height="10px";K.style.zIndex="1000";K.style.margin="0";K.style.top="7px";K.style.padding="5px";K.style.border="1px solid #fff";K.style.borderRadius="3px";K.style.boxSizing="content-box";K.style.backgroundColor="rgba(0,0,0,0.6)";K.src=I._path+"/img/widget/close.png";H.parentNode.insertBefore(K,H);K.onclick=function(){G=true;for(var N=0;N<k.length;N++){s(N,false,320,640,5,5)}};L.onclick=function(){I._jw.play(true);I.toggleLayerVisiblePlayer(k.indexOf(I),false);e[k.indexOf(I)]="play";for(var N=0;N<k.length;N++){if(k.indexOf(I)!=N){q(N);if(c[N]){s(N,false,320,640,5,5)}}}if(jwplayer.version.charAt(0)==6){I._jw.callInternal("jwCallVPAID","resumeAd")}}}};this.changeState=function(L,H){var I=k.indexOf(H);var K=k[I];if(typeof K=="undefined"||typeof K._jw=="undefined"){return}if(L=="otplay"){E++;if(E%8==0){e[I]="play";for(var J=0;J<k.length;J++){if(I!=J){q(J);if(c[J]){s(J,false,320,640,5,5)}}}}}else{if(L=="play"||L=="playAd"){e[I]="play";for(var J=0;J<k.length;J++){if(I!=J){q(J);if(c[J]){s(J,false,320,640,5,5)}}}}else{if(L=="pause"||L=="pauseAd"){q(I);s(I,false,320,640,5,5);E=7;if(L=="pauseAd"){e[I]="pauseAd"}}else{if(e[I]!="pauseAd"){if(K._jw.getState()=="PLAYING"||K._jw.getState()=="playing"||K._jw.getState()=="buffer"||K._jw.getState()=="BUFFER"||K._state=="preroll"||K._state=="after_preroll"||K._state=="before_preroll"){e[I]="play";for(var J=0;J<k.length;J++){if(I!=J){q(J);if(c[J]){s(J,false,320,640,5,5)}}}}else{q(I);s(I,false,320,640,5,5);E=7;if(L=="pauseAd"){e[I]="pauseAd"}}}}}}};this.set_in_page_visible_player=function(I){for(var H=0;H<k.length;H++){if(o[H]){k[H].contentWindow.postMessage("in_page_visible_player_"+I?"true":"false","*")}else{k[H].in_page_visible_player=I}}};this.check_play=function(){for(var H=0;H<k.length;H++){if(o[H]){k[H].contentWindow.postMessage("check_play","*")}}};this.resizeDTK=function(I,H,J){if(o[J]){k[J].contentWindow.postMessage("resizeVsync_"+I+"_"+H,"*")}else{k[J].resizeVsync(I,H)}};function q(H){if(!G){if(o[H]){var I=k[H].contentWindow;I.postMessage("pause_","*")}else{k[H]._jw.pause(true);if(k[H]._state=="preroll"){k[H].toggleLayerVisiblePlayer(H,true);e[H]="pauseAd";if(jwplayer.version.charAt(0)==6){k[H]._jw.callInternal("jwCallVPAID","pauseAd")}}}}}if(window.addEventListener){window.addEventListener("message",y,false)}else{window.attachEvent("onmessage",y)}};ultimediaVisiblePlayer=new ultimediaVisiblePlayer();