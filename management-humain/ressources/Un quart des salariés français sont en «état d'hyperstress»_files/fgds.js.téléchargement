"use strict";function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function PromiseCapability(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=_aFunction(t),this.reject=_aFunction(n)}function toDOM(e,t){var n,i,r,o,a,s,d,l,c=e;if(c.tag||(c.tag="div"),r=document.createElement(c.tag),c.attr)for(o in c.attr)c.attr.hasOwnProperty(o)&&r.setAttribute(o,c.attr[o]);if(c.accessor){if(!t)throw new Error("ToDOM-> cannot set accessor without scope.");t[c.accessor]=r}if(c.className&&(r.className=c.className),void 0!==c.innerHTML&&("function"==typeof c.innerHTML?r.innerHTML=c.innerHTML.call(t)||"":r.innerHTML=c.innerHTML),void 0!==c.text&&("function"==typeof c.text?r.innerText=c.text.call(t)||"":r.innerText=c.text),c.events)for(s in c.events)c.events.hasOwnProperty(s)&&(r["on"+s]=c.events[s]);if(c.style)if("string"==typeof c.style)r.setAttribute("style",c.style);else for(d in c.style)c.style.hasOwnProperty(d)&&(r.style[d]=c.style[d]);if(c.children)for(n=0,i=(l=c.children).length;n<i;n++)a=toDOM(l[n],t),r.appendChild(a);return r}function runCallbacks(e){var t;for(t=0;t<e.length;t+=1)e[t](doc)}function callReady(){var e=readyCalls;isPageLoaded&&e.length&&(readyCalls=[],runCallbacks(e))}function pageLoaded(){isPageLoaded||(isPageLoaded=!0,scrollIntervalId&&clearInterval(scrollIntervalId),callReady())}function domReady(e){return isPageLoaded?e(doc):readyCalls.push(e),domReady}function htmlEscape(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function html$1(e){for(var t=e.raw,n="",i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.forEach(function(e,i){var r=t[i];Array.isArray(e)&&(e=e.join("")),r.endsWith("$")&&(e=htmlEscape(e),r=r.slice(0,-1)),n+=r,n+=e}),n+=t[t.length-1]}var figaro={memberId:3273},serverOptions={DRAWER:!0},ias={timeout:1500,pubId:925755,scriptUrl:"https://cdn.adsafeprotected.com/iasPET.1.js"},app_environment="recette",debugURL="http://recette.master.assets.dev.lefigaro.fr/fgds/demo/figads/empty.html",prebidTimeout=3e3,segments=[],defaultPageId="lefigaro_actualite-divers",testPageId="groupe_figaro_test",skyline={memberId:8253,targetIdsToSendToSkyline:["habillage","mban_atf","pave_atf","intrusif","inarticle"],prefix:{invCode:"nxo_",keyValueToPrebid:"nxo_lf_",keyValueToPrimary:"nxo_"},roadblockSignalTag:"pave_atf"},native={title:{required:!0},body:{required:!1,max_length:300},image:{required:!0},icon:{required:!1},sponsoredBy:{required:!0},cta:{required:!0},clickUrl:{required:!0}},error={AD_APN_ERROR:{message:"ad received an adError",level:"notice",id:"AD_APN_ERROR"},SIGNAL_AD_BREAK_SITE:{id:"SIGNAL_AD_BREAK_SITE",level:"alert",message:"ad break site"},SIGNAL_AD_UNACCEPTABLE_ONSITE:{message:"ad is not acceptable on site",level:"alert",id:"SIGNAL_AD_UNACCEPTABLE_ONSITE"},SIGNAL_AD_UNACCEPTABLE_ONPAGE:{message:"ad is not acceptable on page",level:"alert",id:"SIGNAL_AD_UNACCEPTABLE_ONPAGE"},SIGNAL_AD_INVALID:{message:"ad is not displaying correctly",level:"critical",id:"SIGNAL_AD_INVALID"},AD_INVALID_SETUP_PUBLISHER:{message:"ad publisher setup is invalid",level:"error",id:"AD_INVALID_SETUP_PUBLISHER"},AD_INVALID_SETUP_INVCODE:{message:"ad setup (invcode) is wrong",level:"warning",id:"AD_INVALID_SETUP_PUBLISHER"},AD_INVALID_SETUP_FORMAT:{message:"ad format does not exist in config",level:"warning",id:"AD_INVALID_SETUP_FORMAT"},AD_INVALID_SETUP:{message:"ad received an uncatched adBadRequest",level:"warning",id:"AD_INVALID_SETUP"},AD_BLOCKED:{message:"ad was blocked by figads",level:"warning",id:"AD_BLOCKED"},SIGNAL_AD_DEBUG:{message:"ad is flagged for debugging",level:"debug",id:"SIGNAL_AD_DEBUG"},SIGNAL_APN_REQUESTFAILURE:{message:"ad received an adRequestFailure",level:"debug",id:"SIGNAL_APN_REQUESTFAILURE"}},figads_config={figaro:figaro,serverOptions:serverOptions,ias:ias,app_environment:app_environment,debugURL:debugURL,prebidTimeout:prebidTimeout,segments:segments,defaultPageId:defaultPageId,testPageId:testPageId,skyline:skyline,native:native,error:error},figads_config$1=Object.freeze({figaro:figaro,serverOptions:serverOptions,ias:ias,app_environment:app_environment,debugURL:debugURL,prebidTimeout:prebidTimeout,segments:segments,defaultPageId:defaultPageId,testPageId:testPageId,skyline:skyline,native:native,error:error,default:figads_config}),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))};!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n=window.pbjsChunk;window.pbjsChunk=function(i,o,a){for(var s,d,l,c=0,u=[];c<i.length;c++)d=i[c],r[d]&&u.push(r[d][0]),r[d]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(n&&n(i,o,a);u.length;)u.shift()();if(a)for(c=0;c<a.length;c++)l=t(t.s=a[c]);return l};var i={},r={85:0};t.e=function(e){if(0===r[e])return callback.call(null,t);console.error("webpack chunk not found and jsonp disabled")},t.m=e,t.c=i,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=213)}([function(e,t,n){function i(){return m()+Math.random().toString(16).substr(2)}function r(e){if(t.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function o(){return window.console&&window.console.log}function a(e,t,n){return n.indexOf(e)===t}function s(e,t){return e.concat(t)}function d(e){return Object.keys(e)}function l(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)};t.parseSizesInput=function(e){var t=[];if((void 0===e?"undefined":c(e))===p){var n=e.split(","),i=/^(\d)+x(\d)+$/i;if(n)for(var o in n)T(n,o)&&n[o].match(i)&&t.push(n[o])}else if((void 0===e?"undefined":c(e))===f){var a=e.length;if(a>0)if(2===a&&c(e[0])===h&&c(e[1])===h)t.push(r(e));else for(var s=0;s<a;s++)t.push(r(e[s]))}return t},t.parseGPTSingleSizeArray=r,t.uniques=a,t.flatten=s,t.getBidRequest=function(e){return pbjs._bidsRequested.map(function(t){return t.bids.find(function(t){return t.bidId===e})}).find(function(e){return e})},t.getKeys=d,t.getValue=l,t.getBidderCodes=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(s,[])}).reduce(s).filter(a)},t.isGptPubadsDefined=function(){if(window.googletag&&t.isFn(window.googletag.pubads)&&t.isFn(window.googletag.pubads().getSlots))return!0},t.getHighestCpm=function(e,t){return e.cpm===t.cpm?e.timeToRespond>t.timeToRespond?t:e:e.cpm<t.cpm?t:e},t.shuffle=function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),i=e[--t];e[t]=e[n],e[n]=i}return e},t.adUnitsFilter=function(e,t){return e.includes(t&&t.placementCode||t&&t.adUnitCode)},t.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},t.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},t.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.getBidderRequestAllAdUnits=function(e){return pbjs._bidsRequested.find(function(t){return t.bidderCode===e})},t.getBidderRequest=function(e,t){return pbjs._bidsRequested.find(function(n){return n.bids.filter(function(n){return n.bidder===e&&n.placementCode===t}).length>0})||{start:null,requestId:null}};var u=n(4),f="object",p="string",h="number",g=!1,v=Object.prototype.toString,_=null;try{_=console.info.bind(window.console)}catch(e){}t.replaceTokenInString=function(e,t,n){return this._each(t,function(t,i){t=void 0===t?"":t;var r=n+i.toUpperCase()+n,o=new RegExp(r,"g");e=e.replace(o,t)}),e};var m=function(){var e=0;return function(){return++e}}();t.getUniqueIdentifierStr=i,t.generateUUID=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,n){return n?e+=t+"="+encodeURIComponent(n)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?d(e).map(function(t){return t+"="+encodeURIComponent(l(e,t))}).join("&"):""},t.getTopWindowLocation=function(){var e=void 0;try{e=window.top.location}catch(t){e=window.location}return e},t.getTopWindowUrl=function(){var e=void 0;try{e=this.getTopWindowLocation().href}catch(t){e=""}return e},t.logWarn=function(e){y()&&console.warn&&console.warn("WARNING: "+e)},t.logInfo=function(e,t){y()&&o()&&_&&(t&&0!==t.length||(t=""),_("INFO: "+e+(""===t?"":" : params : "),t))},t.logMessage=function(e){y()&&o()&&console.log("MESSAGE: "+e)},t.hasConsoleLogger=o;var b=o()?window.console.error?"error":"log":"",y=function(){return!1===pbjs.logging&&!1===g&&(pbjs.logging="TRUE"===w(u.DEBUG_MODE).toUpperCase(),g=!0),!!pbjs.logging};t.debugTurnedOn=y,t.logError=function(e,t,n){var i=t||"ERROR";y()&&o()&&console[b](console,i+": "+e,n||"")},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=i(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var w=function(e){var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t).exec(window.location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))};t.hasValidBidRequest=function(e,t,n){for(var i=!1,r=0;r<t.length;r++)if(i=!1,this._each(e,function(e,n){n===t[r]&&(i=!0)}),!i)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+t,n),!1;return!0},t.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},t.isA=function(e,t){return v.call(e)==="[object "+t+"]"},t.isFn=function(e){return this.isA(e,"Function")},t.isStr=function(e){return this.isA(e,"String")},t.isArray=function(e){return this.isA(e,"Array")},t.isNumber=function(e){return this.isA(e,"Number")},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},t.isEmptyStr=function(e){return this.isStr(e)&&(!e||0===e.length)},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t,this);var n=0,i=e.length;if(i>0)for(;n<i;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}},t.contains=function(e,t){if(this.isEmpty(e))return!1;if(this.isFn(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},t.indexOf=function(){if(Array.prototype.indexOf)return Array.prototype.indexOf}(),t._map=function(e,t){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(t);var n=[];return this._each(e,function(i,r){n.push(t(i,r,e))}),n};var T=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]};t.insertElement=function(e,t,n){t=t||document;var i=void 0;i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{(i=i.length?i:t.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(e,i.firstChild)}catch(e){}},t.insertPixel=function(e){var n=new Image;n.id=i(),n.src=e,n.height=0,n.width=0,n.style.display="none",n.onload=function(){try{this.parentNode.removeChild(this)}catch(e){}},t.insertElement(n)},t.insertCookieSyncIframe=function(e,n){var i=this.createTrackPixelIframeHtml(e,n),r=document.createElement("div");r.innerHTML=i;var o=r.firstChild;t.insertElement(o)},t.createTrackPixelHtml=function(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'},t.createTrackPixelIframeHtml=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?(t&&(e=encodeURI(e)),'<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no" src="'+e+'"></iframe>'):""},t.getIframeDocument=function(e){if(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){this.logError("Cannot get iframe document",e)}return t}},t.getValueString=function(e,t,n){return void 0===t||null===t?n:this.isStr(t)?t:this.isNumber(t)?t.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")}},function(e,t,n){function i(e){var t=e.bidderCode,n=e.requestId,i=e.bidderRequestId;return e.adUnits.map(function(e){return e.bids.filter(function(e){return e.bidder===t}).map(function(t){var r=e.sizes;if(e.sizeMapping){var o=(0,d.mapSizes)(e);if(""===o)return"";r=o}return e.nativeParams&&(t=a({},t,{nativeParams:(0,l.processNativeAdUnitParams)(e.nativeParams)})),a({},t,{placementCode:e.code,mediaType:e.mediaType,renderer:e.renderer,transactionId:e.transactionId,sizes:r,bidId:t.bid_id||c.getUniqueIdentifierStr(),bidderRequestId:i,requestId:n})})}).reduce(s.flatten,[]).filter(function(e){return""!==e})}function r(e){var t=[];return c.parseSizesInput(e.sizes).forEach(function(e){var n=e.split("x"),i={w:parseInt(n[0]),h:parseInt(n[1])};t.push(i)}),t}var o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(0),d=n(43),l=n(12),c=n(0),u=n(4),f=n(8),p={};t.bidderRegistry=p;var h={endpoint:u.S2S.DEFAULT_ENDPOINT,adapter:u.S2S.ADAPTER,syncEndpoint:u.S2S.SYNC_ENDPOINT},g={},v=null;t.callBids=function(e){var t=e.adUnits,n=e.cbTimeout,o=c.generateUUID(),a=Date.now(),l={timestamp:a,requestId:o,timeout:n};f.emit(u.EVENTS.AUCTION_INIT,l);var g=(0,s.getBidderCodes)(t);v===u.ORDER.RANDOM&&(g=(0,s.shuffle)(g));var _=p[h.adapter];if(_&&(_.setConfig(h),_.queueSync({bidderCodes:g})),h.enabled){var m=h.bidders;g=g.filter(function(e){return!m.includes(e)});var b=c.cloneJson(t);b.forEach(function(e){e.sizeMapping&&(e.sizes=(0,d.mapSizes)(e),delete e.sizeMapping),e.sizes=r(e),e.bids=e.bids.filter(function(e){return m.includes(e.bidder)}).map(function(e){return e.bid_id=c.getUniqueIdentifierStr(),e})}),b=b.filter(function(e){return 0!==e.bids.length});var y=c.generateUUID();m.forEach(function(e){var t=c.getUniqueIdentifierStr(),n={bidderCode:e,requestId:o,bidderRequestId:t,tid:y,bids:i({bidderCode:e,requestId:o,bidderRequestId:t,adUnits:b}),start:(new Date).getTime(),auctionStart:a,timeout:h.timeout,src:u.S2S.SRC};0!==n.bids.length&&pbjs._bidsRequested.push(n)});var w={tid:y,ad_units:b};c.logMessage("CALLING S2S HEADER BIDDERS ==== "+m.join(",")),_.callBids(w)}g.forEach(function(e){var r=p[e];if(r){var s=c.getUniqueIdentifierStr(),d={bidderCode:e,requestId:o,bidderRequestId:s,bids:i({bidderCode:e,requestId:o,bidderRequestId:s,adUnits:t}),start:(new Date).getTime(),auctionStart:a,timeout:n};d.bids&&0!==d.bids.length&&(c.logMessage("CALLING BIDDER ======= "+e),pbjs._bidsRequested.push(d),f.emit(u.EVENTS.BID_REQUESTED,d),r.callBids(d))}else c.logError("Adapter trying to be called which does not exist: "+e+" adaptermanager.callBids")})},t.videoAdapters=[],t.registerBidAdapter=function(e,n){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===i?[]:i;e&&n?o(e.callBids)===u.objectType_function?(p[n]=e,r.includes("video")&&t.videoAdapters.push(n),r.includes("native")&&l.nativeAdapters.push(n)):c.logError("Bidder adaptor error for bidder code: "+n+"bidder must implement a callBids() function"):c.logError("bidAdaptor or bidderCode not specified")},t.aliasBidAdapter=function(e,t){var n=p[t];if((void 0===n?"undefined":o(n))===u.objectType_undefined){var i=p[e];if((void 0===i?"undefined":o(i))===u.objectType_undefined)c.logError('bidderCode "'+e+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var r=null;(r=i.createNew()).setBidderCode(t),this.registerBidAdapter(r,t)}catch(t){c.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else c.logMessage('alias name "'+t+'" has been already specified.')},t.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?o(t.enableAnalytics)===u.objectType_function?(t.code=n,g[n]=t):c.logError('Prebid Error: Analytics adaptor error for analytics "'+n+'"\n        analytics adapter must implement an enableAnalytics() function'):c.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},t.enableAnalytics=function(e){c.isArray(e)||(e=[e]),c._each(e,function(e){var t=g[e.provider];t?t.enableAnalytics(e):c.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")})},t.setBidderSequence=function(e){v=e},t.setS2SConfig=function(e){h=e}},function(e,t,n){function i(){return(new Date).getTime()}function r(e){return e.bidderCode}function o(e){return e.bidder}function a(e){var t=this;return pbjs._bidsRequested.map(function(n){return n.bids.filter(m.adUnitsFilter.bind(t,pbjs._adUnitCodes)).filter(function(t){return t.placementCode===e})}).reduce(m.flatten,[]).map(function(e){return"indexExchange"===e.bidder?e.sizes.length:1}).reduce(s,0)===pbjs._bidsReceived.filter(function(t){return t.adUnitCode===e}).length}function s(e,t){return e+t}function d(){return pbjs._bidsRequested.map(function(e){return e.bids}).reduce(m.flatten,[]).filter(m.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map(function(e){return"indexExchange"===e.bidder?e.sizes.length:1}).reduce(function(e,t){return e+t},0)===pbjs._bidsReceived.filter(m.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length}function l(e,t){var n={},i=pbjs.bidderSettings;if(t&&i){var r=g();c(n,r,t)}return e&&t&&i&&i[e]&&i[e][k.JSON_MAPPING.ADSERVER_TARGETING]?(c(n,i[e],t),t.alwaysUseBid=i[e].alwaysUseBid,t.sendStandardTargeting=i[e].sendStandardTargeting):N[e]&&(c(n,N[e],t),t.alwaysUseBid=N[e].alwaysUseBid,t.sendStandardTargeting=N[e].sendStandardTargeting),t.native&&Object.keys(t.native).forEach(function(e){var i=y.NATIVE_KEYS[e],r=t.native[e];i&&(n[i]=r)}),n}function c(e,t,n){var i=t[k.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),E._each(i,function(i){var r=i.key,o=i.val;if(e[r]&&E.logWarn("The key: "+r+" is getting ovewritten"),E.isFn(o))try{o=o(n)}catch(e){E.logError("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&"hb_deal"!==r||!E.isEmptyStr(o)&&null!==o&&void 0!==o?e[r]=o:E.logInfo("suppressing empty key '"+r+"' from adserver targeting")}),e}function u(e){var t=[e];f(O.byAdUnit,t)}function f(e,t){var n=this;E.isArray(e)&&e.forEach(function(e){var i=t||pbjs._adUnitCodes,r=[pbjs._bidsReceived.filter(m.adUnitsFilter.bind(n,i)).reduce(p,{})];e.apply(pbjs,r)})}function p(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function h(e){var t=e.bidderCode,n=e.cpm;if(t&&pbjs.bidderSettings&&pbjs.bidderSettings[t]&&v(pbjs.bidderSettings[t].bidCpmAdjustment)===A)try{n=pbjs.bidderSettings[t].bidCpmAdjustment.call(null,e.cpm,_({},e))}catch(e){E.logError("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}function g(){var e=pbjs.bidderSettings;return e[k.JSON_MAPPING.BD_SETTING_STANDARD]||(e[k.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return x===k.GRANULARITY_OPTIONS.AUTO?e.pbAg:x===k.GRANULARITY_OPTIONS.DENSE?e.pbDg:x===k.GRANULARITY_OPTIONS.LOW?e.pbLg:x===k.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:x===k.GRANULARITY_OPTIONS.HIGH?e.pbHg:x===k.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}}]}),e[k.JSON_MAPPING.BD_SETTING_STANDARD]}var v="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m=n(0),b=n(24),y=n(12),w=n(42),T=n(16),k=n(4),I=k.EVENTS.AUCTION_END,E=n(0),S=n(8),A="function",O={byAdUnit:[],all:[],oneTime:null,timer:!1},x=k.GRANULARITY_OPTIONS.MEDIUM,C=void 0,N={};t.setCustomPriceBucket=function(e){C=e},t.getTimedOutBidders=function(){return pbjs._bidsRequested.map(r).filter(m.uniques).filter(function(e){return pbjs._bidsReceived.map(o).filter(m.uniques).indexOf(e)<0})},t.bidsBackAll=function(){return d()},t.addBidResponse=function(e,n){function r(){n.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer&&t.executeCallback(!0)}function o(){S.emit(k.EVENTS.BID_RESPONSE,n),pbjs._bidsReceived.push(n),n.adUnitCode&&a(n.adUnitCode)&&u(n.adUnitCode),d()&&t.executeCallback()}(function(){function t(e){return"Invalid bid from "+n.bidderCode+". Ignoring bid: "+e}return e?n?"native"!==n.mediaType||(0,y.nativeBidIsValid)(n)?!("video"===n.mediaType&&!n.vastUrl&&(E.logError(t("Video bid does not have required vastUrl property.")),1)):(E.logError(t("Native bid missing some required properties.")),!1):(E.logWarn("Some adapter tried to add an undefined bid for "+e+"."),!1):(E.logWarn("No adUnitCode was supplied to addBidResponse."),!1)})()&&(function(){var t=(0,m.getBidderRequest)(n.bidderCode,e);_(n,{requestId:t.requestId,responseTimestamp:i(),requestTimestamp:t.start,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:e}),n.timeToRespond=n.responseTimestamp-n.requestTimestamp,S.emit(k.EVENTS.BID_ADJUSTMENT,n);var r=t.bids&&t.bids[0]&&t.bids[0].renderer;r&&(n.renderer=T.Renderer.install({url:r.url}),n.renderer.setRender(r.render));var o=(0,b.getPriceBucketString)(n.cpm,C);n.pbLg=o.low,n.pbMg=o.med,n.pbHg=o.high,n.pbAg=o.auto,n.pbDg=o.dense,n.pbCg=o.custom;var a={};n.bidderCode&&(n.cpm>0||n.dealId)&&(a=l(n.bidderCode,n)),n.adserverTargeting=a}(),"video"===n.mediaType?function(e){(0,w.store)([e],function(t,n){t?E.logWarn("Failed to save to the video cache: "+t+". Video bid must be discarded."):(e.videoCacheKey=n[0].uuid,o()),r()})}(n):(r(),o()))},t.getKeyValueTargetingPairs=function(){return l.apply(void 0,arguments)},t.setPriceGranularity=function(e){var t=k.GRANULARITY_OPTIONS;Object.keys(t).filter(function(n){return e===t[n]})?x=e:(E.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default."),x=k.GRANULARITY_OPTIONS.MEDIUM)},t.registerDefaultBidderSetting=function(e,t){N[e]=t},t.executeCallback=function(e){if(!e&&O.timer&&clearTimeout(O.timer),!0!==O.all.called&&(f(O.all),O.all.called=!0,e)){var n=t.getTimedOutBidders();n.length&&S.emit(k.EVENTS.BID_TIMEOUT,n)}if(O.oneTime){S.emit(I);try{f([O.oneTime])}catch(e){E.logError("Error executing bidsBackHandler",null,e)}finally{O.oneTime=null,O.timer=!1,pbjs.clearAuction()}}},t.externalCallbackReset=function(){O.all.called=!1},t.addOneTimeCallback=function(e,t){O.oneTime=e,O.timer=t},t.addCallback=function(e,t,n){t.id=e,k.CB.TYPE.ALL_BIDS_BACK===n?O.all.push(t):k.CB.TYPE.AD_UNIT_BIDS_BACK===n&&O.byAdUnit.push(t)},S.on(k.EVENTS.BID_ADJUSTMENT,function(e){h(e)}),t.adjustBids=function(){return h.apply(void 0,arguments)},t.getStandardBidderAdServerTargeting=function(){return g()[k.JSON_MAPPING.ADSERVER_TARGETING]}},function(e,t,n){function i(e,t){var n=t&&t.bidId||r.getUniqueIdentifierStr(),i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=n,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}var r=n(0);t.createBid=function(){return new(Function.prototype.bind.apply(i,[null].concat(Array.prototype.slice.call(arguments))))}},function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.26.1",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},ORDER:{RANDOM:"random"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal"],S2S:{DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/auction",SRC:"s2s",ADAPTER:"prebidServer",SYNC_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/cookie_sync"}}},function(e,t,n){function i(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e;var i=document.getElementsByTagName("head");(i=i.length?i:document.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(n,i.firstChild)}var r=n(0),o={};t.loadScript=function(e,t,n){e?n?o[e]?t&&"function"==typeof t&&(o[e].loaded?t():o[e].callbacks.push(t)):(o[e]={loaded:!1,callbacks:[]},t&&"function"==typeof t&&o[e].callbacks.push(t),i(e,function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(e){r.logError("Error executing callback","adloader.js:loadScript",e)}})):i(e,t):r.logError("Error attempting to request empty URL","adloader.js:loadScript")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)};t.setAjaxTimeout=function(e){d=e},t.ajax=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var c=void 0,u=!1,f=l.method||(n?"POST":"GET"),p="object"===(void 0===t?"undefined":r(t))?t:{success:function(){a.logMessage("xhr success")},error:function(e){a.logError("xhr error",null,e)}};if("function"==typeof t&&(p.success=t),window.XMLHttpRequest?void 0===(c=new window.XMLHttpRequest).responseType&&(u=!0):u=!0,u?((c=new window.XDomainRequest).onload=function(){p.success(c.responseText,c)},c.onerror=function(){p.error("error",c)},c.ontimeout=function(){p.error("timeout",c)},c.onprogress=function(){a.logMessage("xhr onprogress")}):c.onreadystatechange=function(){if(c.readyState===s){var e=c.status;e>=200&&e<300||304===e?p.success(c.responseText,c):p.error(c.statusText,c)}},"GET"===f&&n){var h=(0,o.parse)(e);i(h.search,n),e=(0,o.format)(h)}c.open(f,e),c.timeout=d,u||(l.withCredentials&&(c.withCredentials=!0),a._each(l.customHeaders,function(e,t){c.setRequestHeader(t,e)}),l.preflight&&c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type",l.contentType||"text/plain")),c.send("POST"===f&&n)}catch(e){a.logError("xhr construction",e)}};var o=n(10),a=n(0),s=4,d=3e3},function(e,t,n){function i(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}t.createNew=function(e){return new i(e)}},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=n(4),a=Array.prototype.slice,s=Array.prototype.push,d=r._map(o.EVENTS,function(e){return e}),l=o.EVENT_ID_PATHS,c=[];e.exports=function(){function e(e,t){r.logMessage("Emitting event for: "+e);var i=t[0]||{},o=i[l[e]],a=n[e]||{que:[]},d=r._map(a,function(e,t){return t}),u=[];c.push({eventType:e,args:i,id:o}),o&&r.contains(d,o)&&s.apply(u,a[o].que),s.apply(u,a.que),r._each(u,function(e){if(e)try{e.apply(null,t)}catch(e){r.logError("Error executing handler:","events.js",e)}})}function t(e){return r.contains(d,e)}var n={},o={};return o.on=function(e,i,o){if(t(e)){var a=n[e]||{que:[]};o?(a[o]=a[o]||{que:[]},a[o].que.push(i)):a.que.push(i),n[e]=a}else r.logError("Wrong event name : "+e+" Valid event names :"+d)},o.emit=function(t){e(t,a.call(arguments,1))},o.off=function(e,t,i){var o=n[e];r.isEmpty(o)||r.isEmpty(o.que)&&r.isEmpty(o[i])||i&&(r.isEmpty(o[i])||r.isEmpty(o[i].que))||(i?r._each(o[i].que,function(e){var n=o[i].que;e===t&&n.splice(r.indexOf.call(n,e),1)}):r._each(o.que,function(e){var n=o.que;e===t&&n.splice(r.indexOf.call(n,e),1)}),n[e]=o)},o.get=function(){return n},o.getEvents=function(){var e=[];return r._each(c,function(t){var n=i({},t);e.push(n)}),e},o}()},,function(e,t,n){function i(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),i=o(n,2),r=i[0],a=i[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(a)):e[r]=a||"",e},{}):{}}function r(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.parseQS=i,t.formatQS=r,t.parse=function(e){var t=document.createElement("a");return t.href=decodeURIComponent(e),{protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname.replace(/^(?!\/)/,"/"),search:i(t.search||""),hash:(t.hash||"").replace(/^#/,""),host:t.host}},t.format=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+r(e.search||""):"")+(e.hash?"#"+e.hash:"")}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){function i(e){return!(!e||!Object.keys(s).includes(e))||((0,r.logError)(e+" nativeParam is not supported"),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.NATIVE_KEYS=t.nativeAdapters=void 0,t.processNativeAdUnitParams=function(e){return e&&e.type&&i(e.type)?s[e.type]:e},t.nativeBidIsValid=function(e){var t=(0,r.getBidRequest)(e.adId);if(!t)return!1;var n=t.nativeParams;if(!n)return!0;var i=Object.keys(n).filter(function(e){return n[e].required}),o=Object.keys(e.native).filter(function(t){return e.native[t]});return i.every(function(e){return o.includes(e)})},t.fireNativeImpressions=function(e){(e.native&&e.native.impressionTrackers||[]).forEach(function(e){(0,r.insertPixel)(e)})};var r=n(0),o=t.nativeAdapters=[],a=t.NATIVE_KEYS={title:"hb_native_title",body:"hb_native_body",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl"},s=(t.NATIVE_TARGETING_KEYS=Object.keys(a).map(function(e){return a[e]}),{image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}}),d=(t.nativeAdUnit=function(e){return"native"===e.mediaType},t.nativeBidder=function(e){return o.includes(e.bidder)});t.hasNonNativeBidder=function(e){return e.bids.filter(function(e){return!d(e)}).length}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(13),r=n(11),o=n(18),a=n(225),s=n(29),d=function e(t,n,d){var l,c,u,f,p=t&e.F,h=t&e.G,g=t&e.S,v=t&e.P,_=t&e.B,m=h?i:g?i[n]||(i[n]={}):(i[n]||{}).prototype,b=h?r:r[n]||(r[n]={}),y=b.prototype||(b.prototype={});h&&(d=n);for(l in d)u=((c=!p&&m&&void 0!==m[l])?m:d)[l],f=_&&c?s(u,i):v&&"function"==typeof u?s(Function.call,u):u,m&&a(m,l,u,t&e.U),b[l]!=u&&o(b,l,f),v&&y[l]!=u&&(y[l]=u)};i.core=r,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t){e.exports=function(e){return"object"==(void 0===e?"undefined":_typeof(e))?null!==e:"function"==typeof e}},function(e,t,n){function i(e){var t=this,n=e.url,i=e.config,a=e.id,s=e.callback,d=e.loaded;this.url=n,this.config=i,this.handlers={},this.id=a,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):o.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||function(){t.loaded=!0,t.process()},(0,r.loadScript)(n,this.callback,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=i;var r=n(5),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},i.prototype.getConfig=function(){return this.config},i.prototype.setRender=function(e){this.render=e},i.prototype.setEventHandlers=function(e){this.handlers=e},i.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),o.logMessage("Prebid Renderer event for id "+t+" type "+n)},i.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){o.logError("Error processing Renderer command: ",e)}}},function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return"string"==typeof e?[e]:p.isArray(e)?e:pbjs._adUnitCodes||[]}function o(e){var t=g.getWinningBids(e),n=a();return t=t.map(function(e){return i({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===n.indexOf(t)}).map(function(t){return i({},t.substring(0,20),[e.adserverTargeting[t]])}))})}function a(){return f.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(h.TARGETING_KEYS).filter(c.uniques)}function s(e){var t=a();return pbjs._bidsReceived.filter(c.adUnitsFilter.bind(this,e)).map(function(e){if(e.alwaysUseBid)return i({},e.adUnitCode,Object.keys(e.adserverTargeting).map(function(n){if(!(t.indexOf(n)>-1))return i({},n.substring(0,20),[e.adserverTargeting[n]])}).filter(function(e){return e}))}).filter(function(e){return e})}function d(e){var t=h.TARGETING_KEYS.concat(u.NATIVE_TARGETING_KEYS);return pbjs._bidsReceived.filter(c.adUnitsFilter.bind(this,e)).map(function(e){if(e.adserverTargeting)return i({},e.adUnitCode,l(e,t.filter(function(t){return void 0!==e.adserverTargeting[t]})))}).filter(function(e){return e})}function l(e,t){return t.map(function(t){return i({},(t+"_"+e.bidderCode).substring(0,20),[e.adserverTargeting[t]])})}var c=n(0),u=n(12),f=n(2),p=n(0),h=n(4),g=t,v=[];g.resetPresetTargeting=function(e){if((0,c.isGptPubadsDefined)()){var t=r(e),n=pbjs.adUnits.filter(function(e){return t.includes(e.code)});window.googletag.pubads().getSlots().forEach(function(e){v.forEach(function(t){n.forEach(function(n){n.code!==e.getAdUnitPath()&&n.code!==e.getSlotElementId()||e.setTargeting(t,null)})})})}},g.getAllTargeting=function(e){var t=r(e),n=o(t).concat(s(t)).concat(pbjs._sendAllBids?d(t):[]);return n.map(function(e){Object.keys(e).map(function(t){e[t].map(function(e){-1===v.indexOf(Object.keys(e)[0])&&(v=Object.keys(e).concat(v))})})}),n},g.setTargeting=function(e){window.googletag.pubads().getSlots().forEach(function(t){e.filter(function(e){return Object.keys(e)[0]===t.getAdUnitPath()||Object.keys(e)[0]===t.getSlotElementId()}).forEach(function(e){return e[Object.keys(e)[0]].forEach(function(e){e[Object.keys(e)[0]].map(function(n){return p.logMessage("Attempting to set key value for slot: "+t.getSlotElementId()+" key: "+Object.keys(e)[0]+" value: "+n),n}).forEach(function(n){t.setTargeting(Object.keys(e)[0],n)})})})})},g.getWinningBids=function(e){var t=r(e);return pbjs._bidsReceived.filter(function(e){return t.includes(e.adUnitCode)}).filter(function(e){return e.cpm>0}).map(function(e){return e.adUnitCode}).filter(c.uniques).map(function(e){return pbjs._bidsReceived.filter(function(t){return t.adUnitCode===e?t:null}).reduce(c.getHighestCpm,{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0})})},g.setTargetingForAst=function(){var e=pbjs.getAdserverTargeting();Object.keys(e).forEach(function(t){return Object.keys(e[t]).forEach(function(n){if(p.logMessage("Attempting to set targeting for targetId: "+t+" key: "+n+" value: "+e[t][n]),p.isStr(e[t][n])||p.isArray(e[t][n])){var i={};i["hb_adid"===n.substring(0,"hb_adid".length)?n.toUpperCase():n]=e[t][n],window.apntag.setKeywords(t,i)}})})},g.isApntagDefined=function(){if(window.apntag&&p.isFn(window.apntag.setKeywords))return!0}},function(e,t,n){var i=n(219),r=n(224);e.exports=n(19)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(36)("unscopables"),r=Array.prototype;void 0==r[i]&&n(18)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t,n){function i(e,t){var n="";if(!r(t))return n;var i=t.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),s=t.buckets.find(function(t){if(e>i.max){var r=t.precision||a;n=t.max.toFixed(r)}else if(e<=t.max&&e>=t.min)return t});return s&&(n=o(e,s.increment,s.precision)),n}function r(e){if(!e||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){void 0!==e.min&&e.max&&e.increment||(t=!1)}),t}function o(e,t,n){n||(n=a);var i=1/t;return(Math.floor(e*i)/i).toFixed(n)}Object.defineProperty(t,"__esModule",{value:!0});var a=2,s={buckets:[{min:0,max:5,increment:.5}]},d={buckets:[{min:0,max:20,increment:.1}]},l={buckets:[{min:0,max:20,increment:.01}]},c={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},u={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};t.getPriceBucketString=function(e,t){var n=0;return n=parseFloat(e),isNaN(n)&&(n=""),{low:""===n?"":i(e,s),med:""===n?"":i(e,d),high:""===n?"":i(e,l),auto:""===n?"":i(e,u),dense:""===n?"":i(e,c),custom:""===n?"":i(e,t)}},t.isValidePriceConfig=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(n=window)}e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]},function(e,t,n){function i(){s.forEach(function(e){r.logMessage("Invoking cookie sync for bidder: "+e.bidder),"iframe"===e.type?r.insertCookieSyncIframe(e.url,!1):r.insertPixel(e.url)}),s.length=0}var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=t,s=[];a.queueSync=function(e){var t=e.bidder,n=e.url,i=e.type;s.push({bidder:t,url:n,type:i})},a.syncCookies=function(e){e?setTimeout(i,e):i()},a.cookieSet=function(e){r.isSafariBrowser()&&o.default.loadScript(e,null,!0)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(226);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(29),r=n(22),o=n(32),a=n(34),s=n(227);e.exports=function(e,t){var n=1==e,d=2==e,l=3==e,c=4==e,u=6==e,f=5==e||u,p=t||s;return function(t,s,h){for(var g,v,_=o(t),m=r(_),b=i(s,h,3),y=a(m.length),w=0,T=n?p(t,y):d?p(t,0):void 0;y>w;w++)if((f||w in m)&&(g=m[w],v=b(g,w,_),e))if(n)T[w]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:T.push(g)}else if(c)return!1;return u?-1:l||c?c:T}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(33);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(35),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(37)("wks"),r=n(21),o=n(13).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){var i=n(13),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(39),r=n(34),o=n(234);e.exports=function(e){return function(t,n,a){var s,d=i(t),l=r(d.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=d[c++])!=s)return!0}else for(;l>c;c++)if((e||c in d)&&d[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(22),r=n(33);e.exports=function(e){return i(r(e))}},,,function(e,t,n){function i(e){return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+e+"]]></VASTAdTagURI>\n        <Impression></Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"}function r(e){return{type:"xml",value:i(e.vastUrl)}}function o(e){return{success:function(t){var n=void 0;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}e(null,n)},error:function(t,n){e(new Error("Error storing video ad in the cache: "+t+": "+JSON.stringify(n)),[])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t){var n={puts:e.map(r)};(0,a.ajax)(s,o(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})};var a=n(6),s="https://prebid.adnxs.com/pbc/v1/cache"},function(e,t,n){function i(e){return!!(o.isArray(e)&&e.length>0)||(o.logInfo("No size mapping defined"),!1)}function r(e){var t=e||a||window,n=t.document;return t.innerWidth?t.innerWidth:n.body.clientWidth?n.body.clientWidth:n.documentElement.clientWidth?n.documentElement.clientWidth:0}Object.defineProperty(t,"__esModule",{value:!0}),t.setWindow=t.getScreenWidth=t.mapSizes=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=void 0;t.mapSizes=function(e){if(!i(e.sizeMapping))return e.sizes;var t=r();if(!t){var n=e.sizeMapping.reduce(function(e,t){return e.minWidth<t.minWidth?t:e});return n.sizes&&n.sizes.length?n.sizes:e.sizes}var a="",s=e.sizeMapping.find(function(e){return t>e.minWidth});return s&&s.sizes&&s.sizes.length?(a=s.sizes,o.logMessage("AdUnit : "+e.code+" resized based on device width to : "+a)):o.logMessage("AdUnit : "+e.code+" not mapped to any sizes for device width. This request will be suppressed."),a},t.getScreenWidth=r,t.setWindow=function(e){a=e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(214)},function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){b._bidsRequested=[],b._bidsReceived=b._bidsReceived.filter(function(e){return!b._adUnitCodes.includes(e.adUnitCode)})}function o(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function a(e){e.forEach(function(e){if(s(e.called)===O)try{e.call(),e.called=!0}catch(e){w.logError("Error processing command :","prebid.js",e)}})}var s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=n(26),c=n(0),u=n(215),f=n(12);n(216);var p=n(10),h=n(24),g=n(244),v=n(27),_=n(5),m=n(6),b=(0,l.getGlobal)(),y=n(4),w=n(0),T=n(2),k=n(1),I=n(3),E=n(8),S=n(245),A=n(17),O="undefined",x=y.EVENTS.BID_WON,C=y.EVENTS.SET_TARGETING,N=!1,R=[],P={bidWon:function(e){var t=b._bidsRequested.map(function(e){return e.bids.map(function(e){return e.placementCode})}).reduce(c.flatten).filter(c.uniques);if(w.contains(t,e))return!0;w.logError('The "'+e+'" placement is not defined.')}};b._bidsRequested=[],b._bidsReceived=[],b._adUnitCodes=[],b._winningBids=[],b._adsReceived=[],b._sendAllBids=!1,b.bidderSettings=b.bidderSettings||{},b.bidderTimeout=b.bidderTimeout||3e3,b.cbTimeout=b.cbTimeout||200,b.timeoutBuffer=200,b.logging=b.logging||!1,b.publisherDomain=b.publisherDomain||window.location.origin,b.libLoaded=!0,b.version="v0.26.1",w.logInfo("Prebid.js v0.26.1 loaded"),b.adUnits=b.adUnits||[],b.cookieSyncDelay=b.cookieSyncDelay||100,b.getAdserverTargetingForAdUnitCodeStr=function(e){if(w.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=b.getAdserverTargetingForAdUnitCode(e);return w.transformAdServerTargetingObj(t)}w.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},b.getAdserverTargetingForAdUnitCode=function(e){return b.getAdserverTargeting(e)[e]},b.getAdserverTargeting=function(e){return w.logInfo("Invoking pbjs.getAdserverTargeting",arguments),A.getAllTargeting(e).map(function(e){return i({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return i({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return d(t,e)},{}))}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=d({},e[n],t[n]),e},{})},b.getBidResponses=function(){w.logInfo("Invoking pbjs.getBidResponses",arguments);var e=b._bidsReceived.filter(c.adUnitsFilter.bind(this,b._adUnitCodes)),t=e&&e.length&&e[e.length-1].requestId;return e.map(function(e){return e.adUnitCode}).filter(c.uniques).map(function(n){return e.filter(function(e){return e.requestId===t&&e.adUnitCode===n})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return i({},e[0].adUnitCode,{bids:e})}).reduce(function(e,t){return d(e,t)},{})},b.getBidResponsesForAdUnitCode=function(e){return{bids:b._bidsReceived.filter(function(t){return t.adUnitCode===e})}},b.setTargetingForGPTAsync=function(e){if(w.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,c.isGptPubadsDefined)()){var t=A.getAllTargeting(e);A.resetPresetTargeting(e),A.setTargeting(t),E.emit(C)}else w.logError("window.googletag is not defined on the page")},b.setTargetingForAst=function(){w.logInfo("Invoking pbjs.setTargetingForAn",arguments),A.isApntagDefined()?(A.setTargetingForAst(),E.emit(C)):w.logError("window.apntag is not defined on the page")},b.allBidsAvailable=function(){return w.logInfo("Invoking pbjs.allBidsAvailable",arguments),T.bidsBackAll()},b.renderAd=function(e,t){if(w.logInfo("Invoking pbjs.renderAd",arguments),w.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=b._bidsReceived.find(function(e){return e.adId===t});if(n){n.ad=w.replaceAuctionPrice(n.ad,n.cpm),n.url=w.replaceAuctionPrice(n.url,n.cpm),b._winningBids.push(n),E.emit(x,n);var i=n.height,r=n.width,a=n.ad,s=n.mediaType,d=n.adUrl,l=n.renderer;if(l&&l.url)l.render(n);else if(e===document&&!w.inIframe()||"video"===s)w.logError("Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.");else if(a)e.write(a),e.close(),o(e,r,i);else if(d){var c=w.createInvisibleIframe();c.height=i,c.width=r,c.style.display="inline",c.style.overflow="hidden",c.src=d,w.insertElement(c,e,"body"),o(e,r,i)}else w.logError("Error trying to write ad. No ad for bid response id: "+t)}else w.logError("Error trying to write ad. Cannot find ad by given id : "+t)}catch(e){w.logError("Error trying to write ad Id :"+t+" to the page:"+e.message)}else w.logError("Error trying to write ad Id :"+t+" to the page. Missing document or adId")},b.removeAdUnit=function(e){if(w.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var t=0;t<b.adUnits.length;t++)b.adUnits[t].code===e&&b.adUnits.splice(t,1)},b.clearAuction=function(){N=!1,(0,v.syncCookies)(b.cookieSyncDelay),w.logMessage("Prebid auction cleared"),R.length&&R.shift()()},b.requestBids=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,i=e.adUnits,o=e.adUnitCodes;E.emit("requestBids");var a=b.cbTimeout=n||b.bidderTimeout;if(i=i||b.adUnits,w.logInfo("Invoking pbjs.requestBids",arguments),o&&o.length?i=i.filter(function(e){return o.includes(e.code)}):o=i&&i.map(function(e){return e.code}),i.filter(u.videoAdUnit).filter(u.hasNonVideoBidder).forEach(function(e){w.logError("adUnit "+e.code+" has 'mediaType' set to 'video' but contains a bidder that doesn't support video. No Prebid demand requests will be triggered for this adUnit.");for(var t=0;t<i.length;t++)i[t].code===e.code&&i.splice(t,1)}),i.filter(f.nativeAdUnit).filter(f.hasNonNativeBidder).forEach(function(e){var t=e.bids.filter(function(e){return!(0,f.nativeBidder)(e)}).map(function(e){return e.bidder}).join(", ");w.logError("adUnit "+e.code+" has 'mediaType' set to 'native' but contains non-native bidder(s) "+t+". No Prebid demand requests will be triggered for those bidders."),e.bids=e.bids.filter(f.nativeBidder)}),N)R.push(function(){b.requestBids({bidsBackHandler:t,timeout:a,adUnits:i,adUnitCodes:o})});else{if(N=!0,b._adUnitCodes=o,T.externalCallbackReset(),r(),!i||0===i.length)return w.logMessage("No adUnits configured. No bids requested."),"function"===(void 0===t?"undefined":s(t))&&T.addOneTimeCallback(t,!1),void T.executeCallback();var d=T.executeCallback.bind(T,!0),l=setTimeout(d,a);(0,m.setAjaxTimeout)(a),"function"===(void 0===t?"undefined":s(t))&&T.addOneTimeCallback(t,l),k.callBids({adUnits:i,adUnitCodes:o,cbTimeout:a}),0===b._bidsRequested.length&&T.executeCallback()}},b.addAdUnits=function(e){w.logInfo("Invoking pbjs.addAdUnits",arguments),w.isArray(e)?(e.forEach(function(e){return e.transactionId=w.generateUUID()}),b.adUnits.push.apply(b.adUnits,e)):"object"===(void 0===e?"undefined":s(e))&&(e.transactionId=w.generateUUID(),b.adUnits.push(e))},b.onEvent=function(e,t,n){w.logInfo("Invoking pbjs.onEvent",arguments),w.isFn(t)?!n||P[e].call(null,n)?E.on(e,t,n):w.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):w.logError('The event handler provided is not a function and was not set on event "'+e+'".')},b.offEvent=function(e,t,n){w.logInfo("Invoking pbjs.offEvent",arguments),n&&!P[e].call(null,n)||E.off(e,t,n)},b.addCallback=function(e,t){w.logInfo("Invoking pbjs.addCallback",arguments);var n=null;return e&&t&&"function"===(void 0===t?"undefined":s(t))?(n=w.getUniqueIdentifierStr,T.addCallback(n,t,e),n):(w.logError("error registering callback. Check method signature"),n)},b.removeCallback=function(){return null},b.registerBidAdapter=function(e,t){w.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{k.registerBidAdapter(e(),t)}catch(e){w.logError("Error registering bidder adapter : "+e.message)}},b.registerAnalyticsAdapter=function(e){w.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{k.registerAnalyticsAdapter(e)}catch(e){w.logError("Error registering analytics adapter : "+e.message)}},b.bidsAvailableForAdapter=function(e){w.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),b._bidsRequested.find(function(t){return t.bidderCode===e}).bids.map(function(t){return d(t,I.createBid(1),{bidderCode:e,adUnitCode:t.placementCode})}).map(function(e){return b._bidsReceived.push(e)})},b.createBid=function(e){return w.logInfo("Invoking pbjs.createBid",arguments),I.createBid(e)},b.addBidResponse=function(e,t){w.logInfo("Invoking pbjs.addBidResponse",arguments),T.addBidResponse(e,t)},b.loadScript=function(e,t,n){w.logInfo("Invoking pbjs.loadScript",arguments),(0,_.loadScript)(e,t,n)},b.enableAnalytics=function(e){e&&!w.isEmpty(e)?(w.logInfo("Invoking pbjs.enableAnalytics for: ",e),k.enableAnalytics(e)):w.logError("pbjs.enableAnalytics should be called with option {}")},b.aliasBidder=function(e,t){w.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?k.aliasBidAdapter(e,t):w.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},b.setPriceGranularity=function(e){if(w.logInfo("Invoking pbjs.setPriceGranularity",arguments),e){if("string"==typeof e)T.setPriceGranularity(e);else if("object"===(void 0===e?"undefined":s(e))){if(!(0,h.isValidePriceConfig)(e))return void w.logError("Invalid custom price value passed to `setPriceGranularity()`");T.setCustomPriceBucket(e),T.setPriceGranularity(y.GRANULARITY_OPTIONS.CUSTOM),w.logMessage("Using custom price granularity")}}else w.logError("Prebid Error: no value passed to `setPriceGranularity()`")},b.enableSendAllBids=function(){b._sendAllBids=!0},b.getAllWinningBids=function(){return b._winningBids},b.buildMasterVideoTagFromAdserverTag=function(e,t){w.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var n=(0,p.parse)(e);if(0===b._bidsReceived.length)return e;if("dfp"===t.adserver.toLowerCase()){var i=S.dfpAdserver(t,n);return i.verifyAdserverTag()||w.logError("Invalid adserverTag, required google params are missing in query string"),i.appendQueryParams(),(0,p.format)(i.urlComponents)}w.logError("Only DFP adserver is supported")},b.setBidderSequence=function(e){e===y.ORDER.RANDOM&&k.setBidderSequence(y.ORDER.RANDOM)},b.getHighestCpmBids=function(e){return A.getWinningBids(e)},b.setS2SConfig=function(e){if(w.contains(Object.keys(e),"accountId"))if(w.contains(Object.keys(e),"bidders")){var t=d({enabled:!1,endpoint:y.S2S.DEFAULT_ENDPOINT,timeout:1e3,maxBids:1,adapter:y.S2S.ADAPTER,syncEndpoint:y.S2S.SYNC_ENDPOINT,cookieSet:!0,bidders:[]},e);k.setS2SConfig(t)}else w.logError("bidders missing in Server to Server config");else w.logError("accountId missing in Server to Server config")},b.que.push(function(){return(0,g.listenMessagesFromCreative)()}),b.cmd.push=function(e){if("function"===(void 0===e?"undefined":s(e)))try{e.call()}catch(e){w.logError("Error processing command :"+e.message)}else w.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},b.que.push=b.cmd.push,b.processQueue=function(){a(b.que),a(b.cmd)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonVideoBidder=t.videoAdUnit=void 0;var i=n(1),r=(t.videoAdUnit=function(e){return"video"===e.mediaType},function(e){return!i.videoAdapters.includes(e.bidder)});t.hasNonVideoBidder=function(e){return e.bids.filter(r).length}},function(e,t,n){n(217),n(230),n(232),n(235),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},function(e,t,n){n(218),e.exports=n(11).Array.find},function(e,t,n){var i=n(14),r=n(30)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(23)("find")},function(e,t,n){var i=n(220),r=n(221),o=n(223),a=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(15);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(19)&&!n(20)(function(){return 7!=Object.defineProperty(n(222)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(15),r=n(13).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(15);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(13),r=n(18),o=n(28),a=n(21)("src"),s=Function.toString,d=(""+s).split("toString");n(11).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||r(n,a,e[t]?""+e[t]:d.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(228);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(15),r=n(229),o=n(36)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var i=n(31);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){n(231),e.exports=n(11).Array.findIndex},function(e,t,n){var i=n(14),r=n(30)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(23)(o)},function(e,t,n){n(233),e.exports=n(11).Array.includes},function(e,t,n){var i=n(14),r=n(38)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(23)("includes")},function(e,t,n){var i=n(35),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){n(236),e.exports=n(11).Object.assign},function(e,t,n){var i=n(14);i(i.S+i.F,"Object",{assign:n(237)})},function(e,t,n){var i=n(238),r=n(242),o=n(243),a=n(32),s=n(22),d=Object.assign;e.exports=!d||n(20)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=d({},e)[n]||Object.keys(d({},t)).join("")!=i})?function(e,t){for(var n=a(e),d=arguments.length,l=1,c=r.f,u=o.f;d>l;)for(var f,p=s(arguments[l++]),h=c?i(p).concat(c(p)):i(p),g=h.length,v=0;g>v;)u.call(p,f=h[v++])&&(n[f]=p[f]);return n}:d},function(e,t,n){var i=n(239),r=n(241);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(28),r=n(39),o=n(38)(!1),a=n(240)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),d=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;t.length>d;)i(s,n=t[d++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var i=n(37)("keys"),r=n(21);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function i(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n.adId){var i=pbjs._bidsReceived.find(function(e){return e.adId===n.adId});"Prebid Request"===n.message&&(r(i,n.adServerDomain,e.source),pbjs._winningBids.push(i),a.default.emit(d,i)),"Prebid Native"===n.message&&((0,s.fireNativeImpressions)(i),pbjs._winningBids.push(i),a.default.emit(d,i))}}function r(e,t,n){var i=e.adId,r=e.ad,a=e.adUrl,s=e.width,d=e.height;i&&(o(e),n.postMessage(JSON.stringify({message:"Prebid Response",ad:r,adUrl:a,adId:i,width:s,height:d}),t))}function o(e){var t=e.adUnitCode,n=e.width,i=e.height,r=document.getElementById(window.googletag.pubads().getSlots().find(function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}).getSlotElementId()).querySelector("iframe");r.width=""+n,r.height=""+i}Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){addEventListener("message",i,!1)};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(8)),s=n(12),d=n(4).EVENTS.BID_WON},function(e,t,n){var i=n(10),r=n(17),o=function(e){this.name=e.adserver,this.code=e.code,this.getWinningBidByCode=function(){return(0,r.getWinningBids)(this.code)[0]}};t.dfpAdserver=function(e,t){var n=new o(e);n.urlComponents=t;var r={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},a=["output","iu","sz","url","correlator","description_url","hl"],s=function(e){return encodeURIComponent((0,i.formatQS)(e))};return n.appendQueryParams=function(){var e=n.getWinningBidByCode();e&&(this.urlComponents.search.description_url=encodeURIComponent(e.descriptionUrl),this.urlComponents.search.cust_params=s(e.adserverTargeting),this.urlComponents.search.correlator=Date.now())},n.verifyAdserverTag=function(){for(var e in r)if(!this.urlComponents.search.hasOwnProperty(e)||this.urlComponents.search[e]!==r[e])return!1;for(var t in a)if(!this.urlComponents.search.hasOwnProperty(a[t]))return!1;return!0},n}}]),pbjsChunk([72],{68:function(e,t,n){e.exports=n(69)},69:function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){function e(e){var t=void 0;try{t=JSON.parse(e)}catch(e){f.logError(e)}if(!t||t.error){var n="in response for "+I.getBidderCode()+" adapter";return t&&t.error&&(n+=": "+t.error),f.logError(n),void Object.keys(E).map(function(e){return E[e].placementCode}).forEach(function(e){u.default.addBidResponse(e,k(h.STATUS.NO_BID))})}if(t.tags.forEach(function(e){var t=g(e),n=t&&t.cpm,i=t&&t.ad_type,r=void 0;r=0!==n&&_.includes(i)?h.STATUS.GOOD:h.STATUS.NO_BID,i&&!_.includes(i)&&f.logError(i+" ad type not supported"),e.bidId=e.uuid;var o=k(r,e);if("native"===i&&(o.mediaType="native"),"video"===i&&(o.mediaType="video"),t&&t.renderer_url&&(o.mediaType="video-outstream"),o.adId in E){var a=E[o.adId].placementCode;u.default.addBidResponse(a,o)}}),!S){var i=f.createInvisibleIframe();i.src="//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html";try{document.body.appendChild(i)}catch(e){f.logError(e)}S=!0}}function t(e){if(e.params.placementId||e.params.member&&e.params.invCode)return e;f.logError("bid requires placementId or (member and invCode) params")}function n(e){var t=[];return f._each(e,function(e,n){if(f.isArray(e)){var i=[];f._each(e,function(e){(e=f.getValueString("keywords."+n,e))&&i.push(e)}),e=i}else{if(e=f.getValueString("keywords."+n,e),!f.isStr(e))return;e=[e]}t.push({key:n,value:e})}),t}function i(e){var t=[],n={};if(f.isArray(e)&&2===e.length&&!f.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===(void 0===e?"undefined":a(e)))for(var i=0;i<e.length;i++){var r=e[i];(n={}).width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t}function g(e){return e&&e.ads&&e.ads.length&&e.ads.find(function(e){return e.rtb})}function w(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},T.bind(e))})}function T(e,t){this.renderer.handleVideoEvent({id:e,eventName:t})}function k(e,t){var n=g(t),i=c.default.createBid(e,t);if(i.code=I.getBidderCode(),i.bidderCode=I.getBidderCode(),n&&e===h.STATUS.GOOD)if(i.cpm=n.cpm,i.buyerMemberId=n.buyer_member_id,i.creative_id=n.creative_id,i.dealId=n.deal_id,n.rtb.video){if(i.width=n.rtb.video.player_width,i.height=n.rtb.video.player_height,i.vastUrl=n.rtb.video.asset_url,i.descriptionUrl=n.rtb.video.asset_url,n.renderer_url){i.adResponse=t,i.renderer=l.Renderer.install({id:n.renderer_id,url:n.renderer_url,config:n.renderer_config,loaded:!1});try{i.renderer.setRender(w)}catch(e){f.logWarning("Prebid Error calling setRender on renderer",e)}i.renderer.setEventHandlers({impression:function(){return f.logMessage("AppNexus outstream video impression event")},loaded:function(){return f.logMessage("AppNexus outstream video loaded event")},ended:function(){f.logMessage("AppNexus outstream renderer video event"),document.querySelector("#"+i.adUnitCode).style.display="none"}}),i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video}}else if(n.rtb.native){var r=n.rtb.native;i.native={title:r.title,body:r.desc,sponsoredBy:r.sponsored,image:r.main_img&&r.main_img.url,icon:r.icon&&r.icon.url,clickUrl:r.link.url,impressionTrackers:r.impression_trackers}}else{i.width=n.rtb.banner.width,i.height=n.rtb.banner.height,i.ad=n.rtb.banner.content;try{var o=n.rtb.trackers[0].impression_urls[0],a=f.createTrackPixelHtml(o);i.ad+=a}catch(e){f.logError("Error appending tracking pixel",e)}}return i}var I=d.default.createNew("appnexusAst"),E={},S=!1;return I.callBids=function(o){E={};var a=0,d=void 0,l=(o.bids||[]).filter(function(e){return t(e)}).map(function(e){E[e.bidId]=e;var t={};if(t.sizes=i(e.sizes),t.primary_size=t.sizes[0],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.prebid=!0,t.disable_psa=!0,a=parseInt(e.params.member,10),e.params.reserve&&(t.reserve=e.params.reserve),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=i(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),f.isEmpty(e.params.keywords)||(t.keywords=n(e.params.keywords)),"native"===e.mediaType&&(t.ad_types=["native"],e.nativeParams)){var r={};Object.keys(e.nativeParams).forEach(function(t){var n=y[t]&&y[t].serverName||y[t]||t,i=s({},e.nativeParams[t],y[t]&&y[t].serverParams);r[n]=i}),t.native={layouts:[r]}}return Array.isArray(e.mediaType)&&(t.ad_types=e.mediaType),"video"===e.mediaType&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter(function(e){return m.includes(e)}).forEach(function(n){return t.video[n]=e.params.video[n]})),e.params.user&&(d={},Object.keys(e.params.user).filter(function(e){return b.includes(e)}).forEach(function(t){return d[t]=e.params.user[t]})),t});if(!f.isEmpty(l)){var c={tags:[].concat(r(l)),user:d};a>0&&(c.member_id=a);var u=JSON.stringify(c);(0,p.ajax)(v,e,u,{contentType:"text/plain",withCredentials:!0})}},{createNew:o.createNew,callBids:I.callBids,setBidderCode:I.setBidderCode}}var a="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d=i(n(7)),l=n(16),c=i(n(3)),u=i(n(2)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),p=n(6),h=n(4),g=i(n(1)),v="//ib.adnxs.com/ut/v3/prebid",_=["banner","video","video-outstream","native"],m=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],b=["age","external_uid","segments","gender","dnt","language"],y={body:"description",image:{serverName:"main_image",serverParams:{required:!0,sizes:[{}]}},icon:{serverName:"icon",serverParams:{required:!0,sizes:[{}]}},sponsoredBy:"sponsored_by"};o.createNew=function(){return new o},g.default.registerBidAdapter(new o,"appnexusAst",{supportedMediaTypes:["video","native"]}),e.exports=o}},[68]),pbjs.processQueue(),NodeList.prototype.forEach=Array.prototype.forEach,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t});var toString={}.toString,_cof=function(e){return toString.call(e).slice(8,-1)},commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_global=createCommonjsModule(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),SHARED="__core-js_shared__",store=_global[SHARED]||(_global[SHARED]={}),_shared=function(e){return store[e]||(store[e]={})},id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++id+px).toString(36))},_wks=createCommonjsModule(function(e){var t=_shared("wks"),n=_global.Symbol,i="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=i&&n[e]||(i?n:_uid)("Symbol."+e))}).store=t}),TAG=_wks("toStringTag"),ARG="Arguments"==_cof(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},_classof=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=tryGet(t=Object(e),TAG))?n:ARG?_cof(t):"Object"==(i=_cof(t))&&"function"==typeof t.callee?"Arguments":i},_isObject=function(e){return"object"===(void 0===e?"undefined":_typeof(e))?null!==e:"function"==typeof e},_anObject=function(e){if(!_isObject(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch(e){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(e){return is?document$1.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),_toPrimitive=function(e,t){if(!_isObject(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!_isObject(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!_isObject(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!_isObject(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function(e,t,n){if(_anObject(e),t=_toPrimitive(t,!0),_anObject(n),_ie8DomDefine)try{return dP(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},_objectDp={f:f},_propertyDesc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},_hide=_descriptors?function(e,t,n){return _objectDp.f(e,t,_propertyDesc(1,n))}:function(e,t,n){return e[t]=n,e},hasOwnProperty$1={}.hasOwnProperty,_has=function(e,t){return hasOwnProperty$1.call(e,t)},_core=createCommonjsModule(function(e){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)}),_redefine=createCommonjsModule(function(e){var t=_uid("src"),n=Function.toString,i=(""+n).split("toString");_core.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,r,o){var a="function"==typeof r;a&&(_has(r,"name")||_hide(r,"name",n)),e[n]!==r&&(a&&(_has(r,t)||_hide(r,t,e[n]?""+e[n]:i.join(String(n)))),e===_global?e[n]=r:o?e[n]?e[n]=r:_hide(e,n,r):(delete e[n],_hide(e,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),test={};test[_wks("toStringTag")]="z",test+""!="[object z]"&&_redefine(Object.prototype,"toString",function(){return"[object "+_classof(this)+"]"},!0);var ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},_defined=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},_stringAt=function(e){return function(t,n){var i,r,o=String(_defined(t)),a=_toInteger(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=o.charCodeAt(a))<55296||i>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?e?o.charAt(a):i:e?o.slice(a,a+2):r-56320+(i-55296<<10)+65536}},_library=!1,_aFunction=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},_ctx=function(e,t,n){if(_aFunction(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},PROTOTYPE="prototype",$export=function e(t,n,i){var r,o,a,s,d=t&e.F,l=t&e.G,c=t&e.S,u=t&e.P,f=t&e.B,p=l?_global:c?_global[n]||(_global[n]={}):(_global[n]||{})[PROTOTYPE],h=l?_core:_core[n]||(_core[n]={}),g=h[PROTOTYPE]||(h[PROTOTYPE]={});l&&(i=n);for(r in i)a=((o=!d&&p&&void 0!==p[r])?p:i)[r],s=f&&o?_ctx(a,_global):u&&"function"==typeof a?_ctx(Function.call,a):a,p&&_redefine(p,r,a,t&e.U),h[r]!=a&&_hide(h,r,s),u&&g[r]!=a&&(g[r]=a)};_global.core=_core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128;var _export=$export,_iterators={},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==_cof(e)?e.split(""):Object(e)},_toIobject=function(e){return _iobject(_defined(e))},min=Math.min,_toLength=function(e){return e>0?min(_toInteger(e),9007199254740991):0},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(e,t){return(e=_toInteger(e))<0?max(e+t,0):min$1(e,t)},_arrayIncludes=function(e){return function(t,n,i){var r,o=_toIobject(t),a=_toLength(o.length),s=_toAbsoluteIndex(i,a);if(e&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},shared=_shared("keys"),_sharedKey=function(e){return shared[e]||(shared[e]=_uid(e))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO$1=_sharedKey("IE_PROTO"),_objectKeysInternal=function(e,t){var n,i=_toIobject(e),r=0,o=[];for(n in i)n!=IE_PROTO$1&&_has(i,n)&&o.push(n);for(;t.length>r;)_has(i,n=t[r++])&&(~arrayIndexOf(o,n)||o.push(n));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function(e){return _objectKeysInternal(e,_enumBugKeys)},_objectDps=_descriptors?Object.defineProperties:function(e,t){_anObject(e);for(var n,i=_objectKeys(t),r=i.length,o=0;r>o;)_objectDp.f(e,n=i[o++],t[n]);return e},document$2=_global.document,_html=document$2&&document$2.documentElement,IE_PROTO=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",_createDict=function(){var e,t=_domCreate("iframe"),n=_enumBugKeys.length;for(t.style.display="none",_html.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),_createDict=e.F;n--;)delete _createDict[PROTOTYPE$1][_enumBugKeys[n]];return _createDict()},_objectCreate=Object.create||function(e,t){var n;return null!==e?(Empty[PROTOTYPE$1]=_anObject(e),n=new Empty,Empty[PROTOTYPE$1]=null,n[IE_PROTO]=e):n=_createDict(),void 0===t?n:_objectDps(n,t)},def=_objectDp.f,TAG$1=_wks("toStringTag"),_setToStringTag=function(e,t,n){e&&!_has(e=n?e:e.prototype,TAG$1)&&def(e,TAG$1,{configurable:!0,value:t})},IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(e,t,n){e.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,n)}),_setToStringTag(e,t+" Iterator")},_toObject=function(e){return Object(_defined(e))},IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(e){return e=_toObject(e),_has(e,IE_PROTO$2)?e[IE_PROTO$2]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(e,t,n,i,r,o,a){_iterCreate(n,t,i);var s,d,l,c=function(e){if(!BUGGY&&e in h)return h[e];switch(e){case KEYS:case VALUES:return function(){return new n(this,e)}}return function(){return new n(this,e)}},u=t+" Iterator",f=r==VALUES,p=!1,h=e.prototype,g=h[ITERATOR]||h[FF_ITERATOR]||r&&h[r],v=g||c(r),_=r?f?c("entries"):v:void 0,m="Array"==t?h.entries||g:g;if(m&&(l=_objectGpo(m.call(new e)))!==Object.prototype&&l.next&&(_setToStringTag(l,u,!0),_library||_has(l,ITERATOR)||_hide(l,ITERATOR,returnThis)),f&&g&&g.name!==VALUES&&(p=!0,v=function(){return g.call(this)}),_library&&!a||!BUGGY&&!p&&h[ITERATOR]||_hide(h,ITERATOR,v),_iterators[t]=v,_iterators[u]=returnThis,r)if(s={values:f?v:c(VALUES),keys:o?v:c(KEYS),entries:_},a)for(d in s)d in h||_redefine(h,d,s[d]);else _export(_export.P+_export.F*(BUGGY||p),t,s);return s},$at=_stringAt(!0);_iterDefine(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=$at(t,n),this._i+=e.length,{value:e,done:!1})});var UNSCOPABLES=_wks("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&_hide(ArrayProto,UNSCOPABLES,{});var _addToUnscopables=function(e){ArrayProto[UNSCOPABLES][e]=!0},_iterStep=function(e,t){return{value:t,done:!!e}},es6_array_iterator=_iterDefine(Array,"Array",function(e,t){this._t=_toIobject(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,_iterStep(1)):"keys"==t?_iterStep(0,n):"values"==t?_iterStep(0,e[n]):_iterStep(0,[n,e[n]])},"values");_iterators.Arguments=_iterators.Array,_addToUnscopables("keys"),_addToUnscopables("values"),_addToUnscopables("entries");for(var ITERATOR$1=_wks("iterator"),TO_STRING_TAG=_wks("toStringTag"),ArrayValues=_iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=_objectKeys(DOMIterables),i=0;i<collections.length;i++){var NAME=collections[i],explicit=DOMIterables[NAME],Collection=_global[NAME],proto=Collection&&Collection.prototype,key;if(proto&&(proto[ITERATOR$1]||_hide(proto,ITERATOR$1,ArrayValues),proto[TO_STRING_TAG]||_hide(proto,TO_STRING_TAG,NAME),_iterators[NAME]=ArrayValues,explicit))for(key in es6_array_iterator)proto[key]||_redefine(proto,key,es6_array_iterator[key],!0)}var _anInstance=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e},_iterCall=function(e,t,n,i){try{return i?t(_anObject(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&_anObject(r.call(e)),t}},ITERATOR$2=_wks("iterator"),ArrayProto$1=Array.prototype,_isArrayIter=function(e){return void 0!==e&&(_iterators.Array===e||ArrayProto$1[ITERATOR$2]===e)},ITERATOR$3=_wks("iterator"),core_getIteratorMethod=_core.getIteratorMethod=function(e){if(void 0!=e)return e[ITERATOR$3]||e["@@iterator"]||_iterators[_classof(e)]},_forOf=createCommonjsModule(function(e){var t={},n={},i=e.exports=function(e,i,r,o,a){var s,d,l,c,u=a?function(){return e}:core_getIteratorMethod(e),f=_ctx(r,o,i?2:1),p=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(_isArrayIter(u)){for(s=_toLength(e.length);s>p;p++)if((c=i?f(_anObject(d=e[p])[0],d[1]):f(e[p]))===t||c===n)return c}else for(l=u.call(e);!(d=l.next()).done;)if((c=_iterCall(l,f,d.value,i))===t||c===n)return c};i.BREAK=t,i.RETURN=n}),SPECIES=_wks("species"),_speciesConstructor=function(e,t){var n,i=_anObject(e).constructor;return void 0===i||void 0==(n=_anObject(i)[SPECIES])?t:_aFunction(n)},_invoke=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},process$1=_global.process,setTask=_global.setImmediate,clearTask=_global.clearImmediate,MessageChannel=_global.MessageChannel,Dispatch=_global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(){var e=+this;if(queue.hasOwnProperty(e)){var t=queue[e];delete queue[e],t()}},listener=function(e){run.call(e.data)};setTask&&clearTask||(setTask=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return queue[++counter]=function(){_invoke("function"==typeof e?e:Function(e),t)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==_cof(process$1)?defer=function(e){process$1.nextTick(_ctx(run,e,1))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(_ctx(run,e,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=_ctx(port.postMessage,port,1)):_global.addEventListener&&"function"==typeof postMessage&&!_global.importScripts?(defer=function(e){_global.postMessage(e+"","*")},_global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in _domCreate("script")?function(e){_html.appendChild(_domCreate("script"))[ONREADYSTATECHANGE]=function(){_html.removeChild(this),run.call(e)}}:function(e){setTimeout(_ctx(run,e,1),0)});var _task={set:setTask,clear:clearTask},macrotask=_task.set,Observer=_global.MutationObserver||_global.WebKitMutationObserver,process$2=_global.process,Promise$1=_global.Promise,isNode$1="process"==_cof(process$2),_microtask=function(){var e,t,n,i=function(){var i,r;for(isNode$1&&(i=process$2.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(isNode$1)n=function(){process$2.nextTick(i)};else if(Observer){var r=!0,o=document.createTextNode("");new Observer(i).observe(o,{characterData:!0}),n=function(){o.data=r=!r}}else if(Promise$1&&Promise$1.resolve){var a=Promise$1.resolve();n=function(){a.then(i)}}else n=function(){macrotask.call(_global,i)};return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}},f$1=function(e){return new PromiseCapability(e)},_newPromiseCapability={f:f$1},_perform=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},_promiseResolve=function(e,t){if(_anObject(e),_isObject(t)&&t.constructor===e)return t;var n=_newPromiseCapability.f(e);return(0,n.resolve)(t),n.promise},_redefineAll=function(e,t,n){for(var i in t)_redefine(e,i,t[i],n);return e},SPECIES$1=_wks("species"),_setSpecies=function(e){var t=_global[e];_descriptors&&t&&!t[SPECIES$1]&&_objectDp.f(t,SPECIES$1,{configurable:!0,get:function(){return this}})},ITERATOR$4=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$4]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}var _iterDetect=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var i=[7],r=i[ITERATOR$4]();r.next=function(){return{done:n=!0}},i[ITERATOR$4]=function(){return r},e(i)}catch(e){}return n},task=_task.set,microtask=_microtask(),PROMISE="Promise",TypeError$1=_global.TypeError,process=_global.process,$Promise=_global[PROMISE],isNode="process"==_classof(process),empty=function(){},Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,newPromiseCapability=newGenericPromiseCapability=_newPromiseCapability.f,USE_NATIVE=!!function(){try{var e=$Promise.resolve(1),t=(e.constructor={})[_wks("species")]=function(e){e(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&e.then(empty)instanceof t}catch(e){}}(),isThenable=function(e){var t;return!(!_isObject(e)||"function"!=typeof(t=e.then))&&t},notify=function(e,t){if(!e._n){e._n=!0;var n=e._c;microtask(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=r?t.ok:t.fail,s=t.resolve,d=t.reject,l=t.domain;try{a?(r||(2==e._h&&onHandleUnhandled(e),e._h=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&l.exit()),n===t.promise?d(TypeError$1("Promise-chain cycle")):(o=isThenable(n))?o.call(n,s,d):s(n)):d(i)}catch(e){d(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&onUnhandled(e)})}},onUnhandled=function(e){task.call(_global,function(){var t,n,i,r=e._v,o=isUnhandled(e);if(o&&(t=_perform(function(){isNode?process.emit("unhandledRejection",r,e):(n=_global.onunhandledrejection)?n({promise:e,reason:r}):(i=_global.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=isNode||isUnhandled(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},isUnhandled=function e(t){if(1==t._h)return!1;for(var n,i=t._a||t._c,r=0;i.length>r;)if((n=i[r++]).fail||!e(n.promise))return!1;return!0},onHandleUnhandled=function(e){task.call(_global,function(){var t;isNode?process.emit("rejectionHandled",e):(t=_global.onrejectionhandled)&&t({promise:e,reason:e._v})})},$reject=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),notify(t,!0))},$resolve=function e(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw TypeError$1("Promise can't be resolved itself");(n=isThenable(t))?microtask(function(){var r={_w:i,_d:!1};try{n.call(t,_ctx(e,r,1),_ctx($reject,r,1))}catch(e){$reject.call(r,e)}}):(i._v=t,i._s=1,notify(i,!1))}catch(e){$reject.call({_w:i,_d:!1},e)}}};USE_NATIVE||($Promise=function(e){_anInstance(this,$Promise,PROMISE,"_h"),_aFunction(e),Internal.call(this);try{e(_ctx($resolve,this,1),_ctx($reject,this,1))}catch(e){$reject.call(this,e)}},(Internal=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=_redefineAll($Promise.prototype,{then:function(e,t){var n=newPromiseCapability(_speciesConstructor(this,$Promise));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=isNode?process.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&notify(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal;this.promise=e,this.resolve=_ctx($resolve,e,1),this.reject=_ctx($reject,e,1)},_newPromiseCapability.f=newPromiseCapability=function(e){return e===$Promise||e===Wrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)}),_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Promise:$Promise}),_setToStringTag($Promise,PROMISE),_setSpecies(PROMISE),Wrapper=_core[PROMISE],_export(_export.S+_export.F*!USE_NATIVE,PROMISE,{reject:function(e){var t=newPromiseCapability(this);return(0,t.reject)(e),t.promise}}),_export(_export.S+_export.F*(_library||!USE_NATIVE),PROMISE,{resolve:function(e){return _promiseResolve(_library&&this===Wrapper?$Promise:this,e)}}),_export(_export.S+_export.F*!(USE_NATIVE&&_iterDetect(function(e){$Promise.all(e).catch(empty)})),PROMISE,{all:function(e){var t=this,n=newPromiseCapability(t),i=n.resolve,r=n.reject,o=_perform(function(){var n=[],o=0,a=1;_forOf(e,!1,function(e){var s=o++,d=!1;n.push(void 0),a++,t.resolve(e).then(function(e){d||(d=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=newPromiseCapability(t),i=n.reject,r=_perform(function(){_forOf(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}});var promise=_core.Promise,toDOM_1=toDOM,url=window.location.href,urlParams={};if(url.indexOf("?")>0&&url.length>url.indexOf("?")+1)for(var p=url.split("?")[1].split("&"),i$1=0;i$1<p.length;i$1++){var kv=p[i$1].split("=");"string"==typeof kv[1]&&(kv[1]=kv[1].split("#")[0]),urlParams[kv[0]]=kv[1]}var urlParams_1=urlParams,isMobile=createCommonjsModule(function(e){!function(t){var n=/iPhone/i,i=/iPod/i,r=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,f=/BB10/i,p=/Opera Mini/i,h=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),_=function(e,t){return e.test(t)},m=function(e){var t=e||navigator.userAgent,m=t.split("[FBAN");return void 0!==m[1]&&(t=m[0]),void 0!==(m=t.split("Twitter"))[1]&&(t=m[0]),this.apple={phone:_(n,t),ipod:_(i,t),tablet:!_(n,t)&&_(r,t),device:_(n,t)||_(i,t)||_(r,t)},this.amazon={phone:_(s,t),tablet:!_(s,t)&&_(d,t),device:_(s,t)||_(d,t)},this.android={phone:_(s,t)||_(o,t),tablet:!_(s,t)&&!_(o,t)&&(_(d,t)||_(a,t)),device:_(s,t)||_(d,t)||_(o,t)||_(a,t)},this.windows={phone:_(l,t),tablet:_(c,t),device:_(l,t)||_(c,t)},this.other={blackberry:_(u,t),blackberry10:_(f,t),opera:_(p,t),firefox:_(g,t),chrome:_(h,t),device:_(u,t)||_(f,t)||_(p,t)||_(g,t)||_(h,t)},this.seven_inch=_(v,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},b=function(){var e=new m;return e.Class=m,e};e.exports&&"undefined"==typeof window?e.exports=m:e.exports&&"undefined"!=typeof window?e.exports=b():t.isMobile=b()}(commonjsGlobal)}),device=isMobile.phone?"smartphone":isMobile.tablet?"tablette":"desktop",device_1=device,pave={sizes:{desktop:[[300,250]],tablette:[[300,250]],smartphone:[[300,250]]}},mban={sizes:{desktop:[[958,156]],tablette:[[958,156]],smartphone:[[958,156]]}},banniere={sizes:{desktop:[[320,53],[320,50]],tablette:[[320,53],[320,50]],smartphone:[[320,53],[320,50],[300,50]]}},habillage={sizes:{desktop:[[1800,1e3]],tablette:[[1800,1e3]],smartphone:[[1800,1e3]]}},mban_btf={sizes:{desktop:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1e3,304],[970,254],[1e3,264],[1e3,204],[1e3,94],[728,94],[1600,454]],tablette:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1e3,304],[970,254],[1e3,264],[1e3,204],[1e3,94],[728,94],[1600,454]],smartphone:[[320,53],[320,50],[300,50],[1600,454],[320,54],[300,54]]}},mban_mtf={sizes:{desktop:[[1600,450],[1600,350],[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1600,452],[1600,352],[1e3,302],[970,252],[1e3,262],[1e3,202],[1e3,92],[728,92],[1600,452]],tablette:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1600,452],[1600,352],[1e3,302],[970,252],[1e3,262],[1e3,202],[1e3,92],[728,92],[1600,452],[1600,450],[1600,350]],smartphone:[[320,53],[320,50],[300,50],[320,52],[300,52],[1600,452]]}},mban_mtf2={sizes:{desktop:[[1600,450],[1600,350],[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1600,452],[1600,352],[1e3,302],[970,252],[1e3,262],[1e3,202],[1e3,92],[728,92]],tablette:[[1600,450],[1600,350],[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1600,452],[1600,352],[1e3,302],[970,252],[1e3,262],[1e3,202],[1e3,92],[728,92]],smartphone:[[320,53],[320,50],[300,50]]}},mban_615x100={sizes:{desktop:[[615,100]],tablette:[[615,100]],smartphone:[[615,100]]}},pave_mtf={lazyload:{desktop:!0,tablette:!0,smartphone:!0},wrapper:{desktop:!1,tablette:!1,smartphone:!0},sizes:{desktop:[[300,1050],[300,1e3],[300,900],[300,600],[300,250],[300,1052],[300,1002],[300,902],[300,602],[300,252]],tablette:[[300,1050],[300,1e3],[300,900],[300,600],[300,250],[300,1052],[300,1002],[300,902],[300,602],[300,252]],smartphone:[[300,250],[300,50],[320,50]]}},pave_mtf2={sizes:{desktop:[[300,1050],[300,1e3],[300,900],[300,600],[300,250],[300,1053],[300,1003],[300,903],[300,603],[300,253]],tablette:[[300,1050],[300,1e3],[300,900],[300,600],[300,250],[300,1053],[300,1003],[300,903],[300,603],[300,253]],smartphone:[[300,250],[300,50],[320,50]]}},sky_mtf={sizes:{desktop:[[120,600],[160,600],[120,602],[160,602]],tablette:[[120,600],[160,600],[120,602],[160,602]],smartphone:[[120,600],[160,600]]}},pave_atf={wrapper:{desktop:!1,tablette:!1,smartphone:!0},sizes:{desktop:[[300,600],[300,250],[300,601],[300,251]],tablette:[[300,600],[300,250],[300,601],[300,251]],smartphone:[[300,600],[300,250],[300,601],[300,251]]}},mban_atf={sizes:{desktop:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1e3,301],[970,251],[1e3,261],[1e3,201],[1e3,91],[728,91],[1600,451]],tablette:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1e3,301],[970,251],[1e3,261],[1e3,201],[1e3,91],[728,91],[1600,451]],smartphone:[[320,53],[320,50],[300,50],[1600,451],[320,51],[300,51],[320,100],[320,101]]}},inarticle={allowedApnFormats:{desktop:["banner","video","native"],tablette:["banner","video","native"],smartphone:["banner","video","native"]},wrapper:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[1,1],[3,3]],tablette:[[1,1],[3,3]],smartphone:[[1,1],[3,3],[300,250],[300,600],[300,250],[300,601],[300,251]]}},intrusif={sizes:{desktop:[[1,1]],tablette:[[1,1]],smartphone:[[1,1]]}},pave_btf={lazyload:{desktop:!0,tablette:!0,smartphone:!0},wrapper:{desktop:!1,tablette:!1,smartphone:!0},sizes:{desktop:[[300,1050],[300,1e3],[300,900],[300,600],[300,250],[300,1054],[300,1004],[300,904],[300,604],[300,254]],tablette:[[300,1050],[300,1e3],[300,900],[300,600],[300,250],[300,1054],[300,1004],[300,904],[300,604],[300,254]],smartphone:[[320,54],[300,54],[300,250]]}},native$1={allowedApnFormats:{desktop:["native"],tablette:["native"],smartphone:["native"]},sizes:{desktop:[[1,1]],tablette:[[1,1]],smartphone:[[1,1]]}},formats_config={pave:pave,mban:mban,banniere:banniere,habillage:habillage,mban_btf:mban_btf,mban_mtf:mban_mtf,mban_mtf2:mban_mtf2,mban_615x100:mban_615x100,pave_mtf:pave_mtf,pave_mtf2:pave_mtf2,sky_mtf:sky_mtf,pave_atf:pave_atf,mban_atf:mban_atf,inarticle:inarticle,intrusif:intrusif,pave_btf:pave_btf,native:native$1,"640x104_haut":{sizes:{desktop:[[640,104]],tablette:[[640,104]],smartphone:[[640,104]]}},"bloc-icone-280-1":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-2":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-3":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-4":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-5":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-6":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-7":{sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-icone-280-8":{sizes:{desktop:[[280,47],[130,30]],tablette:[[280,47],[130,30]],smartphone:[[280,47],[130,30]]}},"bloc-bas-bourse-1":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-10":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-2":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-3":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-4":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-5":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-6":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-7":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-8":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-bourse-9":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"interstitiel-ipad":{sizes:{desktop:[[1024,768]],tablette:[[1024,768]],smartphone:[[1024,768]]}},"bloc-partenaires-eco-1":{sizes:{desktop:[[130,30]],tablette:[[130,30]],smartphone:[[130,30]]}},"bloc-partenaires-eco-2":{sizes:{desktop:[[130,30]],tablette:[[130,30]],smartphone:[[130,30]]}},"bloc-partenaires-eco-3":{sizes:{desktop:[[130,30]],tablette:[[130,30]],smartphone:[[130,30]]}},"bloc-partenaires-eco-4":{sizes:{desktop:[[130,30]],tablette:[[130,30]],smartphone:[[130,30]]}},"interstitiel-smartphone":{sizes:{smartphone:[[320,480]],desktop:[[320,480]],tablette:[[320,480]]}},"bloc-bas":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{desktop:[[310,122]],tablette:[[310,122]],smartphone:[[310,122]]}},"bloc-bas-partenaire-1":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-partenaire-2":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-partenaire-3":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-partenaire-4":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-bas-partenaire-5":{sizes:{desktop:[[140,50]],tablette:[[140,50]],smartphone:[[140,50]]}},"bloc-haut":{lazyload:{desktop:!0,tablette:!0,smartphone:!0},sizes:{smartphone:[[310,122]],desktop:[[310,122]],tablette:[[310,122]]}},"bloc-gauche":{sizes:{desktop:[[145,145]],tablette:[[145,145]],smartphone:[[145,145]]}},"bloc-centre-logo":{sizes:{desktop:[[1,1]],tablette:[[1,1]],smartphone:[[1,1]]}},"mban-diapo":{sizes:{desktop:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1e3,301],[970,251],[1e3,261],[1e3,201],[1e3,91],[728,91]],tablette:[[1e3,300],[970,250],[1e3,260],[1e3,200],[1e3,90],[728,90],[1e3,301],[970,251],[1e3,261],[1e3,201],[1e3,91],[728,91]],smartphone:[[320,53],[320,50],[300,50]]}},"bloc-haut-logo":{sizes:{desktop:[[1,1]],tablette:[[1,1]],smartphone:[[1,1]]}},"pave-diapo":{sizes:{desktop:[[300,600],[300,250],[300,601],[300,251]],tablette:[[300,600],[300,250],[300,601],[300,251]],smartphone:[[300,250],[300,50],[320,50],[300,251]]}},"intrusif-evene":{sizes:{desktop:[[1,1]],tablette:[[1,1]],smartphone:[[1,1]]}},"intrusif-diapo":{sizes:{desktop:[[1,1]],tablette:[[1,1]],smartphone:[[1,1]]}}},formats_config$1=Object.freeze({pave:pave,mban:mban,banniere:banniere,habillage:habillage,mban_btf:mban_btf,mban_mtf:mban_mtf,mban_mtf2:mban_mtf2,mban_615x100:mban_615x100,pave_mtf:pave_mtf,pave_mtf2:pave_mtf2,sky_mtf:sky_mtf,pave_atf:pave_atf,mban_atf:mban_atf,inarticle:inarticle,intrusif:intrusif,pave_btf:pave_btf,native:native$1,default:formats_config}),Log=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,e),this._message=n,this._context=i,this._level=t,this._channel=null}return createClass(e,[{key:"level",value:function(){return this._level}},{key:"pretty",value:function(){return this._level.toUpperCase()+": "+this._message}},{key:"channel",value:function(e){return e&&(this._channel=e),this._channel}},{key:"logmatic",value:function(e){this._logmatic=e}},{key:"extra",value:function(e){return e&&(this._extra=e),this._extra}},{key:"send",value:function(){this._context.severity=this._level}},{key:"toJson",value:function(){return{message:this._message,context:this._context,level_name:this._level,channel:"groupe_figaro_test",extra:this._extra}}}]),e}(),Log_1=Log,logmatic=createCommonjsModule(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e,t){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function t(e){if(e){var t=window.TraceKit;if(t)t.report.subscribe(function(t){var n={};n[e]=t,s&&(n[s]="error"),g(t.message,n)});else{var n=window.onerror;window.onerror=function(t,i,r,o){var a={};a[e]={mode:"JSException",url:i,line:r,column:o},s&&(a[s]="error"),g(t,a),n&&"function"==typeof n&&n.apply(window,arguments)}}}}var n,i,r,o="https://api.logmatic.io/v1/input/",a={},s="severity",d=500,l=10,c=-1,u=[],f=204800,p=function(e){var t={};t.MODE={IMMEDIATE:0,LINGER:1,ERROR:2};var n=null,i=t.MODE.LINGER,r=0,o=e;return t.reset=function(){t.isScheduled()&&clearTimeout(n),n=null},t.isScheduled=function(){return null!==n},t.setMode=function(e){(i=e)!==t.MODE.ERROR&&(r=0)},t.postpone=function(e){var a;switch(t.reset(),i){case t.MODE.IMMEDIATE:a=0;break;case t.MODE.LINGER:a=o;break;case t.MODE.ERROR:var s=500*Math.pow(2,r);r++,a=Math.min(s,3e4)}n=setTimeout(e,a)},t}(d),h=function(e,t){g(e,t,"info")},g=function(t,n,i){if(o){var r={message:t};r[s]=i||"info",e(n,r),v(r)}},v=function(t){e(a,t),r&&(t[r]=window.location.href),(u=u||[]).push(JSON.stringify(t)),c>=0&&u.length>c&&u.shift(),_()},_=function(){p.isScheduled()||p.postpone(m)},m=function(){function t(e){200===e||0===e?u.length>0?p.setMode(p.MODE.IMMEDIATE):p.setMode(p.MODE.LINGER):p.setMode(p.MODE.ERROR),p.reset(),0!==u.length&&_()}for(var s=[],d=0;u.length>0&&s.length<l;){var c=u.shift();if((d+=c.length)>f){if(c.length>f){var h={severity:"warn",message:"Message dropped as its size exceeded the hard limit of 200 kBytes"};e(a,h),JSON.stringify(h).length>f&&(h={severity:"error",message:"Message dropped because the context size provided exceeded the hard limit of 200 kBytes"}),h[r]=window.location.href,c=JSON.stringify(h)}u.unshift(c);break}s.push(c)}if(0!==s.length){var g,v="["+s.join(",")+"]";(g="undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest).open("POST",o,!0),"undefined"==typeof XDomainRequest&&(g.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n&&g.setRequestHeader("X-Logmatic-Add-IP",n),i&&g.setRequestHeader("X-Logmatic-Add-UserAgent",i)),g.onerror=function(e){t(e.target.status)},g.onload=function(e){t(e.target.status)},g.send(v)}else t(0)};return{init:function(e){o+=e},log:h,trace:function(e,t){g(e,t,"trace")},debug:function(e,t){g(e,t,"debug")},info:h,warn:function(e,t){g(e,t,"warn")},error:function(e,t){g(e,t,"error")},forceEndpoint:function(e){o=e},setMetas:function(e){a=e},addMeta:function(e,t){a[e]=t},setSendErrors:t,setSendConsoleErrors:t,setSendConsoleLogs:function(e){e&&(s=e),console&&[{f:"log",l:"info"},{f:"info"},{f:"trace"},{f:"warn"},{f:"error"}].forEach(function(e){var t=e.f,n=e.l||e.f,i=console[t];console[t]=function(){var e=null;s&&((e={})[s]=n);var t=Array.prototype.slice.call(arguments).map(function(e){return"object"===(void 0===e?"undefined":_typeof(e))?JSON.stringify(e):String(e)}).join(" ");g(t,e),i.apply?i.apply(console,arguments):i(t)}})},setIPTracking:function(e){n=e},setUserAgentTracking:function(e){i=e},setURLTracking:function(e){r=e},setBulkOptions:function(e){null!=(e=e||{}).lingerMs&&e.lingerMs>=0&&(d=e.lingerMs),null!=e.maxPostCount&&(e.maxPostCount<1&&(e.maxPostCount=1),l=e.maxPostCount),null!=e.maxWaitingCount&&(c=e.maxWaitingCount),null!=e.maxContentSize&&(f=e.maxContentSize)}}})});logmatic.init("4q3Mnyp0QNW9QpCXvbzt-g"),logmatic.setUserAgentTracking("client.user-agent"),logmatic.setURLTracking("url");var CONFIG={app_id:"figads",app_environment:"pre-production",channel:"figads_default_channel"},LEVEL={EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warning",NOTICE:"notice",INFO:"info",DEBUG:"debug"},Logger=function(){function e(){classCallCheck(this,e),this._logs=[]}return createClass(e,[{key:"logs",value:function(){return this._logs}},{key:"log",value:function(e,t,n){if(!e||!LEVEL[e.toUpperCase()])throw new Error("Logger-> level "+e+" is not defined");var i=new Log_1(e,t,n);return i.extra({app_environment:CONFIG.app_environment,app_id:CONFIG.app_id}),i.channel(CONFIG.channel),i.logmatic(logmatic),i.send(),this._logs.push(i),i}}]),e}();Logger.LEVEL=LEVEL,Logger.config=function(e){return e&&Object.assign(CONFIG,e),logmatic.addMeta("hostname",CONFIG.channel),logmatic.addMeta("appname",CONFIG.app_id+"_"+CONFIG.app_environment),CONFIG};var Logger_1=Logger,Log$2=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};classCallCheck(this,e),this._key=t,this._value=n,this._type=i,this._opts=r}return createClass(e,[{key:"style",value:function(e){e%2&&(this._node.style.backgroundColor="rgba(255,255,255,0.15)")}},{key:"toText",value:function(){return this._key+" "+this._value}},{key:"build",value:function(){this._node=toDOM_1({tag:"tr",style:"\n          max-width: 100%;\n        ",children:[{tag:"td",text:this._key,style:"\n              text-align: left;\n              padding-right: 8px;\n              min-width: 100px;\n              padding: 4px 3px;\n              word-wrap: break-word;\n              vertical-align: middle;\n            "},{tag:"td",style:"\n              text-align: left;\n              word-break: break-all;\n              padding: 4px 3px;\n              vertical-align: middle;\n            ",accessor:"_valueNode"}]},this)}},{key:"node",value:function(){return this._node}},{key:"update",value:function(e){this._value=e,this._valueNode.innerText=this._value}}]),e}(),LogLink=function(e){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};classCallCheck(this,t);var o=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r));return o._selectValue=null,o}return inherits(t,Log$2),createClass(t,[{key:"toText",value:function(){return this._value?"["+this._key+"]("+this._value+")":""}},{key:"selectValue",value:function(){return this._selectValue}},{key:"inputValue",value:function(){return this._inputNode?this._inputNode.value:""}},{key:"update",value:function(e){var t=this;if(this._value=e,this._valueNode.innerHTML="",this._valueNode.appendChild(toDOM_1({attr:{target:this._opts.onclick?"":"_blank",href:this._opts.onclick?"#figdebug":this._value},style:"\n          color: white;\n          cursor: pointer;\n          text-decoration: underline;\n          text-align: left;\n          display: block;\n          padding: 5px 0;\n        ",tag:"a",events:{click:function(){t._opts.onclick&&(t._opts.onclick(t.selectValue(),t.inputValue()),event.preventDefault(),event.stopPropagation())}},text:this._key})),this._opts.selects){this._valueNode.appendChild(toDOM_1({tag:"select",style:"\n            margin: 5px 0;\n          ",accessor:"_selectNode",events:{change:function(){var e=t._opts.selects.find(function(e){return t._selectNode.value===e.id});t._selectValue=e}},children:this._opts.selects.map(function(e){return{tag:"option",attr:{value:e.id},text:e.message}})},this)),this._valueNode.appendChild(toDOM_1({tag:"textarea",attr:{type:"text",placeholder:"Message"},style:"\n          background-color: rgba(255, 255, 255, 0.55);\n          width: 193px;\n        ",accessor:"_inputNode"},this));var n=this._opts.selects.find(function(e){return t._selectNode.value===e.id});this._selectValue=n}}}]),t}(),Console=function(){function e(t,n,i){classCallCheck(this,e),this.consoleId=t,this._log={},this.logs=[],this._clones=[],this._style=n,this._expanded=!1,this._collapsable=i||!1}return createClass(e,[{key:"toText",value:function(){var e=this.logs.map(function(e){return e.toText()}).filter(function(e){return!!e}).join("\n");return"*"+this.consoleId+"*;\n"+e+"\n"}},{key:"build",value:function(){var e=this;this._node=toDOM_1({className:"figconsole-console",style:this._style||"\n          border-bottom: 1px solid white;\n          position: relative;\n        ",children:[{className:"figconsole_container",style:"\n              padding: 10px;\n              font-size: 13px;\n            ",children:[{className:"figconsole__expand",accessor:"_expandNode",events:{click:function(){e.toggleExpand()}},style:"\n                  text-align: center;\n                  position: absolute;\n                  cursor: pointer;\n                  top: 0;\n                  font-size: 27px;\n                  font-weight: 800;\n                  width: 41px;\n                  height: 41px;\n                  display: block;\n                  line-height: 41px;\n                  right: 5px;\n                  display: "+(this._collapsable?"block":"none")+"\n                "},{className:"title",text:this.consoleId,events:{click:function(){e._collapsable&&e.toggleExpand()}},style:"\n                   text-align: left;\n                    font-weight: 600;\n                    cursor: pointer;\n                    text-transform: uppercase;\n                    padding: 3px 3px 5px;\n                "},{className:"_logs",accessor:"_logsNode"}]}]},this)}},{key:"toggleExpand",value:function(){this._expanded?this.collapse():this.expand()}},{key:"expand",value:function(){this._expanded=!0,this._expandNode.innerText="-",this._logsNode.style.display="block",this._node.style.backgroundColor="rgba(46, 92, 153, 1)",this._node.style.zIndex="1000002",this._node.style.minWidth="320px",this._node.style.width="100vw",this._node.style.maxWidth="355px"}},{key:"collapse",value:function(){this._expanded=!1,this._expandNode.innerText="+",this._logsNode.style.display="none",this._node.style.backgroundColor="rgba(46, 92, 153, 0.7)",this._node.style.zIndex="1000000",this._node.style.minWidth="200px",this._node.style.width="200px"}},{key:"clone",value:function(){var t=new e(this.consoleId,"\n      position: absolute;\n      width: 100%;\n      color: white;\n      top: 0;\n      font-family: sans-serif;\n      outline: 2px dotted rgba(46, 92, 153, 1);\n    ",!0);return t.build(),this._clones.push(t),t.collapse(),this.logs.forEach(function(e){t.log(e._key,e._value,e._type,e._opts)}),t}},{key:"node",value:function(){return this._node}},{key:"log",value:function(e,t,n,i){this._log[e]||(this._log[e]="link"===n?new LogLink(e,t,"link",i):new Log$2(e,t,"default",i),this._log[e].build(),this._log[e].style(this.logs.length),this.logs.push(this._log[e]),this._logsNode.appendChild(this._log[e].node())),this._log[e].update(t),this._clones.forEach(function(r){r.log(e,t,n,i)})}}]),e}(),Console_1=Console,isTop,testDiv,scrollIntervalId,isBrowser="undefined"!=typeof window&&window.document,isPageLoaded=!isBrowser,doc=isBrowser?document:null,readyCalls=[];if(isBrowser){if(document.addEventListener)document.addEventListener("DOMContentLoaded",pageLoaded,!1),window.addEventListener("load",pageLoaded,!1);else if(window.attachEvent){window.attachEvent("onload",pageLoaded),testDiv=document.createElement("div");try{isTop=null===window.frameElement}catch(e){}testDiv.doScroll&&isTop&&window.external&&(scrollIntervalId=setInterval(function(){try{testDiv.doScroll(),pageLoaded()}catch(e){}},30))}"complete"===document.readyState&&pageLoaded()}domReady.version="2.0.1",domReady.load=function(e,t,n,i){i.isBuild?n(null):domReady(n)};var domReady_1=domReady,SIGNAL_URL="https://hooks.slack.com/services/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",FigConsole=function(){function e(){classCallCheck(this,e),this._console={},this._expanded=!1,this._displayed=!1}return createClass(e,[{key:"show",value:function(){var e=this;this._displayed||(this._displayed=!0,domReady_1(function(){document.body.appendChild(e._node)}))}},{key:"console",value:function(e){if(!this._console[e]){var t=new Console_1(e);this._console[e]=t,this._console[e].build(),this._consolesNode.appendChild(t.node())}return this._console[e]}},{key:"signal",value:function(){var e={username:"figads",text:"```\n"+((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).text||"")+"\n```",icon_emoji:":ghost:"};return fetch(SIGNAL_URL,{method:"POST",mode:"cors",headers:new Headers({Accept:"application/json"}),body:JSON.stringify(e)})}},{key:"build",value:function(){var e=this;this._node=toDOM_1({className:"figconsole-main",style:"position: fixed;\n          z-index: 1000001;\n          bottom: 0;\n          color: white;\n          left: 0;\n          right: 0;\n          margin: 0;\n          background-color:  rgba(46, 92, 153, 1);\n          font-family: sans-serif;\n          padding: 0;\n          width: 100%;",children:[{accessor:"_containerNode",className:"figconsole-container",style:"\n              overflow-y: scroll;\n              height: 100%;\n              ",children:[{className:"figconsole__expand",accessor:"_expandNode",events:{click:function(){e.toggleExpand()}},style:"\n                  position: absolute;\n                  right: 9px;\n                  cursor: pointer;\n                  top: 5px;\n                  cursor: pointer;\n                  height: 40px;\n                  width: 40px;\n                  text-align: center;\n                  z-index: 1001;\n                  font-size: 30px;\n                  border-radius: 50%;\n                  background-color: rgba(0, 0, 0, 0.27);\n                  vertical-align: middle;\n                  line-height: 40px;\n                  z-index: 1000005;\n                "},{accessor:"_consolesNode"}]}]},this),this.collapse(),this.eachConsole(function(e){e.expand()})}},{key:"toggleExpand",value:function(){this._expanded?this.collapse():this.expand()}},{key:"collapse",value:function(){this._expandNode.innerText="+",this._expanded=!1,this._node.style.height="120px"}},{key:"expand",value:function(){this._expandNode.innerText="-",this._expanded=!0,this._node.style.height="80%",this.eachConsole(function(e){e.expand()})}},{key:"eachConsole",value:function(e){var t=this;Object.keys(this._console).forEach(function(n,i){e(t._console[n],i)})}},{key:"node",value:function(){return this._node}}]),e}(),FigConsole_1=FigConsole,inView=createCommonjsModule(function(e,t){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));e.exports=i.default},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(9)),o=i(n(3)),a=n(4);t.default=function(){if("undefined"!=typeof window){var e=["scroll","resize","load"],t={history:[]},n={offset:{},threshold:0,test:a.inViewport},i=(0,r.default)(function(){t.history.forEach(function(e){t[e].check()})},100);e.forEach(function(e){return addEventListener(e,i)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(i).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var s=function(e){if("string"==typeof e){var i=[].slice.call(document.querySelectorAll(e));return t.history.indexOf(e)>-1?t[e].elements=i:(t[e]=(0,o.default)(i,n),t.history.push(e)),t[e]}};return s.offset=function(e){if(void 0===e)return n.offset;var t=function(e){return"number"==typeof e};return["top","right","bottom","left"].forEach(t(e)?function(t){return n.offset[t]=e}:function(i){return t(e[i])?n.offset[i]=e[i]:null}),n.offset},s.threshold=function(e){return"number"==typeof e&&e>=0&&e<=1?n.threshold=e:n.threshold},s.test=function(e){return"function"==typeof e?n.test=e:n.test},s.is=function(e){return n.test(e,n)},s.offset(0),s}}()},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i){n(this,e),this.options=i,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return i(e,[{key:"check",value:function(){var e=this;return this.elements.forEach(function(t){var n=e.options.test(t,e.options),i=e.current.indexOf(t),r=i>-1,o=n&&!r,a=!n&&r;o&&(e.current.push(t),e.emit("enter",t)),a&&(e.current.splice(i,1),e.emit("exit",t))}),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{key:"once",value:function(e,t){return this.singles[e].unshift(t),this}},{key:"emit",value:function(e,t){for(;this.singles[e].length;)this.singles[e].pop()(t);for(var n=this.handlers[e].length;--n>-1;)this.handlers[e][n](t);return this}}]),e}();t.default=function(e,t){return new r(e,t)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=function(e,t){var n=e.getBoundingClientRect(),i=n.top,r=n.right,o=n.bottom,a=n.left,s=n.width,d=n.height,l={t:o,r:window.innerWidth-a,b:window.innerHeight-i,l:r},c={x:t.threshold*s,y:t.threshold*d};return l.t>t.offset.top+c.y&&l.r>t.offset.right+c.x&&l.b>t.offset.bottom+c.y&&l.l>t.offset.left+c.x}},function(e,t){(function(t){var n="object"==(void 0===t?"undefined":_typeof(t))&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var i=n(5),r="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){var i=n(1),r=n(8),o=n(10),a="Expected a function",s=Math.max,d=Math.min;e.exports=function(e,t,n){function l(t){var n=v,i=_;return v=_=void 0,T=t,b=e.apply(i,n)}function c(e){return T=e,y=setTimeout(p,t),k?l(e):b}function u(e){var n=e-T,i=t-(e-w);return I?d(i,m-n):i}function f(e){var n=e-w,i=e-T;return void 0===w||n>=t||n<0||I&&i>=m}function p(){var e=r();return f(e)?h(e):void(y=setTimeout(p,u(e)))}function h(e){return y=void 0,E&&v?l(e):(v=_=void 0,b)}function g(){var e=r(),n=f(e);if(v=arguments,_=this,w=e,n){if(void 0===y)return c(w);if(I)return y=setTimeout(p,t),l(w)}return void 0===y&&(y=setTimeout(p,t)),b}var v,_,m,b,y,w,T=0,k=!1,I=!1,E=!0;if("function"!=typeof e)throw new TypeError(a);return t=o(t)||0,i(n)&&(k=!!n.leading,I="maxWait"in n,m=I?s(o(n.maxWait)||0,t):m,E="trailing"in n?!!n.trailing:E),g.cancel=function(){void 0!==y&&clearTimeout(y),T=0,v=w=_=y=void 0},g.flush=function(){return void 0===y?b:h(r())},g}},function(e,t,n){var i=n(6);e.exports=function(){return i.Date.now()}},function(e,t,n){var i=n(7),r=n(1),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return r(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t){e.exports=function(e){return e}}])})}),style='.figtag-native {\n        margin: 20px;\n        background-color: #f7f7f7;\n        overflow: hidden;\n    }\n    .figtag-native__head {\n        font-size: 0.75rem;\n        line-height: 1.66667;\n        padding: 10px;\n        border: 1px solid #ccc;\n        color: #666;\n    }\n    .figtag-native__head a {\n        text-decoration: none !important;\n    }\n    .figtag-native__body {\n        padding: 10px;\n        border: 1px solid #ccc;\n        border-top: 0;\n    }\n    .figtag-native__body:after {\n        content: " ";\n        display: block;\n        clear: both;\n    }\n    .figtag-native__body a {\n        text-decoration: none;\n    }\n    .figtag-native__pict {\n        width: 100%;\n        height: inherit;\n        display: block;\n        float: right;\n        line-height: 0;\n        margin: 0 0 10px 10px;\n    }\n    @media (min-width: 32em) {\n        .figtag-native__pict {\n            max-width: 200px;\n        }\n    }\n    @media (min-width: 64em) {\n        .figtag-native__pict {\n            max-width: 250px;\n        }\n    }\n    .figtag-native__pict a {\n        font-size: 0;\n    }\n    .figtag-native__title {\n        font-size: 1rem;\n        line-height: normal;\n        display: block;\n        font-family: MuseoSlab500, Arial, Helvetica, sans-serif;\n    }\n    @media (min-width: 46.25em) {\n        .figtag-native__title {\n            font-size: 1.125rem;\n            line-height: 1.33333;\n        }\n    }\n    @media (min-width: 64em) {\n        .figtag-native__title {\n            width: calc(100% - 250px - 15px);\n        }\n    }\n    .figtag-native__title a {\n        text-decoration: none !important;\n    }\n    .figtag-native__txt {\n        font-size: 0.75rem;\n        line-height: 1.16667;\n        color: #666;\n        display: block;\n        margin-top: 10px;\n        padding-bottom: 0px !important;\n    }\n    @media (min-width: 46.25em) {\n        .figtag-native__txt {\n            font-size: 0.875rem;\n            line-height: 1.42857;\n        }\n    }\n    @media (min-width: 64em) {\n        .figtag-native__txt {\n            width: calc(100% - 250px - 15px);\n        }\n    }\n    .figtag-native__btn {\n        font-size: 0.75rem;\n        -webkit-transition: background-color 0.3s ease;\n        -o-transition: background-color 0.3s ease;\n        transition: background-color 0.3s ease;\n        background-color: #4a4a4a;\n        color: #fff !important;\n        border-radius: 2px;\n        padding: 5px 20px;\n        display: inline-block;\n        text-transform: uppercase;\n        text-decoration: none !important;\n        margin-top: 10px;\n    }\n    .figtag-native__btn:hover,\n    .figtag-native__btn:focus {\n        background-color: #000;\n    }\n    .figtag-native__btn:focus {\n        outline-color: #666;\n    }',lefigaro=style,style$1='\n.figtag-native {\n    background: repeating-linear-gradient(-45deg,#f7f7f7,#f7f7f7 4px,rgba(221,221,221,0.5) 4px,rgba(221,221,221,0.5) 5px);\n    border-bottom: solid 0.5px #333333;\n    border-top: solid 0.5px #333333;\n    font-family: "Open Sans",sans-serif;\n    font-size: 16px;\n    overflow: hidden;\n    margin: 16px auto 45px;\n    max-width: 320px;\n    padding: 20px 31px 15px;\n}\n@media (min-width:1025px) {\n    .figtag-native {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        flex-flow: row;\n        margin: 48px 0 48px -12%;\n        max-width: none;\n        padding: 16px 0;\n        width: 112%;\n    }\n}\n.figtag-native__img {\n    display: block;\n    height: 100%;\n    max-width: none;\n    width: 100%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    background-size: cover;\n    background-position: center;\n    transform: translate(-50%,-50%);\n}\n.figtag-native a {\n    text-decoration: none;\n}\n.figtag-native__body {\n    margin: auto;\n}\n@media (min-width:1025px) {\n    .figtag-native__head {\n        flex: 1 0 200px;\n        max-width: 200px;\n    }\n    .figtag-native__body {\n        display: flex;\n        flex: 1 0 100%;\n        flex-direction: column;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        margin: 0;\n        max-width: calc(100% - 200px);\n        padding: 0 18px;\n    }\n}\n.figtag-native__pict {\n    margin-bottom: 10px;\n    height: 258px;\n    width: 258px;\n    max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    position: relative;\n}\n@media (min-width:1025px) {\n    .figtag-native__pict {\n        margin-bottom: 0;\n        height: 200px;\n        width: 200px;\n    }\n}\n.figtag-native__sponso {\n    color: #a2a2a2;\n    font-size: 0.875em;\n    line-height: 1.1875;\n    margin-bottom: 10px;\n    padding-bottom: 10px;\n    position: relative;\n    text-align: center;\n}\n@media (min-width:1025px) {\n    .figtag-native__sponso {\n        font-size: 0.8em;\n        line-height: 1.2222;\n    }\n}\n.figtag-native__sponso::after {\n    background-color: #d8d8d8;\n    content: \'\';\n    height: 1px;\n    left: 0;\n    margin: auto;\n    position: absolute;\n    right: 0;\n    top: 100%;\n    width: 155px;\n}\n.figtag-native__title {\n    color: #4a4a4a;\n    font-family: Velino,"Times New Roman",serif;\n    font-size: 1.5em;\n    font-style: italic;\n    line-height: 1.21;\n    margin-bottom: 10px;\n    text-align: center;\n}\n@media (min-width:1025px) {\n    .figtag-native__title {\n        font-size: 2em;\n        line-height: 1.08;\n        margin-bottom: 0;\n    }\n}\n.figtag-native__txt {\n    color: #4a4a4a;\n    font-size: 0.875em;\n    margin: 10px 0;\n    text-align: center;\n}\n@media (min-width:1025px) {\n    .figtag-native__txt {\n        font-size: 16px;\n        line-height: 1.35;\n        margin-bottom: 0;\n    }\n}\n.figtag-native__btn {\n    color: #ce0033;\n    display: block;\n    font-family: Velino,"Times New Roman",serif;\n    font-size: 0.875em;\n    font-style: italic;\n    line-height: 1.125;\n    margin-top: 17px;\n    text-align: center;\n}\n@media (min-width:1025px) {\n    .figtag-native__btn {\n        font-size: 1.25em;\n        line-height: 1.25;\n    }\n}\n.figtag-native__btn span, .figtag-native__btn svg {\n    display: inline-block;\n    vertical-align: middle;\n}\n.figtag-native__btn svg {\n    margin-left: 5px;\n    height: 21px;\n    width: 21px;\n}\n@media (min-width:1025px) {\n    .figtag-native__btn svg {\n        height: 30px;\n        margin-left: 16px;\n        width: 30px;\n    }\n}\n.figtag-native__link:active {\n    color: #ce0033;\n}\n.figtag-native__sponso .figtag-native__link {\n    color: #a2a2a2;\n}\n.figtag-native__sponso .figtag-native__link:active {\n    color: #ce0033;\n}\n.figtag-native__title .figtag-native__link {\n    color: #4a4a4a;\n}\n.figtag-native__title .figtag-native__link:active {\n    color: #ce0033;\n}\n.figtag-native__link.figtag-native__btn {\n    color: #ce0033;\n}\n.figtag-native__link.figtag-native__btn:active {\n    color: #ce0033;\n}',madame=style$1,taggedHtml=html$1,_templateObject=taggedTemplateLiteral(['<div class="figtag-native">\n        <div class="figtag-native__head">\n            Sponsorisé par <a class="figtag-native__link" href="','" target="_blank">','</a>\n        </div>\n        <div class="figtag-native__body">\n        <figure class="figtag-native__pict">\n            <a class="figtag-native__link" href="','" target="_blank">\n                <img src="','">\n            </a>\n        </figure>\n            <div class="figtag-native__title">\n                <a class="figtag-native__link" href="','" target="_blank">',"</a>\n            </div>\n    ",'\n\n            <a href="','" target="_blank" class="figtag-native__btn figtag-native__link">',"</a>\n        </div>\n    </div>"],['<div class="figtag-native">\n        <div class="figtag-native__head">\n            Sponsorisé par <a class="figtag-native__link" href="','" target="_blank">','</a>\n        </div>\n        <div class="figtag-native__body">\n        <figure class="figtag-native__pict">\n            <a class="figtag-native__link" href="','" target="_blank">\n                <img src="','">\n            </a>\n        </figure>\n            <div class="figtag-native__title">\n                <a class="figtag-native__link" href="','" target="_blank">',"</a>\n            </div>\n    ",'\n\n            <a href="','" target="_blank" class="figtag-native__btn figtag-native__link">',"</a>\n        </div>\n    </div>"]),lefigaroHtml=function(e){return taggedHtml(_templateObject,e.clickUrl||"",e.sponsoredBy||"",e.clickUrl||"",e.image.url||"",e.clickUrl||"",e.title||"",e.body?'<p class="figtag-native__txt">\n                  '+(e.body||"")+"\n                </p>":"",e.clickUrl||"",e.cta||"")},lefigaro$2=lefigaroHtml,_templateObject$1=taggedTemplateLiteral(['<div class="figtag-native">\n        <div class="figtag-native__head">\n            <figure class="figtag-native__pict">\n                <a class="figtag-native__link" href="','" target="_blank">\n                    <div class="figtag-native__img data-img="','" style="background-image:url(\'','\')"></div>\n                </a>\n            </figure>\n        </div>\n        <div class="figtag-native__body">\n            <div class="figtag-native__sponso">\n                <div>Sponsorisé par</div>\n                <a class="figtag-native__link" href="','" target="_blank">par ','</a>\n            </div>\n            <div class="figtag-native__title">\n                <a class="figtag-native__link" href="','" target="_blank">',"</a>\n            </div>\n            ",'\n            <a href="','" target="_blank" class="figtag-native__btn figtag-native__link"><span>','</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 21"><g fill="#CE0033"><path d="M11.773 6.63H10.14l1 1.018 2.552 2.59h-7.94v1.486h7.94l-2.55 2.59-.797.806h1.633l4.062-4.14z"/><path d="M10.754 1.492c5.093 0 9.24 4.148 9.24 9.24 0 5.093-4.147 9.24-9.24 9.24s-9.24-4.147-9.24-9.24c0-5.092 4.147-9.24 9.24-9.24zm0-1.027C5.086.465.487 5.065.487 10.733.487 16.4 5.087 21 10.754 21c5.668 0 10.267-4.6 10.267-10.267 0-5.668-4.6-10.268-10.266-10.268z"/></g></svg></a>\n        </div>\n    </div>'],['<div class="figtag-native">\n        <div class="figtag-native__head">\n            <figure class="figtag-native__pict">\n                <a class="figtag-native__link" href="','" target="_blank">\n                    <div class="figtag-native__img data-img="','" style="background-image:url(\'','\')"></div>\n                </a>\n            </figure>\n        </div>\n        <div class="figtag-native__body">\n            <div class="figtag-native__sponso">\n                <div>Sponsorisé par</div>\n                <a class="figtag-native__link" href="','" target="_blank">par ','</a>\n            </div>\n            <div class="figtag-native__title">\n                <a class="figtag-native__link" href="','" target="_blank">',"</a>\n            </div>\n            ",'\n            <a href="','" target="_blank" class="figtag-native__btn figtag-native__link"><span>','</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 21"><g fill="#CE0033"><path d="M11.773 6.63H10.14l1 1.018 2.552 2.59h-7.94v1.486h7.94l-2.55 2.59-.797.806h1.633l4.062-4.14z"/><path d="M10.754 1.492c5.093 0 9.24 4.148 9.24 9.24 0 5.093-4.147 9.24-9.24 9.24s-9.24-4.147-9.24-9.24c0-5.092 4.147-9.24 9.24-9.24zm0-1.027C5.086.465.487 5.065.487 10.733.487 16.4 5.087 21 10.754 21c5.668 0 10.267-4.6 10.267-10.267 0-5.668-4.6-10.268-10.266-10.268z"/></g></svg></a>\n        </div>\n    </div>']),madameHtml=function(e){return taggedHtml(_templateObject$1,e.clickUrl||"",e.image.url||"",e.image.url||"",e.clickUrl||"",e.sponsoredBy||"",e.clickUrl||"",e.title||"",e.body?'<p class="figtag-native__txt">\n                  '+(e.body||"")+"\n                </p>":"",e.clickUrl||"",e.cta||"")},madame$2=madameHtml,TEMPLATE={"lefigaro.fr":{html:lefigaro$2,css:lefigaro},"madame.lefigaro.fr":{html:madame$2,css:madame}},templates=TEMPLATE;!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return _.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function d(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(_.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(_.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(_.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(_.arrayBuffer&&_.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!y(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function g(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var _={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(_.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},y=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];this.map[e]=r?r+","+i:i},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=n(i)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},_.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},u.call(p.prototype),u.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];v.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=p,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,i){var r=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:g(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new v(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&_.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var defaultSite="lefigaro.fr",template=function(e,t){return templates[t]&&templates[t].html?templates[t].html(e):templates[defaultSite].html(e)},Native=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];classCallCheck(this,e),this.data=t.data,this.onClick=n,this.device=device_1,this.site=t.site||defaultSite}return createClass(e,[{key:"build",value:function(){if(!this.data)throw new Error("NO_NATIVE_AD_DATA");"smartphone"===this.device&&this.handleIcon();var e=document.createElement("div");e.innerHTML=template(this.data,this.site),this._node=e,this.createStyle(),this.binding(),this.trackImpressions()}},{key:"binding",value:function(){var e=this;domReady_1(function(){e._node.querySelectorAll(".figtag-native__link").forEach(function(t){t.addEventListener("click",e.trackClick.bind(e),!1)})})}},{key:"node",value:function(){return this._node}},{key:"handleIcon",value:function(){var e=this.data;e.icon&&void 0!==e.icon.width&&void 0!==e.icon.height?e.image=e.icon:console.warn("NativeAd-> no icon for mobile sent, fallback to image")}},{key:"createStyle",value:function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=templates[this.site].css;t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:n.length&&t.appendChild(document.createTextNode(n)),e.appendChild(t)}},{key:"trackImpressions",value:function(){var e=this.data.impressionTrackers;e&&e.forEach(function(e){self.fetch(e).catch(function(){console.warn("NativeAds-> impressions trackers request failed")})})}},{key:"trackClick",value:function(){var e=this.data.clickTrackers;e&&e.forEach(function(e){self.fetch(e).catch(function(){console.warn("NativeAd-> click trackers request failed")})})}}]),e}(),Native_1=Native,CONFIG$1=figads_config$1&&figads_config||figads_config$1,adFormats=formats_config$1&&formats_config||formats_config$1,STATUS={loaded:"loaded",available:"available",collapse:"collapse",pending:"pending"},FORMATS={banner:"banner",mediation:"mediation",inread:"inread",habillage:"habillage",habillage_rtb:"habillage_rtb",roadblock:"roadblock",native:"native",cover:"cover",native_banner:"native_banner",unknown:"unkown"},FigTag=function(){function e(t){var n=t.node,i=void 0===n?null:n,r=t.pageId,o=void 0===r?null:r,a=t.keywords,s=t.device,d=void 0===s?"desktop":s,l=t.site,c=void 0===l?null:l,u=t.figconsole,f=void 0===u?null:u,p=t.wrap,h=void 0!==p&&p;classCallCheck(this,e),this.loaded=null,this.available=null,this.adUnit=null,this.tagId=null,this._events={resize:[],statusChanged:[],loaded:[],available:[],collapse:[],pending:[],viewEnter:[],viewExit:[]},this._wrap=h,this._format=FORMATS.unknown,this._status=STATUS.pending,this._node=i,this.tagId=this._node.getAttribute("data-figtag"),this._autoShow=!0,this._pageId=o,this._inView=!1,this._lazyloadEnabled=!1,this._site=c,this._device=d,this._figconsole=f,this._size=[0,0],this.figaro={adUnit:null,response:null,keywords:a,allowedFormats:["banner"],invCode:this._generateFigaroInvCode(),mediationStatus:[]},this.skyline={adUnit:null,response:null,allowedFormats:["banner"],invCode:this._generateSkylineInvCode()}}return createClass(e,[{key:"build",value:function(){var e=this;if(this.apntag=window.apntag,this.console=this._figconsole.console(this.tagId),this.logger=new Logger_1,this._updateConsole(),this.tagId in adFormats){this._node.id=this.tagId,this._node.classList.add("figtag");this.figaro.allowedFormats;var t=adFormats[this.tagId],n=t.sizes[this._device];t.allowedApnFormats&&t.allowedApnFormats[this._device]&&(this.figaro.allowedFormats=t.allowedApnFormats[this._device].slice(),this.skyline.allowedFormats=this.figaro.allowedFormats.slice()),t.wrapper&&t.wrapper[this._device]&&this.wrap(),t.lazyload&&t.lazyload[this._device]&&(this.lazyloadEnabled(!0),this.autoShow(!1)),this.figaro.adUnit={formatId:this.tagId,targetId:this.tagId,invCode:this.invCode(),sizes:n,member:CONFIG$1.figaro.memberId,allowedFormats:this.figaro.allowedFormats},-1!==this.figaro.allowedFormats.indexOf("native")&&(this.figaro.adUnit.native=CONFIG$1.native),this.apntag.defineTag(this.figaro.adUnit),this.willPrebid()&&this._buildSkylineAdUnit(),this._attachEvents(),this.on("statusChanged",this._updateConsole.bind(this)),inView("#"+this.tagId).on("enter",function(){e._inView=!0,e._emit("viewEnter")}).on("exit",function(){e._emit("viewExit"),e._inView=!1})}else this.log(CONFIG$1.error.AD_INVALID_SETUP_FORMAT)}},{key:"invCode",value:function(){return this.figaro.invCode}},{key:"willPrebid",value:function(){return CONFIG$1.skyline.targetIdsToSendToSkyline.includes(this.tagId)}},{key:"allowedSkylineFormats",value:function(){return this.skyline.allowedFormats}},{key:"node",value:function(){return this._node}},{key:"size",value:function(){return this._size}},{key:"width",value:function(){return this.size()[0]}},{key:"height",value:function(){return this.size()[1]}},{key:"on",value:function(e,t){this._events[e]?"function"==typeof t?this._events[e].push(t):console.log("FigTag-> callback is not a function"):console.log("FigTag-> event "+e+" is not handled")}},{key:"autoShow",value:function(e){return void 0!==e&&(this._autoShow=e),this._autoShow}},{key:"hasStatus",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this._status)}},{key:"status",value:function(e){if(void 0!==e&&this._status!==e){var t=this._status;this._status=e,this._emit(this._status),this._emit("statusChanged",this._status,t)}return this._status}},{key:"format",value:function(){return this._format}},{key:"wrapperNode",value:function(){return this._wrapperNode}},{key:"_updateConsole",value:function(){var e=this;this.console.log("Signaler la crea","","link",{selects:[CONFIG$1.error.SIGNAL_AD_INVALID,CONFIG$1.error.SIGNAL_AD_UNACCEPTABLE_ONPAGE,CONFIG$1.error.SIGNAL_AD_UNACCEPTABLE_ONSITE,CONFIG$1.error.SIGNAL_AD_BREAK_SITE,CONFIG$1.error.SIGNAL_AD_DEBUG],onclick:function(t,n){var i=t,r=e._figconsole.console("FigAds"),o="SIGNAL: "+i.message+" ("+i.id+")\n\n"+n+"\n\n"+r.toText()+"\n"+e.console.toText();e.log(i),e._figconsole.signal({text:o})}}),this.console.log("invCode",this.invCode()),this.console.log("creativeId",this.creativeId()),this.console.log("buyerMemberId",this.buyerMemberId()),this.console.log("status",this.status()),this.figaro.adUnit&&this.figaro.adUnit.sizes&&this.console.log("sizes",this.figaro.adUnit.sizes.map(function(e){return e.join("x")}).join(" ")),this.console.log("format",this.format()),this.lazyloadEnabled()&&this.console.log("lazyload",!0),this.console.log("from skyline",this.fromSkyline()),this.console.log("from figaro",this.fromFigaro()),this.console.log("size",this.size().join("x")),this.console.log("debugURL",this.debugURL(),"link"),this.console.log("skyline response?",!!this.skyline.response),this.console.log("figaro response?",!!this.figaro.response)}},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0;if("string"==typeof e?n=CONFIG$1.error[e]:e&&e.id&&(n=e),!n)throw new Error("FigTag-> error "+n+" is not defined is config.error");var i=Object.assign({creativeId:this.creativeId(),memberId:this.buyerMemberId(),format:this.format(),url:window.location.href,invCode:this._generateFigaroInvCode(),status:this.status(),tagId:this.tagId,debugUrl:this.debugURL()},t),r=this.logger.log(n.level,n.id+": "+n.message,i);return r.channel(this._pageId),r}},{key:"_guessFormat",value:function(){return this._isMediation()?FORMATS.mediation:this._isRoadblock()?FORMATS.roadblock:this._isNative()?FORMATS.native:this._isHabillage()?FORMATS.habillage:this._isHabillageRtb()?FORMATS.habillage_rtb:this._isCover()?FORMATS.cover:this._isInread()?FORMATS.inread:this._isNativeBanner()?FORMATS.native_banner:this._isBanner()?FORMATS.banner:FORMATS.unknown}},{key:"collapse",value:function(){this.status(STATUS.collapse),this.log(CONFIG$1.error.AD_BLOCKED)}},{key:"hasFormat",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.format())}},{key:"fakeResize",value:function(){if(this.hasFormat(FORMATS.banner,FORMATS.mediation)&&this.hasStatus(STATUS.loaded)){var e=this.figaro.adUnit.sizes,t=this.size(),n=0;e.forEach(function(e,i){t[0]===e[0]&&t[1]===e[1]&&(n=i)}),n||(n=0),e[n+1]?n+=1:n=0;var i=this._node.querySelectorAll("iframe")[0];i&&i.parentElement.removeChild(i),this._onResize(e[n]),this._node.style.backgroundColor="#2e5c99"}}},{key:"fromSkyline",value:function(){return!!this.figaro.response&&(!!this.figaro.response.banner&&/pbjs.renderAd/gi.test(this.figaro.response.banner.content))}},{key:"fromFigaro",value:function(){return!!this.fromSkyline()||!(!this.figaro.response||this.figaro.response.buyerMemberId!==CONFIG$1.figaro.memberId)}},{key:"show",value:function(){this.hasStatus("available")&&(this.apntag.showTag(this.tagId),this.status(STATUS.loaded))}},{key:"creativeId",value:function(){if(this.hasFormat("mediation")){var e=this.figaro.mediationStatus;return e.length?e[e.length-1].creative_id:null}return this.fromSkyline()&&this.skyline&&this.skyline.response?this.skyline.response.creative_id:this.figaro.response&&this.figaro.response.creativeId?this.figaro.response.creativeId:null}},{key:"buyerMemberId",value:function(){try{if(this.hasFormat("mediation")){var e=this.figaro.mediationStatus;return e.length?e[e.length-1].buyer_member_id:null}return this.fromSkyline()&&this.skyline.response?this.skyline.response.buyerMemberId:this.figaro.response&&this.figaro.response.buyerMemberId?this.figaro.response.buyerMemberId:null}catch(e){return null}}},{key:"debug",value:function(){var e=this;if(!this._figdebug){this._figdebug=!0;var t=this.console.clone();domReady_1(function(){document.body.appendChild(t.node()),e._style(t.node(),{position:"fixed"})}),this.consoleClone=t,this._moveConsole(),window.addEventListener("scroll",function(t){e._moveConsole()}),this.on("statusChanged",function(){setTimeout(e._moveConsole.bind(e),100)})}}},{key:"_moveConsole",value:function(){var e=void 0,t=(e=this._wrapperNode?this._wrapperNode:(this._node.style.position,this._node)).getBoundingClientRect();this._style(this.consoleClone.node(),{position:"fixed",top:t.top+"px",left:t.left+"px"})}},{key:"debugURL",value:function(){var e="figappend="+this.tagId;return CONFIG$1.debugURL+"?"+e+"&figdevice="+this._device+"&figpageid="+this._pageId+"&ast_override_div="+this.debugURLParameter()+"&ast_debug=true&pbjs_debug=true#figdebug"}},{key:"debugURLParameter",value:function(){return this.creativeId()?this.hasFormat(FORMATS.mediation)?"":this.tagId+":"+this.creativeId():"no"}},{key:"lazyloadEnabled",value:function(e){return"boolean"==typeof e&&(this._lazyloadEnabled=e),this._lazyloadEnabled}},{key:"wrap",value:function(){this._wrap=!0}},{key:"_attachEvents",value:function(){var e=this;this.figaro.adUnit.on("adAvailable",function(t){e.figaro.response=t,e.status(STATUS.available)}),this.figaro.adUnit.on("adNoBid",function(){e.status(STATUS.collapse)}),this.figaro.adUnit.on("adError",function(t){e.log(CONFIG$1.error.AD_APN_ERROR,{apnError:t})}),this.figaro.adUnit.on("adBadRequest",function(t){e.status(STATUS.collapse),/Could not parse valid tag/gi.test(t.errMessage)?e.log(CONFIG$1.error.AD_INVALID_SETUP_PUBLISHER):/here was an exception from targetId/gi.test(t.errMessage)?e.log(CONFIG$1.error.AD_INVALID_SETUP_INVCODE):e.log(CONFIG$1.error.AD_INVALID_SETUP)}),this.figaro.adUnit.on("adRequestFailure",function(){e.status(STATUS.collapse),e.log(CONFIG$1.error.SIGNAL_APN_REQUESTFAILURE)}),this.figaro.adUnit.on("adCollapse",function(){e.status(STATUS.collapse)}),this.loaded=new promise(function(t,n){e.on("statusChanged",function(i){"loaded"===i&&t(e),"collapse"===i&&n()})}),this.available=new promise(function(t,n){e.on("statusChanged",function(i){"available"===i&&t(e),"collapse"===i&&n()})}),this._dirtySpyOnMediation(),this.on("statusChanged",function(t){e.hasFormat(FORMATS.inread)&&t===STATUS.loaded&&e._dirtyHideInreadInvalidDiv()}),this.on("statusChanged",function(t,n){if(t===STATUS.available){if(e._format=e._guessFormat(),e.hasFormat(FORMATS.inread)&&(e._autoShow=!1,e._style(e._node,{marginBottom:"20px",marginTop:"20px"})),e.hasFormat(FORMATS.habillage_rtb,FORMATS.habillage)&&e.loaded.then(function(){e.hasFormat(FORMATS.habillage_rtb)?e._node.classList.add("fig-habillage"):e._collapseCSS()}),e.hasFormat(FORMATS.mediation))if(e.figaro.adUnit.initialWidth)e._size=[e.figaro.adUnit.initialWidth,e.figaro.adUnit.initialHeight];else{var i=e.figaro.adUnit.adResponse.ads[0];i=i.csm||i.rtb,e._size=[i.banner.width,i.banner.height]}if(e.hasFormat(FORMATS.native)&&(e.autoShow(!1),e.lazyloadEnabled(!0),e._inView&&e._buildNative(),e.on("viewEnter",function(){e.hasStatus(STATUS.available)&&e._buildNative()})),e.hasFormat(FORMATS.native_banner)&&e._style(e._node,{marginTop:"15px",marginBottom:"15px"}),e.hasFormat(FORMATS.banner)&&(e.fromSkyline()?e._size=[e.skyline.response.width,e.skyline.response.height]:e._size=[e.figaro.response.width,e.figaro.response.height]),e.hasFormat(FORMATS.banner,FORMATS.mediation)&&(e._inView&&e.lazyloadEnabled()&&e.show(),e._wrap&&e._wrapNode(),e.on("viewEnter",function(){e.lazyloadEnabled()&&e.hasStatus(STATUS.available)&&(e.show(),e._wrap&&e._updateParallax()),e._parallax&&e._pollParallax()}),e._forceDeclaredSize()),e.hasFormat(FORMATS.roadblock)&&(e.apntag.showTag(e.tagId),e.status(STATUS.collapse)),e.hasFormat(FORMATS.unknown))return void e.status(STATUS.collapse);e._autoShow&&e.show()}t===STATUS.collapse&&e._collapseCSS()})}},{key:"_buildNative",value:function(){if(this.hasStatus("available"))try{var e=this.figaro.response.native;"smartphone"===this._device&&e.icon&&e.icon.url&&(e.image=e.icon);var t=new Native_1({data:e,site:this._site});t.build(),this._nativeNode=t.node(),this._node.appendChild(this._nativeNode),this.status(STATUS.loaded)}catch(e){console.error("FigTag-> error building native",e.stack),this.collapse()}}},{key:"_forceDeclaredSize",value:function(){if(this.hasFormat(FORMATS.banner,FORMATS.mediation)){var e=this.size();this._style(this._node,{width:e[0]+"px",height:e[1]+"px",display:"block",overflow:"hidden"}),"mban_atf"!==this.tagId&&(this._node.style.removeProperty("margin"),this._node.style.removeProperty("position"),this._node.style.removeProperty("clip"))}}},{key:"_collapseCSS",value:function(){this._size=[0,0],this._style(this._node,{width:"1px",height:"1px",overflow:"hidden",clip:"rect(0 0 0 0)",margin:"-1px",position:"absolute"})}},{key:"_style",value:function(e,t){Object.assign(e.style,t)}},{key:"_dirtyHideInreadInvalidDiv",value:function(){var e=document.getElementById("div_utif_inarticle");e&&(e.style.display="none")}},{key:"_dirtySpyOnMediation",value:function(){var e=this,t=/anx-mediation: %c(\S+) %ccreative ids (\d+)/;this.loaded.then(function(){if(e.hasFormat(FORMATS.mediation)){e._addMediationStatus(e.figaro.response.creativeId,"PENDING");var n=e.node().querySelectorAll("iframe")[0];if(n.contentWindow){var i=n.contentWindow;i._consoleGroupCollapse||(i._consoleGroupCollapse=i.console.groupCollapsed),i.console.groupCollapsed=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];i._consoleGroupCollapse.apply(i.console,r);var a=r[0];a&&setTimeout(function(){var n=a.match(t);if(3===n.length){var i=n[1],r=Number(n[2]);e._addMediationStatus(r,i)}})}}}})}},{key:"_addMediationStatus",value:function(e,t){if(e&&t){var n=this.figaro.adUnit.adResponse.ads.find(function(t){return t.creative_id===e});n?(n.mediationStatus=t,this.figaro.mediationStatus.push(n),console.log("FigTag->add mediation status for tagId "+this.tagId+" "+t+" "+e),this._updateConsole()):console.error("FigTag-> could not find mediation with id "+e)}}},{key:"_generateFigaroInvCode",value:function(){return[this._device,this._pageId,this.tagId].join("_")}},{key:"allowedFigaroFormats",value:function(){return this.figaro.allowedFormats}},{key:"_buildSkylineAdUnit",value:function(){this.skyline.adUnit={code:this.tagId,sizes:this.figaro.adUnit.sizes,bids:[{bidder:"appnexusAst",params:{member:CONFIG$1.skyline.memberId,invCode:this.skyline.invCode,keywords:this._generateSkylineKeywords()}}]}}},{key:"_wrapNode",value:function(){var e=this,t=this._node,n=t.parentElement,i=t.nextSibling;this._wrapperNode=toDOM_1({className:"figtag-wrapper",tag:"div",style:"\n            position: relative;\n            margin-bottom: 30px;\n            overflow: hidden;\n        ",children:[{text:"Publicité",className:"figtag-title",accessor:"_wrapperTitleNode",style:"\n              text-transform: uppercase;\n              font-family: sans-serif;\n              padding: 5px 0px;\n              font-size: 16px;\n              margin-left: 10px;\n              color: #8b92a1;\n            "},{className:"figtag-container",accessor:"_wrapperContainerNode",style:"\n              left: 50%;\n              margin-left: -150px;\n              position: relative;\n            "}]},this),this._style(this._node,{marginLeft:"0",marginRight:"0"}),this._wrapperContainerNode.appendChild(t),this.on("statusChanged",function(t){t===STATUS.collapse&&e._style(e._wrapperNode,{width:"1px",height:"1px",overflow:"hidden",clip:"rect(0 0 0 0)",margin:"-1px",position:"absolute"})}),this._updateParallax(),this.on("resize",this._updateParallax.bind(this)),n&&n.insertBefore(this._wrapperNode,i)}},{key:"_updateParallax",value:function(){this._parallax=this.height()>330;if(this._parallax){var e=(this._wrapperTitleNode.offsetHeight||30)+300+15;this._style(this._wrapperNode,{position:"relative",height:e+"px"}),this._style(this._wrapperContainerNode,{position:"absolute",height:"300px",overflow:"hidden",width:this.width()+"px"}),this._inView&&this._pollParallax()}else this._style(this._wrapperNode,{position:"relative",height:"auto"}),this._style(this._wrapperContainerNode,{position:"relative",clip:"auto",height:"auto",width:"auto",overflow:"auto"}),this._style(this._node,{position:"relative",top:"auto",transform:"translateY(0)"})}},{key:"_pollParallax",value:function(){this._inView&&this._wrapperContainerNode&&this._parallax&&(this._doParallax(),requestAnimationFrame(this._pollParallax.bind(this)))}},{key:"_doParallax",value:function(){var e=this._wrapperContainerNode.getBoundingClientRect();if(e){var t=e.top,n=this.height(),i=-(n-300),r=window.innerHeight-250,o=i/(-200-r)*t+(i- -200*i/(-200-r));o>0&&(o=0),o<300-n&&(o=300-n),isNaN(o)||(o!==this._parallaxMargin&&this._style(this._node,{transform:"translateY("+o+"px)"}),this._parallaxMargin=o)}}},{key:"_emit",value:function(e,t,n){this._events[e].forEach(function(e){e(t,n)})}},{key:"_onResize",value:function(e){if(this.hasFormat(FORMATS.banner,FORMATS.mediation)&&(this._size[0]!==e[0]||this._size[1]!==e[1]))if(e[0]<3||e[1]<3)this.status(STATUS.collapse);else{var t=this._size;this._size=e,this._emit("resize",this._size,t),this._forceDeclaredSize()}}},{key:"_isBanner",value:function(){return!(!this.figaro.response||"banner"!==this.figaro.response.adType)}},{key:"_isNative",value:function(){return!(!this.figaro.response||"native"!==this.figaro.response.adType)}},{key:"_isInread",value:function(){return!(!this.fromSkyline()||"video-outstream"!==this.skyline.response.mediaType)||"video"===this.figaro.response.adType}},{key:"_isMediation",value:function(){return this.figaro.adUnit.isMediated}},{key:"_isCover",value:function(){if(!this.figaro.response)return!1;if(1!==this.figaro.response.width||1!==this.figaro.response.height)return!1;if("banner"!==this.figaro.response.adType)return!1;var e=/bs.serving-sys.com\/BurstingPipe/gi;return this.fromSkyline()?e.test(this.skyline.response.ad):e.test(this.figaro.response.banner.content)}},{key:"_isHabillage",value:function(){var e=/AppNexusSkin/gi;return 1800===this.figaro.response.width&&1e3===this.figaro.response.height&&("banner"===this.figaro.response.adType&&(this.fromSkyline()?e.test(this.skyline.response.ad):e.test(this.figaro.response.banner.content)))}},{key:"_isNativeBanner",value:function(){var e=/fig-native-ads/gi;return 2===this.figaro.response.width&&2===this.figaro.response.height&&(!!(this.figaro.response&&this.figaro.response.banner&&this.figaro.response.banner.content)&&e.test(this.figaro.response.banner.content))}},{key:"_isHabillageRtb",value:function(){return 1800===this.figaro.response.width&&1e3===this.figaro.response.height||"habillage"===this.tagId}},{key:"_isRoadblock",value:function(){var e=/<!-- PIXEL_COLLAPSE_AD -->/gi;try{var t=!1;return this.figaro.response&&this.figaro.response.banner&&this.figaro.response.banner.content?t=e.test(this.figaro.response.banner.content):this.figaro.response&&this.figaro.response.native&&(t="roadblock"===this.figaro.response.native.sponsoredBy),t}catch(e){return!1}}},{key:"_onSkylineResponse",value:function(e,t){1===e.getStatusCode()&&(this._dirtyInsertSkylineKeywords(e,t),this.skyline.response=e)}},{key:"_iasTargeting",value:function(e,t){this.apntag.setKeywords(this.tagId,t),this.apntag.setKeywords(this.tagId,e),this.console.log("ias targeting",Object.keys(e).map(function(t){return t+":"+e[t]}).join("\n"))}},{key:"_generateSkylineInvCode",value:function(){return CONFIG$1.skyline.prefix.invCode+this.invCode()}},{key:"_generateSkylineKeywords",value:function(){var e=this,t={},n="test-nxo_scenario";this.figaro.keywords[n]&&(t[n]=this.figaro.keywords[n]);var i=CONFIG$1.skyline.prefix.keyValueToPrebid;return Object.keys(this.figaro.keywords).forEach(function(n){t[i+n]=e.figaro.keywords[n]}),t}},{key:"_dirtyInsertSkylineKeywords",value:function(e,t){var n={};Object.keys(e.adserverTargeting).forEach(function(t){n[t]=e.adserverTargeting[t]});var i=CONFIG$1.skyline.prefix.keyValueToPrimary+"demand_source";n[i]=e.buyerMemberId===CONFIG$1.skyline.memberId?"direct":"rtb";var r=CONFIG$1.skyline.prefix.keyValueToPrimary+"line_item_code";n[r]=t.lineItemCode,n[CONFIG$1.skyline.prefix.keyValueToPrimary+"creative_id"]=e.creative_id,n[CONFIG$1.skyline.prefix.keyValueToPrimary+"media_type"]=e.mediaType,this.apntag.setKeywords(this.tagId,n)}}]),e}(),FigTag_1=FigTag,InArticle=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.container,i=void 0===n?".fig-article-body":n,r=t.index,o=void 0===r?2:r,a=window.document.querySelector.bind(window.document)(i);if(!a)throw new Error("INARTICLE_CONTAINER_NOT_FOUND");var s=Array.prototype.slice.call(a.querySelectorAll("p")).filter(function(e){return e.parentElement===a}).filter(function(e){return!!e.innerHTML&&e.innerHTML.replace(/\s|&nbsp;/gi,"").length>0});if(!s.length)throw new Error("INARTICLE_NO_CONTENT_FOUND");var d=Math.min(o,s.length);if(d===s.length)throw new Error("INARTICLE_TARGET_NOT_FOUND");a.insertBefore(e,s[d-1].nextSibling)}}]),e}(),InArticle_1=InArticle,pbjs$1=window.pbjs,ALLOWED_DEVICE=["smartphone","desktop","tablette"],FigAds=function(){function e(t){classCallCheck(this,e),this._queue=[],t&&(this._queue=t._queue)}return createClass(e,[{key:"init",value:function(e){var t=this,n=e.keywords,i=void 0===n?{}:n,r=e.pageId,o=void 0===r?null:r,a=e.autoShowDisabled,s=void 0===a?[]:a,d=e.site,l=void 0===d?urlParams_1.figsite||"lefigaro.fr":d,c=e.figdevice,u=void 0===c?urlParams_1.figdevice||null:c,f=e.figscenario,p=void 0===f?urlParams_1.figscenario:f,h=e.figappend,g=void 0===h?urlParams_1.figappend:h,v=e.figtest,_=void 0===v?urlParams_1.figtest||!1:v,m=e.figpageid,b=void 0===m?urlParams_1.figpageid||null:m,y=e.figias,w=void 0===y?urlParams_1.figias||!0:y,T=e.figspy,k=void 0===T?urlParams_1.figspy||null:T,I=e.figdebug,E=void 0===I?urlParams_1.figdebug||!1:I,S=e.wrap,A=void 0===S?[]:S;if(this.__errors=[],arguments.length){i||(this.keywords=i),o||this.error("pageId is empty"),this.serverOptions=Object.assign({},CONFIG$1.serverOptions),this.keywords=i,this.pageId=o,b&&(this.pageId=b);var O=/^(\w|\d|_|-)+$/gi;this.pageId&&O.test(this.pageId)||(this.pageId=CONFIG$1.defaultPageId),this.tags=[],this.autoShowDisabled=s,this._figtest=_||!1,this._figspy=k,this._tag={},this._wrap=A,this._site=l,this._figias=w,u&&ALLOWED_DEVICE.includes(u)?this._device=u:this._device=device_1,Object.keys(this.keywords).forEach(function(e){var n=CONFIG$1.skyline.prefix.keyValueToPrebid+e;t.keywords[n]=t.keywords[e]}),p&&(this.keywords["test-nxo_scenario"]=p),Logger_1.config({app_id:"figads",app_environment:CONFIG$1.app_environment,channel:o}),"string"==typeof g&&this._appendTags(g),this._figdebug=E,CONFIG$1.segments&&this._addSegments(),this._detectDebugActivation()}else this.error("FigAds inited without proper options")}},{key:"options",value:function(e){e||console.error("Figads-> invalid options() call",e),console.log("FigAds-> serverOptions called with",e),Object.assign(this.serverOptions,e)}},{key:"inarticle",value:function(){var e=new InArticle_1;return e.append.apply(e,arguments),e}},{key:"load",value:function(){var e=this;this.apntag=window.apntag,this._buildConsole();var t=this._lookForTagsTargets(),n=t.find(function(e){return"inarticle"===e.getAttribute("data-figtag")}),i=t.find(function(e){return"intrusif"===e.getAttribute("data-figtag")});(t.find(function(e){return"native"===e.getAttribute("data-figtag")})||n)&&i&&(t=t.filter(function(e){return"intrusif"!==e.getAttribute("data-figtag")})).unshift(i),n&&"smartphone"===this.device()&&(t=t.filter(function(e){return"pave_atf"!==e.getAttribute("data-figtag")}),CONFIG$1.skyline.roadblockSignalTag="inarticle"),t&&t.length||console.log("FigAds-> No FigTag found via data-figtag= on page"),this.apntag?(t.forEach(this._buildTag.bind(this)),this.allTagsLoaded(this._enableOutbrainDrawer.bind(this)),this._dirtyHandleMbanHabillage(),this._fixKeywords(),promise.all([this._skylineTargeting(),this._iasTargeting()]).then(function(){e.apntag.loadTags()}).catch(function(){e.apntag.loadTags()}),this._catchResizeEvents(),this._figdebug&&this.debug(),this._countVideoPlayers()):console.warn("Figads-> apntag not defined ")}},{key:"_skylineTargeting",value:function(){var e=this;return this._addPbjsBidderSettings(),new promise(function(t,n){var i=[];e.tags.forEach(function(e){e.willPrebid()&&i.push(e.skyline.adUnit)}),i.length?(pbjs$1.addAdUnits(i),pbjs$1.requestBids({adUnits:i,bidsBackHandler:function(){e._setTargetingForSkyline(),e._setApnTagOptions(),t()},timeout:CONFIG$1.prebidTimeout})):t()})}},{key:"_iasTargeting",value:function(){var e=this;return new promise(function(t,n){if(e._figias){window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[];var i=window.__iasPET;if(i.pubId=CONFIG$1.ias.pubId,window.describe)t();else{window.__iasPET&&window.__iasPET.start||e.loadScript(CONFIG$1.ias.scriptUrl);for(var r=window.apntag.requests.tags,o=Object.keys(r),a=[],s=0;s<o.length;s+=1){var d=r[o[s]].sizes;a.push({adSlotId:o[s],size:d,adUnitPath:"-"})}var l=CONFIG$1.ias.timeout,c=!1,u=!1;setTimeout(function(){u||(c=!0,e.console.log("IAS Timeout",!0),t())},l),i.queue.push({adSlots:a,dataHandler:function(n){if(!c)try{var i=JSON.parse(n),r=i.brandSafety;r.fr=i.fr;for(var a=0;a<o.length;a+=1){var s=e.tag(o[a]);if(!s)break;s._iasTargeting(r,i.slots[o[a]])}e.console.log("IAS targeting",!!n),u=!0,t()}catch(e){t()}}})}}else t()})}},{key:"loadScript",value:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.onload=t,n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}},{key:"device",value:function(){return this._device}},{key:"reload",value:function(){var e=this,t=this._lookForTagsTargets();t&&t.length||console.log("FigAds-> No FigTag found via data-figtag= on page"),t.forEach(function(t){e.tag(t.getAttribute("data-figtag"))||e.buildTag(t)}),this.apntag.loadTags()}},{key:"tag",value:function(e){return this.tags.find(function(t){return t.tagId===e})}},{key:"tagLoaded",value:function(e){var t=this;return new promise(function(n,i){var r=t.tag(e);r?n(r.loaded):i("FigAds-> tag "+e+" is not defined")})}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length?this.apntag.anq.push(function(){e.apntag.refresh(t)}):this.apntag.anq.push(function(){e.apntag.refresh()})}},{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.error("FigAds-> error "+e),this.__errors.push({message:e})}},{key:"lastError",value:function(){return this.__errors[this.__errors.length-1]}},{key:"debugURLParameters",value:function(){return""+("figpageid="+this.pageId)+("&figdevice="+this.device())+("&ast_override_div="+this.tags.map(function(e){return e.debugURLParameter()}).join(","))}},{key:"debugURL",value:function(){var e=""+this.tags.map(function(e){return e.tagId}).join(",");return CONFIG$1.debugURL+"?"+this.debugURLParameters()+"&figappend="+e+"&ast_debug=true&pbjs_debug=true#figdebug"}},{key:"reproduceURL",value:function(){window.location.search;var e=window.location.search?window.location.search+"&"+this.debugURLParameters():"?"+this.debugURLParameters();return""+window.location.origin+window.location.pathname+e+"&ast_debug=true&pbjs_debug=true#figdebug"}},{key:"fakeResize",value:function(){this.tags.forEach(function(e){e.fakeResize()})}},{key:"fakeCollapse",value:function(){this.tags.forEach(function(e){e.status("collapse")})}},{key:"ready",value:function(e){"function"==typeof e&&e()}},{key:"debug",value:function(){var e=this;window.pbjs.logging=!0,this.apngtag&&(this.apntag.debug=!0),this._figdebug=!0,this.figconsole.show(),this.tags.forEach(function(e){e.debug()}),this.console.expand(),this.console.log("Signaler la page","","link",{onclick:function(){var t=e.console.toText()+"\n"+e.tags.map(function(e){return e.console.toText()}).join("\n");e.figconsole.signal({text:t})}}),this.console.log("pageId",this.pageId),this.apntag||this.console.log("ApnTag loaded ? ",!1),this.console.log("tagIds",this.tags.map(function(e){return e.tagId}).join(", ")),this.console.log("serverOptions",JSON.stringify(this.serverOptions)),this.console.log("IAS enabled",!!this._figias),this.console.log("keywords",Object.keys(this.keywords).map(function(t){return t+": "+e.keywords[t]}).join("\n")),this.allTagsLoaded(function(){e.console.log("debugURL",e.debugURL(),"link"),e.console.log("reproduceURL",e.reproduceURL(),"link")})}},{key:"allTagsLoaded",value:function(e){return promise.all(this.tags.map(function(e){return e.loaded})).then(e).catch(e)}},{key:"_addPbjsBidderSettings",value:function(){pbjs$1.bidderSettings={standard:{alwaysUseBid:!1,adserverTargeting:[{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"hb_bidder",val:function(e){return e.bidderCode}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"hb_adid",val:function(e){return e.adId}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"hb_pb",val:function(e){return e.pbCg}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"hb_size",val:function(e){return e.size}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"hb_deal",val:function(e){return e.dealId}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"creative_id",val:function(e){return e.creative_id}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"demand_source",val:function(e){return e.buyerMemberId===CONFIG$1.skyline.memberId?"direct":"rtb"}},{key:CONFIG$1.skyline.prefix.keyValueToPrimary+"media_type",val:function(e){return e.mediaType}}]}},pbjs$1.setPriceGranularity({buckets:[{precision:2,min:5,max:17,increment:.01},{precision:2,min:17,max:22,increment:.05},{precision:2,min:22,max:27,increment:.1}]})}},{key:"_unqueue",value:function(){this._queue.forEach(function(e){try{e()}catch(e){setTimeout(function(){throw new Error(e)})}})}},{key:"_buildConsole",value:function(){this.figconsole=new FigConsole_1,this.figconsole.build(),this.console=this.figconsole.console("FigAds")}},{key:"_lookForTagsTargets",value:function(){var e=[];return document.querySelectorAll("[data-figtag]").forEach(function(t){e.push(t)}),e}},{key:"_catchResizeEvents",value:function(){var e=this;window._apngtagResize||(window._apngtagResize=window.apntag.resizeAd),window.apntag.resizeAd=function(t,n){if(window._apngtagResize(t,n),t&&n&&2===n.length){var i=e.tag(t);if(i){var r=Number(n[0]),o=Number(n[1]);isNaN(r)||isNaN(o)||i._onResize([r,o])}}}}},{key:"_countVideoPlayers",value:function(){var e=document.querySelectorAll("iframe[src^=\\/\\/players\\.brightcove]");if(e){var t=e.length;t&&(this.keywords.players=t,this.console.log("Players on page",t))}}},{key:"_fixKeywords",value:function(){var e=this;Object.keys(this.keywords).forEach(function(t){"string"==typeof e.keywords[t]&&(e.keywords[t]=e.keywords[t].replace(/'/gi,"-"))})}},{key:"_enableOutbrainDrawer",value:function(){var e=this;setTimeout(function(){if(!0===e.serverOptions.DRAWER)try{window.OBR&&window.OBR.extern&&(console.log("FigAds-> activate Outbrain drawer via OBR.enableTbx() call"),window.OBR.extern.enableTbx())}catch(e){console.error("Figads->enableTbx failed",e)}})}},{key:"_dirtyHandleMbanHabillage",value:function(){var e=this.tag("mban_atf"),t=this.tag("habillage");return!(!e||!t)&&(e.autoShow(!1),t.loaded.then(function(){t.hasFormat("habillage_rtb")&&e.hasFormat("banner","mediation")?(console.warn("Figads-> habillage and mban_atf available, collapsing mban"),e.collapse()):e.show(),t.hasFormat("habillage")&&e.hasFormat("banner","mediation")&&(e.node().style.backgroundColor="transparent")}).catch(function(){e.available.then(function(){setTimeout(function(){e.show()})})}),!0)}},{key:"buildTag",value:function(e){this._buildTag(e)}},{key:"getSizes",value:function(e,t){try{return adFormats[e].sizes[t].map(function(e){return e.join("x")}).join("\n")||null}catch(e){return null}}},{key:"_addSegments",value:function(){CONFIG$1.segments.forEach(this._addSegment.bind(this))}},{key:"_addSegment",value:function(e){domReady_1(function(){var t=document.getElementById(e)||document.createElement("img");t.width="1px",t.height="1px",t.src=e,document.body.appendChild(t)})}},{key:"_appendTags",value:function(e){e.split(",").forEach(this._appendTag)}},{key:"_appendTag",value:function(e){var t=e;if(!adFormats[t])throw new Error("FigTagDebug-> no format for tag "+t);var n=toDOM_1({className:"figtag",children:[{tag:"h1",text:t},{attr:{"data-figtag":t}}]});document.body.appendChild(n)}},{key:"_buildTag",value:function(e){var t=this,n=e.getAttribute("data-figdevice");if(!n||n===this._device){var i=this._lookForTagsTargets().filter(function(t){return t.getAttribute("data-figtag")===e.getAttribute("data-figtag")}).find(function(e){return e.getAttribute("data-figdevice")===t._device});if(!i||(e=i,!this.tag(e.getAttribute("data-figtag")))){var r=new FigTag_1({pageId:this.pageId,node:e,keywords:this.keywords,figconsole:this.figconsole,device:this._device,site:this._site,figtest:this._figtest});if(this.pageId!==CONFIG$1.testPageId||CONFIG$1.skyline.targetIdsToSendToSkyline.includes(r.tagId)){try{r.build(),-1!==this.autoShowDisabled.indexOf(r.tagId)&&r.autoShow(!1),-1!==this._wrap.indexOf(r.tagId)&&r.wrap(!0)}catch(e){this.error("Error building tag "+e.stack)}this.tags.push(r),this._tag[r.tagId]=r}}}}},{key:"_setApnTagOptions",value:function(){this.apntag.setPageOpts({member:CONFIG$1.figaro.memberId,keywords:this.keywords})}},{key:"_setTargetingForSkyline",value:function(){var e=this,t=pbjs$1.getBidResponses(),n=CONFIG$1.skyline.prefix.keyValueToPrimary+"roadblock";this.keywords[n]=0;var i=CONFIG$1.skyline.prefix.keyValueToPrimary+"roadblock_line_item_code";this.keywords[i]="",Object.keys(t).forEach(function(r){var o=e.tag(r);o||console.error("FigTag could not be found for prebid respond "+r);var a=t[r].bids[0];if(1===a.getStatusCode()){var s=e._parseBidResponse(a);s&&(r===CONFIG$1.skyline.roadblockSignalTag&&s.isRoadblock&&(e.keywords[n]=1,e.keywords[i]=s.lineItemCode),o._onSkylineResponse(a,s))}else o._onSkylineResponse(a)})}},{key:"_parseBidResponse",value:function(e){var t={isRoadblock:!1,lineItemCode:""},n=void 0;try{if("mediaType"in e&&"video-outstream"===e.mediaType)null!=(n=e.adResponse.ad.rtb.video.content.match(/bounce\?NXO_LINE_ITEM_CODE\=([^\]\<]*)/))&&(t.lineItemCode=n[1]);else if(null!=(n=e.ad.match(/\/\* NXO_START (\{.*?\}) NXO_END \*\//))){var i=JSON.parse(n[1]);for(var r in i)t[r]=i[r]}}catch(e){console.log("Failed to decode creative",e)}return t}},{key:"_detectDebugActivation",value:function(){var e=this;"#figdebug"===window.location.hash&&(this._figdebug=!0),window.addEventListener("hashchange",function(){"#figdebug"===window.location.hash&&e.debug()},!1);return}}]),e}(),FigAds_1=FigAds;window.figads=new FigAds_1(window.figads),window.FigAds=FigAds_1,window.native=Native_1;
