!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/web/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(1),o=r(i),a=n(14),s=n(95),u=r(s),c=new o["default"](a.ContentBlocks);c.build("Fifty->content");var l=new o["default"](a.ContentAdsBlocks);l.buildAds("Fifty->content->ads");var f=[{id:"BlockErrorPage",selector:'[data-component="error-page"]',blockConstructor:u["default"]}],p=new o["default"](f);p.build("Fifty->404")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(2),u=n(12),c=r(u),l=function(){function t(e){i(this,t),this.blocks=e,this.figpage=new s.Page}return t.prototype.getBlock=function(t){return this.blocks.filter(function(e){return e.id===t})[0]},t.prototype.addOptions=function(t,e){var n=this.getBlock(t);n&&(n.options||(n.options={}),Object.assign(n.options,e))},t.prototype.build=function(t){var e=this;if(!this.blocks)return void console.error("BlockBuilder-> build, missing blocks config");try{this.blocks.map(function(t){e.buildBlock(t)})}catch(n){console.error(t,n)}},t.prototype.buildAds=function(t){var e=this,n=window.figads;n&&n.ready(function(){e.build(t)})},t.prototype.buildBlock=function(t){if(!t.selector||!t.blockConstructor||!t.id)return void console.error("BlockBuilder-> build, missing parameters, block id: "+t.id+", block selector: "+t.selector+", block constructor: "+a(t.blockConstructor));var e=(0,c["default"])(t.selector);if(e.length){var n=void 0;try{n=t.multiple?e.toArray().map(function(e){return new t.blockConstructor(o({$el:(0,c["default"])(e)},t.options))}):new t.blockConstructor(o({$el:e},t.options))}catch(r){console.error("BlockBuilder-> error building block "+t.id,r.message)}if(n)if(n.length){var i;(i=this.figpage).add.apply(i,n)}else this.figpage.add(n)}},t}();e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.util=e.Page=e.constants=e.Block=void 0;var i=n(3),o=r(i),a=n(7),s=r(a),u=n(8),c=r(u),l=n(13),f=r(l);e.Block=o["default"],e.constants=s["default"],e.Page=c["default"],e.util=f["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(4),s=n(5),u=r(s),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.initialData,r=void 0===n?{}:n,s=e.initialRender,c=void 0===s||s,l=i(e,["initialData","initialRender"]);o(this,t),Object.assign(this,l,{__id:(0,u["default"])("block_"),data:(0,a.fromJS)(r)}),this.binding(),!!c&&this.render()}return t.prototype.setValues=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.data;for(var r in t)n=n.setIn(r.split("."),(0,a.fromJS)(t[r]));this.__setData(n,e)},t.prototype.__setData=function(t,e){(0,a.is)(this.data,t)||(this.data=t,e?e.bind(this)():this.render())},t.prototype.add=function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];0===n.length&&(n=[this]),(t=self.figpage.currentPage).add.apply(t,n)},t.prototype.remove=function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];0===n.length&&(n=[this]),(t=self.figpage.currentPage).remove.apply(t,n)},t.prototype.binding=function(){},t.prototype.unbinding=function(){},t.prototype.render=function(){},t}();e["default"]=c},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:A(t)}function n(t){return a(t)?t:M(t)}function r(t){return s(t)?t:C(t)}function i(t){return o(t)&&!u(t)?t:D(t)}function o(t){return!(!t||!t[cn])}function a(t){return!(!t||!t[ln])}function s(t){return!(!t||!t[fn])}function u(t){return a(t)||s(t)}function c(t){return!(!t||!t[pn])}function l(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function h(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(m)),t.size}function v(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function m(){return!0}function g(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function y(t,e){return b(t,e,0)}function _(t,e){return b(t,e,e)}function b(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function S(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function k(){return{value:void 0,done:!0}}function O(t){return!!I(t)}function T(t){return t&&"function"==typeof t.next}function E(t){var e=I(t);return e&&e.call(t)}function I(t){var e=t&&(kn&&t[kn]||t[On]);if("function"==typeof e)return e}function P(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?B():o(t)?t.toSeq():q(t)}function M(t){return null===t||void 0===t?B().toKeyedSeq():o(t)?a(t)?t.toSeq():t.fromEntrySeq():L(t)}function C(t){return null===t||void 0===t?B():o(t)?a(t)?t.entrySeq():t.toIndexedSeq():N(t)}function D(t){return(null===t||void 0===t?B():o(t)?a(t)?t.entrySeq():t:N(t)).toSetSeq()}function j(t){this._array=t,this.size=t.length}function x(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function z(t){this._iterable=t,this.size=t.length||t.size}function $(t){this._iterator=t,this._iteratorCache=[]}function R(t){return!(!t||!t[En])}function B(){return In||(In=new j([]))}function L(t){var e=Array.isArray(t)?new j(t).fromEntrySeq():T(t)?new $(t).fromEntrySeq():O(t)?new z(t).fromEntrySeq():"object"==typeof t?new x(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function N(t){var e=U(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function q(t){var e=U(t)||"object"==typeof t&&new x(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function U(t){return P(t)?new j(t):T(t)?new $(t):O(t)?new z(t):void 0}function W(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(e(s[1],r?s[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,n)}function F(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new w(function(){var t=i[n?o-a:a];return a++>o?k():S(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function H(t,e){return e?V(e,t,"",{"":t}):G(t)}function V(t,e,n,r){return Array.isArray(e)?t.call(r,n,C(e).map(function(n,r){return V(t,n,r,e)})):J(e)?t.call(r,n,M(e).map(function(n,r){return V(t,n,r,e)})):e}function G(t){return Array.isArray(t)?C(t).map(G).toList():J(t)?M(t).map(G).toMap():t}function J(t){return t&&(t.constructor===Object||void 0===t.constructor)}function K(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Y(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||s(t)!==s(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&K(i[1],t)&&(n||K(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var l=t;t=e,e=l}var f=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):i?!K(e,t.get(r,gn)):!K(t.get(r,gn),e))return f=!1,!1});return f&&t.size===p}function X(t,e){if(!(this instanceof X))return new X(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Pn)return Pn;Pn=this}}function Q(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(Q(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(An)return An;An=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Rn?at(t):st(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return ut(t);if("function"==typeof t.toString)return st(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function at(t){var e=Nn[t];return void 0===e&&(e=st(t),Ln===Bn&&(Ln=0,Nn={}),Ln++,Nn[t]=e),e}function st(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function ut(t){var e;if(xn&&(e=Mn.get(t),void 0!==e))return e;if(e=t[$n],void 0!==e)return e;if(!jn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[$n],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++zn,1073741824&zn&&(zn=0),xn)Mn.set(t,e);else{if(void 0!==Dn&&Dn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(jn)Object.defineProperty(t,$n,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[$n]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[$n]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){Q(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?St():pt(t)&&!c(t)?t:St().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[qn])}function ht(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function mt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function gt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function yt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&bt(t._root)}function _t(t,e){return S(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var i=Object.create(Un);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function St(){return Wn||(Wn=wt(0))}function kt(t,e,n){var r,i;if(t._root){var o=l(yn),a=l(_n);if(r=Ot(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===gn?-1:1:0)}else{if(n===gn)return t;i=1,r=new ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(i,r):St()}function Ot(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===gn?t:(f(s),f(a),new gt(e,r,[i,o]))}function Tt(t){return t.constructor===gt||t.constructor===mt}function Et(t,e,n,r,i){if(t.keyHash===r)return new mt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&mn,s=(0===n?r:r>>>n)&mn,u=a===s?[Et(t,e,n+dn,r,i)]:(o=new gt(e,r,i),a<s?[t,o]:[o,t]);return new dt(e,1<<a|1<<s,u)}function It(t,e,n,r){t||(t=new p);for(var i=new gt(t,ot(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function Pt(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new dt(t,i,a)}function At(t,e,n,r,i){for(var o=0,a=new Array(vn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new vt(t,o+1,a)}function Mt(t,e,r){for(var i=[],a=0;a<r.length;a++){var s=r[a],u=n(s);o(s)||(u=u.map(function(t){return H(t)})),i.push(u)}return jt(t,e,i)}function Ct(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):K(t,e)?t:e}function Dt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return K(e,i)?e:i}}function jt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,gn,function(t){return t===gn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function xt(t,e,n,r){var i=t===gn,o=e.next();if(o.done){var a=i?n:t,s=r(a);return s===a?t:s}Q(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?gn:t.get(u,gn),l=xt(c,e,n,r);return l===c?t:l===gn?t.remove(u):(i?St():t).set(u,l)}function zt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function $t(t,e,n,r){var i=r?t:h(t);return i[e]=n,i}function Rt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function Bt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}function Lt(t){var e=Ft();if(null===t||void 0===t)return e;if(Nt(t))return t;var n=r(t),i=n.size;return 0===i?e:(lt(i),i>0&&i<vn?Wt(0,i,dn,null,new qt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Nt(t){return!(!t||!t[Gn])}function qt(t,e){this.array=t,this.ownerID=e}function Ut(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===s?u&&u.array:t&&t.array,i=n>o?0:o-n,c=a-n;return c>vn&&(c=vn),function(){if(i===c)return Yn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var s,u=t&&t.array,c=i>o?0:o-i>>r,l=(a-i>>r)+1;return l>vn&&(l=vn),function(){for(;;){if(s){var t=s();if(t!==Yn)return t;s=null}if(c===l)return Yn;var o=e?--l:c++;s=n(u&&u[o],r-dn,i+(o<<r))}}}var o=t._origin,a=t._capacity,s=Xt(a),u=t._tail;return n(t._root,t._level,0)}function Wt(t,e,n,r,i,o,a){var s=Object.create(Jn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Ft(){return Kn||(Kn=Wt(0,0,dn))}function Ht(t,e,n){if(e=v(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Kt(t,e).set(0,n):Kt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=l(_n);return e>=Xt(t._capacity)?r=Vt(r,t.__ownerID,0,e,n,o):i=Vt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Wt(t._origin,t._capacity,t._level,i,r):t}function Vt(t,e,n,r,i,o){var a=r>>>n&mn,s=t&&a<t.array.length;if(!s&&void 0===i)return t;var u;if(n>0){var c=t&&t.array[a],l=Vt(c,e,n-dn,r,i,o);return l===c?t:(u=Gt(t,e),u.array[a]=l,u)}return s&&t.array[a]===i?t:(f(o),u=Gt(t,e),void 0===i&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function Gt(t,e){return e&&t&&e===t.ownerID?t:new qt(t?t.array.slice():[],e)}function Jt(t,e){if(e>=Xt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&mn],r-=dn;return n}}function Kt(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new p,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new qt(c&&c.array.length?[void 0,c]:[],r),u+=dn,l+=1<<u;l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Xt(o),h=Xt(s);h>=1<<u+dn;)c=new qt(c&&c.array.length?[c]:[],r),u+=dn;var d=t._tail,v=h<f?Jt(t,s-1):h>f?new qt([],r):d;if(d&&h>f&&a<o&&d.array.length){c=Gt(c,r);for(var m=c,g=u;g>dn;g-=dn){var y=f>>>g&mn;m=m.array[y]=Gt(m.array[y],r)}m.array[f>>>dn&mn]=d}if(s<o&&(v=v&&v.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=dn,c=null,v=v&&v.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;c;){var _=a>>>u&mn;if(_!==h>>>u&mn)break;_&&(l+=(1<<u)*_),u-=dn,c=c.array[_]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):Wt(a,s,u,c,v)}function Yt(t,e,n){for(var i=[],a=0,s=0;s<n.length;s++){var u=n[s],c=r(u);c.size>a&&(a=c.size),o(u)||(c=c.map(function(t){return H(t)})),i.push(c)}return a>t.size&&(t=t.setSize(a)),jt(t,e,i)}function Xt(t){return t<vn?0:t-1>>>dn<<dn}function Qt(t){return null===t||void 0===t?ee():Zt(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Zt(t){return pt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Qt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Xn||(Xn=te(St(),Ft()))}function ne(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===gn){if(!u)return t;a.size>=vn&&a.size>=2*o.size?(i=a.filter(function(t,e){return void 0!==t&&s!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ae(t){this._iter=t,this.size=t.size}function se(t){var e=Pe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ae,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===Sn){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?bn:wn,n)},e}function ue(t,e,n){var r=Pe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,gn);return o===gn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return r(e.call(n,t,i,a),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(Sn,i);return new w(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return S(r,s,e.call(n,a[1],s,t),i)})},r}function ce(t,e){var n=Pe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ae,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var i=Pe(t);return r&&(i.has=function(r){var i=t.get(r,gn);return i!==gn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,gn);return o!==gn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(Sn,o),s=0;return new w(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return S(i,r?c:s++,l,o)}})},i}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=a(t),i=(c(t)?Qt():ft()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return t=t||[],t.push(r?[a,o]:o),t})});var o=Ie(t);return i.map(function(e){return Oe(t,o(e))})}function he(t,e,n,r){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=n===1/0?i:0|n),g(e,n,i))return t;var o=y(e,i),a=_(n,i);if(o!==o||a!==a)return he(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var c=Pe(t);return c.size=0===s?s:t.size&&s||void 0,!r&&R(t)&&s>=0&&(c.get=function(e,n){return e=v(this,e),e>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<o))return c++,e(t,r?n:c-1,i)!==!1&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new w(function(){for(;a++<o;)i.next();if(++u>s)return k();var t=i.next();return r||e===wn?t:e===bn?S(e,u-1,void 0,t):S(e,u-1,t.value[1],t)})},c}function de(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(Sn,i),s=!0;return new w(function(){if(!s)return k();var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===Sn?t:S(r,u,c,t):(s=!1,k())})},r}function ve(t,e,n,r){var i=Pe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate(function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(Sn,o),u=!0,c=0;return new w(function(){var t,o,l;do{if(t=s.next(),t.done)return r||i===wn?t:i===bn?S(i,c++,void 0,t):S(i,c++,t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return i===Sn?t:S(i,o,l,t)})},i}function me(t,e){var r=a(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?L(t):N(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var u=i[0];if(u===t||r&&a(u)||s(t)&&s(u))return u}var c=new j(i);return r?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ge(t,e,n){var r=Pe(t);return r.__iterateUncached=function(r,i){function a(t,c){var l=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?a(t,c+1):r(t,n?i:s++,l)===!1&&(u=!0),!u},i)}var s=0,u=!1;return a(t,0),s},r.__iteratorUncached=function(r,i){var a=t.__iterator(r,i),s=[],u=0;return new w(function(){for(;a;){var t=a.next();if(t.done===!1){var c=t.value;if(r===Sn&&(c=c[1]),e&&!(s.length<e)||!o(c))return n?t:S(r,u++,c,t);s.push(a),a=c.__iterator(r,i)}else a=s.pop()}return k()})},r}function ye(t,e,n){var r=Ie(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function _e(t,e){var n=Pe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(wn,r),a=0;return new w(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?S(n,a++,e):S(n,a++,i.value,i)})},n}function be(t,e,n){e||(e=Me);var r=a(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?M(o):s(t)?C(o):D(o)}function we(t,e,n){if(e||(e=Me),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Se(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Se(e,t,n)?n:t})}function Se(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function ke(t,n,r){var i=Pe(t);return i.size=new j(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),E(i?t.reverse():t)}),a=0,s=!1;return new w(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?k():S(t,a++,n.apply(null,e.map(function(t){return t.value})))})},i}function Oe(t,e){return R(t)?e:t.constructor(e)}function Te(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ee(t){return lt(t.size),d(t)}function Ie(t){return a(t)?n:s(t)?r:i}function Pe(t){return Object.create((a(t)?M:s(t)?C:D).prototype)}function Ae(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function Me(t,e){return t>e?1:t<e?-1:0}function Ce(t){var n=E(t);if(!n){if(!P(t))throw new TypeError("Expected iterable or array-like: "+t);n=E(e(t))}return n}function De(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);ze(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=ft(o)},i=r.prototype=Object.create(Qn);return i.constructor=r,r}function je(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function xe(t){return t._name||t.constructor.name||"Record"}function ze(t,e){try{e.forEach($e.bind(void 0,t))}catch(n){}}function $e(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Re(t){return null===t||void 0===t?qe():Be(t)&&!c(t)?t:qe().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Be(t){return!(!t||!t[Zn])}function Le(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Ne(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qe(){return er||(er=Ne(St()))}function Ue(t){return null===t||void 0===t?He():We(t)?t:He().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function We(t){return Be(t)&&c(t)}function Fe(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function He(){return rr||(rr=Fe(ee()))}function Ve(t){return null===t||void 0===t?Ke():Ge(t)?t:Ke().unshiftAll(t)}function Ge(t){return!(!t||!t[ir])}function Je(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ke(){return ar||(ar=Je(0))}function Ye(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xe(t,e){return e}function Qe(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return h(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=a(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+sn(ot(t),ot(e))|0}:function(t,e){r=r+sn(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return an(i,r)}function an(t,e){return e=Cn(e,3432918353),e=Cn(e<<15|e>>>-15,461845907),e=Cn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Cn(e^e>>>16,2246822507),e=Cn(e^e>>>13,3266489909),e=it(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var un=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=a,e.isIndexed=s,e.isAssociative=u,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",hn="delete",dn=5,vn=1<<dn,mn=vn-1,gn={},yn={value:!1},_n={value:!1},bn=0,wn=1,Sn=2,kn="function"==typeof Symbol&&Symbol.iterator,On="@@iterator",Tn=kn||On;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=bn,w.VALUES=wn,w.ENTRIES=Sn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[Tn]=function(){return this},t(A,e),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return W(this,t,e,!0)},A.prototype.__iterator=function(t,e){return F(this,t,e,!0)},t(M,A),M.prototype.toKeyedSeq=function(){return this},t(C,A),C.of=function(){return C(arguments)},C.prototype.toIndexedSeq=function(){return this},C.prototype.toString=function(){return this.__toString("Seq [","]")},C.prototype.__iterate=function(t,e){return W(this,t,e,!1)},C.prototype.__iterator=function(t,e){return F(this,t,e,!1)},t(D,A),D.of=function(){return D(arguments)},D.prototype.toSetSeq=function(){return this},A.isSeq=R,A.Keyed=M,A.Set=D,A.Indexed=C;var En="@@__IMMUTABLE_SEQ__@@";A.prototype[En]=!0,t(j,C),j.prototype.get=function(t,e){return this.has(t)?this._array[v(this,t)]:e},j.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},j.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?k():S(t,i,n[e?r-i++:i++])})},t(x,M),x.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},x.prototype.has=function(t){return this._object.hasOwnProperty(t)},x.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(t(n[a],a,this)===!1)return o+1}return o},x.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var a=r[e?i-o:o];return o++>i?k():S(t,a,n[a])})},x.prototype[pn]=!0,t(z,C),z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=E(n),i=0;if(T(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=E(n);if(!T(r))return new w(k);var i=0;return new w(function(){var e=r.next();return e.done?e:S(t,i++,e.value)})},t($,C),$.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,t(a,i++,this)===!1)break}return i},$.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return S(t,i,r[i++])})};var In;t(X,C),X.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},X.prototype.get=function(t,e){return this.has(t)?this._value:e;
},X.prototype.includes=function(t){return K(this._value,t)},X.prototype.slice=function(t,e){var n=this.size;return g(t,e,n)?this:new X(this._value,_(e,n)-y(t,n))},X.prototype.reverse=function(){return this},X.prototype.indexOf=function(t){return K(this._value,t)?0:-1},X.prototype.lastIndexOf=function(t){return K(this._value,t)?this.size:-1},X.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},X.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?S(t,r++,n._value):k()})},X.prototype.equals=function(t){return t instanceof X?K(this._value,t._value):Y(t)};var Pn;t(Z,C),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+v(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return g(t,e,this.size)?this:(t=y(t,this.size),e=_(e,this.size),e<=t?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Z.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new w(function(){var a=i;return i+=e?-r:r,o>n?k():S(t,o++,a)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:Y(this,t)};var An;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Mn,Cn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Dn=Object.isExtensible,jn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),xn="function"==typeof WeakMap;xn&&(Mn=new WeakMap);var zn=0,$n="__immutablehash__";"function"==typeof Symbol&&($n=Symbol($n));var Rn=16,Bn=255,Ln=0,Nn={};t(ft,et),ft.of=function(){var t=un.call(arguments,0);return St().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return kt(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,gn,function(){return e})},ft.prototype.remove=function(t){return kt(this,t,gn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return gn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=xt(this,Ce(t),e,n);return r===gn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):St()},ft.prototype.merge=function(){return Mt(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Mt(this,t,e)},ft.prototype.mergeIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Mt(this,Ct,arguments)},ft.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Mt(this,Dt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Qt(be(this,t))},ft.prototype.sortBy=function(t,e){return Qt(be(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new yt(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var qn="@@__IMMUTABLE_MAP__@@",Un=ft.prototype;Un[qn]=!0,Un[hn]=Un.remove,Un.removeIn=Un.deleteIn,ht.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(K(n,i[o][0]))return i[o][1];return r},ht.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===gn,u=this.entries,c=0,l=u.length;c<l&&!K(r,u[c][0]);c++);var p=c<l;if(p?u[c][1]===i:s)return this;if(f(a),(s||!p)&&f(o),!s||1!==u.length){if(!p&&!s&&u.length>=Fn)return It(t,u,r,i);var d=t&&t===this.ownerID,v=d?u:h(u);return p?s?c===l-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new ht(t,v)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&mn),o=this.bitmap;return 0===(o&i)?r:this.nodes[zt(o&i-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&mn,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&i===gn)return this;var f=zt(c&u-1),p=this.nodes,h=l?p[f]:void 0,d=Ot(h,t,e+dn,n,r,i,o,a);if(d===h)return this;if(!l&&d&&p.length>=Hn)return At(t,p,c,s,d);if(l&&!d&&2===p.length&&Tt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&Tt(d))return d;var v=t&&t===this.ownerID,m=l?d?c:c^u:c|u,g=l?d?$t(p,f,d,v):Bt(p,f,v):Rt(p,f,d,v);return v?(this.bitmap=m,this.nodes=g,this):new dt(t,m,g)},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&mn,o=this.nodes[i];return o?o.get(t+dn,e,n,r):r},vt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&mn,u=i===gn,c=this.nodes,l=c[s];if(u&&!l)return this;var f=Ot(l,t,e+dn,n,r,i,o,a);if(f===l)return this;var p=this.count;if(l){if(!f&&(p--,p<Vn))return Pt(t,c,p,s)}else p++;var h=t&&t===this.ownerID,d=$t(c,s,f,h);return h?(this.count=p,this.nodes=d,this):new vt(t,p,d)},mt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(K(n,i[o][0]))return i[o][1];return r},mt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=i===gn;if(n!==this.keyHash)return s?this:(f(a),f(o),Et(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!K(r,u[c][0]);c++);var p=c<l;if(p?u[c][1]===i:s)return this;if(f(a),(s||!p)&&f(o),s&&2===l)return new gt(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,v=d?u:h(u);return p?s?c===l-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new mt(t,this.keyHash,v)},gt.prototype.get=function(t,e,n,r){return K(n,this.entry[0])?this.entry[1]:r},gt.prototype.update=function(t,e,n,r,i,o,a){var s=i===gn,u=K(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(f(a),s?void f(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new gt(t,this.keyHash,[r,i]):(f(o),Et(this,t,e,ot(r),[r,i])))},ht.prototype.iterate=mt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1},dt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},gt.prototype.iterate=function(t,e){return t(this.entry)},t(yt,w),yt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return _t(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return _t(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return _t(t,o.entry);e=this._stack=bt(o,e)}continue}e=this._stack=this._stack.__prev}return k()};var Wn,Fn=vn/4,Hn=vn/2,Vn=vn/4;t(Lt,nt),Lt.of=function(){return this(arguments)},Lt.prototype.toString=function(){return this.__toString("List [","]")},Lt.prototype.get=function(t,e){if(t=v(this,t),t>=0&&t<this.size){t+=this._origin;var n=Jt(this,t);return n&&n.array[t&mn]}return e},Lt.prototype.set=function(t,e){return Ht(this,t,e)},Lt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Lt.prototype.insert=function(t,e){return this.splice(t,0,e)},Lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ft()},Lt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Kt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Lt.prototype.pop=function(){return Kt(this,0,-1)},Lt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Kt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Lt.prototype.shift=function(){return Kt(this,1)},Lt.prototype.merge=function(){return Yt(this,void 0,arguments)},Lt.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Yt(this,t,e)},Lt.prototype.mergeDeep=function(){return Yt(this,Ct,arguments)},Lt.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Yt(this,Dt(t),e)},Lt.prototype.setSize=function(t){return Kt(this,0,t)},Lt.prototype.slice=function(t,e){var n=this.size;return g(t,e,n)?this:Kt(this,y(t,n),_(e,n))},Lt.prototype.__iterator=function(t,e){var n=0,r=Ut(this,e);return new w(function(){var e=r();return e===Yn?k():S(t,n++,e)})},Lt.prototype.__iterate=function(t,e){for(var n,r=0,i=Ut(this,e);(n=i())!==Yn&&t(n,r++,this)!==!1;);return r},Lt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Wt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Lt.isList=Nt;var Gn="@@__IMMUTABLE_LIST__@@",Jn=Lt.prototype;Jn[Gn]=!0,Jn[hn]=Jn.remove,Jn.setIn=Un.setIn,Jn.deleteIn=Jn.removeIn=Un.removeIn,Jn.update=Un.update,Jn.updateIn=Un.updateIn,Jn.mergeIn=Un.mergeIn,Jn.mergeDeepIn=Un.mergeDeepIn,Jn.withMutations=Un.withMutations,Jn.asMutable=Un.asMutable,Jn.asImmutable=Un.asImmutable,Jn.wasAltered=Un.wasAltered,qt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&mn;if(r>=this.array.length)return new qt([],t);var i,o=0===r;if(e>0){var a=this.array[r];if(i=a&&a.removeBefore(t,e-dn,n),i===a&&o)return this}if(o&&!i)return this;var s=Gt(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},qt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&mn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-dn,n),i===o&&r===this.array.length-1)return this}var a=Gt(this,t);return a.array.splice(r+1),i&&(a.array[r]=i),a};var Kn,Yn={};t(Qt,ft),Qt.of=function(){return this(arguments)},Qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Qt.prototype.set=function(t,e){return ne(this,t,e)},Qt.prototype.remove=function(t){return ne(this,t,gn)},Qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Qt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Qt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Qt.isOrderedMap=Zt,Qt.prototype[pn]=!0,Qt.prototype[hn]=Qt.prototype.remove;var Xn;t(re,M),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ue(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ee(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?Ee(this):0;return new w(function(){var i=n.next();return i.done?i:S(t,e?--r:r++,i.value,i)})},re.prototype[pn]=!0,t(ie,C),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new w(function(){var e=n.next();return e.done?e:S(t,r++,e.value,e)})},t(oe,D),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){var e=n.next();return e.done?e:S(t,e.value,e.value,e)})},t(ae,M),ae.prototype.entrySeq=function(){return this._iter.toSeq()},ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Te(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Te(r);var i=o(r);return S(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ae.prototype.cacheResult=Ae,t(De,et),De.prototype.toString=function(){return this.__toString(xe(this)+" {","}")},De.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},De.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},De.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=je(this,St()))},De.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+xe(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:je(this,r)},De.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:je(this,e)},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},De.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},De.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?je(this,e,t):(this.__ownerID=t,this._map=e,this)};var Qn=De.prototype;Qn[hn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Un.removeIn,Qn.merge=Un.merge,Qn.mergeWith=Un.mergeWith,Qn.mergeIn=Un.mergeIn,Qn.mergeDeep=Un.mergeDeep,Qn.mergeDeepWith=Un.mergeDeepWith,Qn.mergeDeepIn=Un.mergeDeepIn,Qn.setIn=Un.setIn,Qn.update=Un.update,Qn.updateIn=Un.updateIn,Qn.withMutations=Un.withMutations,Qn.asMutable=Un.asMutable,Qn.asImmutable=Un.asImmutable,t(Re,rt),Re.of=function(){return this(arguments)},Re.fromKeys=function(t){return this(n(t).keySeq())},Re.prototype.toString=function(){return this.__toString("Set {","}")},Re.prototype.has=function(t){return this._map.has(t)},Re.prototype.add=function(t){return Le(this,this._map.set(t,!0))},Re.prototype.remove=function(t){return Le(this,this._map.remove(t))},Re.prototype.clear=function(){return Le(this,this._map.clear())},Re.prototype.union=function(){var t=un.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Re.prototype.intersect=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Re.prototype.subtract=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Re.prototype.merge=function(){return this.union.apply(this,arguments)},Re.prototype.mergeWith=function(t){var e=un.call(arguments,1);return this.union.apply(this,e)},Re.prototype.sort=function(t){return Ue(be(this,t))},Re.prototype.sortBy=function(t,e){return Ue(be(this,e,t))},Re.prototype.wasAltered=function(){return this._map.wasAltered()},Re.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Re.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Re.isSet=Be;var Zn="@@__IMMUTABLE_SET__@@",tr=Re.prototype;tr[Zn]=!0,tr[hn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Un.withMutations,tr.asMutable=Un.asMutable,tr.asImmutable=Un.asImmutable,tr.__empty=qe,tr.__make=Ne;var er;t(Ue,Re),Ue.of=function(){return this(arguments)},Ue.fromKeys=function(t){return this(n(t).keySeq())},Ue.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ue.isOrderedSet=We;var nr=Ue.prototype;nr[pn]=!0,nr.__empty=He,nr.__make=Fe;var rr;t(Ve,nt),Ve.of=function(){return this(arguments)},Ve.prototype.toString=function(){return this.__toString("Stack [","]")},Ve.prototype.get=function(t,e){var n=this._head;for(t=v(this,t);n&&t--;)n=n.next;return n?n.value:e},Ve.prototype.peek=function(){return this._head&&this._head.value},Ve.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Je(t,e)},Ve.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Je(e,n)},Ve.prototype.pop=function(){return this.slice(1)},Ve.prototype.unshift=function(){return this.push.apply(this,arguments)},Ve.prototype.unshiftAll=function(t){return this.pushAll(t)},Ve.prototype.shift=function(){return this.pop.apply(this,arguments)},Ve.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ke()},Ve.prototype.slice=function(t,e){if(g(t,e,this.size))return this;var n=y(t,this.size),r=_(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Je(i,o)},Ve.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Je(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ve.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Ve.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,S(t,n++,e)}return k()})},Ve.isStack=Ge;var ir="@@__IMMUTABLE_STACK__@@",or=Ve.prototype;or[ir]=!0,or.withMutations=Un.withMutations,or.asMutable=Un.asMutable,or.asImmutable=Un.asImmutable,or.wasAltered=Un.wasAltered;var ar;e.Iterator=w,Ye(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,(!0))},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Qt(this.toKeyedSeq())},toOrderedSet:function(){return Ue(a(this)?this.valueSeq():this)},toSet:function(){return Re(a(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ve(a(this)?this.valueSeq():this)},toList:function(){return Lt(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=un.call(arguments,0);return Oe(this,me(this,t))},includes:function(t){return this.some(function(e){return K(e,t)})},entries:function(){return this.__iterator(Sn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Oe(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(bn)},map:function(t,e){return Oe(this,ue(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Oe(this,ce(this,!0))},slice:function(t,e){return Oe(this,he(this,t,e,!0))},some:function(t,e){return!this.every(Ze(t),e)},sort:function(t){return Oe(this,be(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return Y(this,t)},entrySeq:function(){var t=this;if(t._cache)return new j(t._cache);var e=t.toSeq().map(Qe).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ze(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(m)},flatMap:function(t,e){return Oe(this,ye(this,t,e))},flatten:function(t){return Oe(this,ge(this,t,!0))},fromEntrySeq:function(){return new ae(this)},get:function(t,e){return this.find(function(e,n){return K(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Ce(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,gn):gn,r===gn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,gn)!==gn},hasIn:function(t){return this.getIn(t,gn)!==gn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return K(e,t)})},keySeq:function(){return this.toSeq().map(Xe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Oe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Oe(this,ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ze(t),e)},sortBy:function(t,e){return Oe(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Oe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Oe(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ze(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=e.prototype;sr[cn]=!0,sr[Tn]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=en,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,Ye(n,{flip:function(){return Oe(this,se(this))},mapEntries:function(t,e){var n=this,r=0;return Oe(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Oe(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ur=n.prototype;ur[ln]=!0,ur[Tn]=sr.entries,ur.__toJS=sr.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ye(r,{toKeyedSeq:function(){return new re(this,(!1))},filter:function(t,e){return Oe(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Oe(this,ce(this,!1))},slice:function(t,e){return Oe(this,he(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=y(t,t<0?this.count():this.size);var r=this.slice(0,t);return Oe(this,1===n?r:r.concat(h(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Oe(this,ge(this,t,!1))},get:function(t,e){return t=v(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=v(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Oe(this,_e(this,t))},interleave:function(){var t=[this].concat(h(arguments)),e=ke(this.toSeq(),C.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Oe(this,n)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Oe(this,ve(this,t,e,!1))},zip:function(){var t=[this].concat(h(arguments));return Oe(this,ke(this,nn,t))},zipWith:function(t){var e=h(arguments);return e[0]=this,Oe(this,ke(this,t,e))}}),r.prototype[fn]=!0,r.prototype[pn]=!0,Ye(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sr.includes,i.prototype.contains=i.prototype.includes,Ye(M,n.prototype),Ye(C,r.prototype),Ye(D,i.prototype),Ye(et,n.prototype),Ye(nt,r.prototype),Ye(rt,i.prototype);var cr={Iterable:e,Seq:A,Collection:tt,Map:ft,OrderedMap:Qt,List:Lt,Stack:Ve,Set:Re,OrderedSet:Ue,Record:De,Range:Z,Repeat:X,is:K,fromJS:H};return cr})},function(t,e,n){function r(t){var e=++o;return i(t)+e}var i=n(6),o=0;t.exports=r},function(t,e){(function(e){function n(t){if("string"==typeof t)return t;if(i(t))return v?v.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function r(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||r(t)&&p.call(t)==s}function o(t){return null==t?"":n(t)}var a=1/0,s="[object Symbol]",u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype,p=f.toString,h=l.Symbol,d=h?h.prototype:void 0,v=d?d.toString:void 0;t.exports=o}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={DIRECTION_UP:"up",DIRECTION_DOWN:"down",FIGPAGE_INSTANCE:"figpage.currentPage"};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(9),a=r(o),s=n(10),u=r(s),c=n(11),l=r(c),f=n(5),p=r(f),h=n(12),d=r(h),v=n(7),m=r(v),g=n(13),y=r(g),_=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.timerResize,r=void 0===n?250:n,o=e.timerScroll,s=void 0===o?250:o;return i(this,t),this.__params={timerResize:r,timerScroll:s},this.__id=(0,p["default"])("page_"),this.__blocks=[],this.__resizeBlocks=[],this.__scrollBlocks=[],this.__currentPageYOffset=self.pageYOffset,this.__currentWidth=y["default"].getCurrentWidth(),y["default"].namespace(m["default"].FIGPAGE_INSTANCE,this),(0,d["default"])(self).on("resize",(0,a["default"])(this.onResize,this.__params.timerResize).bind(this)).on("scroll",(0,u["default"])(this.onScroll,this.__params.timerScroll).bind(this)),this}return t.prototype.add=function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.__blocks.push(e),(0,l["default"])(e.onScroll)&&t.__scrollBlocks.push(e),(0,l["default"])(e.onResize)&&t.__resizeBlocks.push(e)}),this},t.prototype.remove=function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){e.unbinding(),t.__blocks=t.__blocks.filter(function(t){return t.__id!==e.__id}),t.__resizeBlocks=t.__resizeBlocks.filter(function(t){return t.__id!==e.__id}),t.__scrollBlocks=t.__scrollBlocks.filter(function(t){return t.__id!==e.__id})}),this},t.prototype.onResize=function(){var t=this,e=y["default"].getCurrentWidth();this.__resizeBlocks.forEach(function(n){return n.onResize({newWidth:e,oldWidth:t.__currentWidth})}),this.__currentWidth=e},t.prototype.onScroll=function(){var t=this.__currentPageYOffset,e=self.pageYOffset;t!==e&&this.__scrollBlocks.forEach(function(n){return n.onScroll({scrollY:e,direction:e-t>0?m["default"].DIRECTION_DOWN:m["default"].DIRECTION_UP})}),this.__currentPageYOffset=e},t}();e["default"]=_},function(t,e){function n(t,e,n){function r(e){var n=v,r=m;return v=m=void 0,O=e,y=t.apply(r,n)}function o(t){return O=t,_=setTimeout(l,e),T?r(t):y}function a(t){var n=t-k,r=t-O,i=e-n;return E?w(i,g-r):i}function c(t){var n=t-k,r=t-O;return!k||n>=e||n<0||E&&r>=g}function l(){var t=S();return c(t)?f(t):void(_=setTimeout(l,a(t)));
}function f(t){return clearTimeout(_),_=void 0,I&&v?r(t):(v=m=void 0,y)}function p(){void 0!==_&&clearTimeout(_),k=O=0,v=m=_=void 0}function h(){return void 0===_?y:f(S())}function d(){var t=S(),n=c(t);if(v=arguments,m=this,k=t,n){if(void 0===_)return o(k);if(E)return clearTimeout(_),_=setTimeout(l,e),r(k)}return void 0===_&&(_=setTimeout(l,e)),y}var v,m,g,y,_,k=0,O=0,T=!1,E=!1,I=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,i(n)&&(T=!!n.leading,E="maxWait"in n,g=E?b(s(n.maxWait)||0,e):g,I="trailing"in n?!!n.trailing:I),d.cancel=p,d.flush=h,d}function r(t){var e=i(t)?_.call(t):"";return e==l||e==f}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==typeof t}function a(t){return"symbol"==typeof t||o(t)&&_.call(t)==p}function s(t){if("number"==typeof t)return t;if(a(t))return c;if(i(t)){var e=r(t.valueOf)?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var n=v.test(t);return n||m.test(t)?g(t.slice(2),n?2:8):d.test(t)?c:+t}var u="Expected a function",c=NaN,l="[object Function]",f="[object GeneratorFunction]",p="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,y=Object.prototype,_=y.toString,b=Math.max,w=Math.min,S=Date.now;t.exports=n},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return i(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),o(t,e,{leading:r,maxWait:e,trailing:s})}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var o=n(9),a="Expected a function";t.exports=r},function(t,e){function n(t){var e=r(t)?s.call(t):"";return e==i||e==o}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var i="[object Function]",o="[object GeneratorFunction]",a=Object.prototype,s=a.toString;t.exports=n},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(12),o=r(i),a=(0,o["default"])(self),s={getCurrentWidth:function(){return a.outerWidth(!0)},namespace:function(t,e){var n=self;!e&&(e={});var r=t.split(".");return r.forEach(function(t,i){(!n[t]||i===r.length-1)&&(n[t]=i===r.length-1?e:{}),n=n[t]}),n}};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.ContentAdsBlocks=e.ListAdsBlocks=e.TopicBlocks=e.ContentBlocks=e.ListBlocks=e.CommonBlocks=void 0;var i=n(15),o=r(i),a=n(21),s=r(a),u=n(23),c=r(u),l=n(24),f=r(l),p=n(32),h=r(p),d=n(36),v=r(d),m=n(40),g=r(m),y=n(45),_=r(y),b=n(48),w=r(b),S=n(49),k=r(S),O=n(51),T=r(O),E=n(52),I=r(E),P=n(53),A=r(P),M=n(56),C=r(M),D=n(57),j=r(D),x=n(58),z=r(x),$=n(61),R=r($),B=n(70),L=r(B),N=n(76),q=r(N),U=n(78),W=r(U),F=n(80),H=r(F),V=n(82),G=r(V),J=n(84),K=r(J),Y=n(86),X=r(Y),Q=n(88),Z=r(Q),tt=n(90),et=r(tt),nt=n(91),rt=r(nt),it=n(92),ot=r(it),at=n(93),st=r(at),ut=n(94),ct=r(ut),lt=e.CommonBlocks=[{id:"BlockQCM",selector:"[data-qcm-id]",blockConstructor:o["default"],multiple:!0},{id:"BlockLazyloadWidgets",selector:'[data-wg-family="Specific"]',blockConstructor:s["default"]},{id:"BlockLazyloadImages",selector:"body",blockConstructor:c["default"]}],ft=[{id:"BlockCarousel",selector:'[data-component="fig-carousel"]',blockConstructor:_["default"],multiple:!0},{id:"BlockPopoverCategory",selector:'[data-component="profile-category"]',blockConstructor:f["default"]},{id:"BlockPopoverShare",selector:'[data-component="profile-share"]',blockConstructor:h["default"]},{id:"BlockRefresh",selector:"meta[name=RefreshJsTimer]",blockConstructor:v["default"]},{id:"BlockRefreshLive",selector:'[data-component="live"]',blockConstructor:g["default"],multiple:!0},{id:"BlockCarouselKiosque",selector:".fig-wg-kiosque",blockConstructor:w["default"],multiple:!0},{id:"BlockMostPopular",selector:'[data-component="popular"]',blockConstructor:k["default"],multiple:!0}];e.ListBlocks=[].concat(lt,ft,[{id:"BlockFlashNews",selector:'[data-component="flash-news"]',blockConstructor:A["default"]},{id:"BlockEnCeMoment",selector:'[data-component="fig-en-ce-moment"]',blockConstructor:C["default"]},{id:"BlockExpand",selector:"[data-block-expand]",blockConstructor:j["default"],multiple:!0},{id:"BlockRefreshAlert",selector:'[data-component="fig-alert"]',blockConstructor:z["default"]}]),e.ContentBlocks=[].concat(lt,[{id:"BlockCarousel",selector:'[data-component="fig-carousel"]',blockConstructor:_["default"],multiple:!0,options:{selector:".fig-partners"}},{id:"BlockDiaporamaLauncher",selector:'[data-component="fig-diaporama-data"]',blockConstructor:R["default"],multiple:!0},{id:"BlockMicronavLauncher",selector:'[data-component="micronav"]',blockConstructor:L["default"],options:{type:"article"}},{id:"BlockInfographyExpandable",selector:'[data-component="fig-content-body"]',blockConstructor:X["default"]},{id:"BlockPopupImage",selector:'[data-component="fig-popup-media"]',blockConstructor:Z["default"],multiple:!0},{id:"BlockTags",selector:'[data-component="fig-tags"]',blockConstructor:q["default"]},{id:"BlockRubrique",selector:'[data-component="fig-rubrique"]',blockConstructor:W["default"]},{id:"BlockContentFlash",selector:'[data-component="flash-article"]',blockConstructor:H["default"]},{id:"BlockComments",selector:'[data-component="fig-comments-container"]',blockConstructor:G["default"]},{id:"BlockPrependIcon",selector:'[data-component="fig-recommended-list"]',blockConstructor:K["default"]},{id:"BlockClosedArticle",selector:'[data-component="closed-article"]',blockConstructor:ot["default"]},{id:"BlockPremiumClosedArticle",selector:'[data-component="fig-premium-block"]',blockConstructor:st["default"],multiple:!0},{id:"BlockAuthorFollow",selector:'[data-component="author-follow"]',blockConstructor:ct["default"]}]),e.TopicBlocks=[].concat(lt,ft,[{id:"BlockDiaporamaLauncher",selector:'[data-component="fig-diaporama-data"]',blockConstructor:R["default"]},{id:"BlockMicronavLauncher",selector:'[data-component="micronav"]',blockConstructor:L["default"],options:{customTemplate:'<span class="fig-micronav__title">Partagez sur</span>',additionalClass:"fig-micronav--topic",type:"topic"}}]),e.ListAdsBlocks=[{id:"BlockBannerStickyAd",selector:"body",blockConstructor:T["default"]},{id:"BlockListStickyAds",selector:"body",blockConstructor:I["default"]}],e.ContentAdsBlocks=[{id:"BlockContentStickyAds",selector:'[data-component="main-pub-content"]',blockConstructor:et["default"],options:{paddingLeft:0,paveSelector:'[data-component="main-pub-content"]'}},{id:"BlockContentStickyAdsComments",selector:'[data-component="fig-comments-container"]',blockConstructor:et["default"],options:{tagId:"pave_btf",selectorLimit:"[data-comments-sticky-limit]",containerSelector:'[data-component="fig-comments-container"]'}},{id:"BlockInArticle",selector:'[data-figtag="inarticle"]',blockConstructor:rt["default"]}]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l=n(2),f=n(16),p=r(f),h=n(17),d=r(h),v=n(12),m=r(v),g=n(18),y=r(g),_=n(20),b=r(_),w=(c=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.$el,i=n.getQCMResult,s=void 0===i?y["default"]:i,u=n.postQCMVote,c=void 0===u?b["default"]:u;o(this,e);var l=a(this,t.call(this,{initialData:{hasVoted:!1,html:""},initialRender:!1,$el:r,getQCMResult:s,postQCMVote:c}));return l.id=r.data("qcm-id"),d["default"].hasItem("Q"+l.id)&&l.callGetResult(),l}return s(e,t),e.prototype.callGetResult=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQCMResult(this.id);case 2:t=e.sent,this.setValues({hasVoted:!0,html:t.html});case 4:case"end":return e.stop()}},n,this)}));return t}(),e.prototype.binding=function(){var t=this;this.$el.one("click","[data-qcm-choice]",function(e){e.preventDefault(),e.stopImmediatePropagation();var n=(0,m["default"])(e.currentTarget),r=n.data("qcm-choice"),i=n.parents(".fig-profile--qcm").find(".fig-profile__headline a").attr("href");t.postVote(t.id,r,i)})},e.prototype.postVote=function(){function t(t,n,r){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(t,e,r){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.postQCMVote(t,e);case 2:i=n.sent,i.code&&200===i.code&&(d["default"].setItem("Q"+this.id,"01-R-"+this.id,604800,"/","lefigaro.fr"),"undefined"!=typeof r?window.location.href=r:this.callGetResult());case 4:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.render=function(){var t=this.data.toJS(),e=t.html,n=t.hasVoted;this.$el.replaceWith(m["default"].parseHTML(e)),n&&this.remove(this)},e}(l.Block),u(c.prototype,"callGetResult",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"callGetResult"),c.prototype),u(c.prototype,"postVote",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"postVote"),c.prototype),c);e["default"]=w},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length?r.apply(void 0,e):i.apply(void 0,e)}function r(t){var e=void 0;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach(function(e){if("constructor"!==e){var n=Object.getOwnPropertyDescriptor(t.prototype,e);"function"==typeof n.value&&Object.defineProperty(t.prototype,e,i(t,e,n))}}),t}function i(t,e,n){var r=n.value;if("function"!=typeof r)throw new Error("@autobind decorator can only be applied to methods not: "+typeof r);return{configurable:!0,get:function(){if(this===t.prototype||this.hasOwnProperty(e))return r;var n=r.bind(this);return Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),n}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e){t.exports={getItem:function(t){return t?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(t,e,n,r,i,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(t,e,n){return!!this.hasItem(t)&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=t.length,n=0;n<e;n++)t[n]=decodeURIComponent(t[n]);return t}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){return self.fetch(o["default"]+"qcm/"+t).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetQCMResult "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(12),o=r(i),a=(0,o["default"])("html").data("async-path")+"async/";e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(12),o=r(i),a=n(19),s=r(a),u=function(t,e){var n={url:s["default"]+"qcm/"+t,type:"POST",dataType:"json",data:JSON.stringify({choice:e})};return o["default"].ajax(n)};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(2),u=n(12),c=r(u),l=n(22),f=r(l),p=function(t){function e(n){var r=n.$el,a=n.getWidgetData,s=void 0===a?f["default"]:a;i(this,e);var u=o(this,t.call(this,{initialData:{widgetsData:[]},initialRender:!1,widgets:(0,c["default"])("body").find(r).toArray(),getWidgetData:s}));return u.getInPageSpecificWidgetsIds(),u}return a(e,t),e.prototype.getInPageSpecificWidgetsIds=function(){var t=this,e=this.widgets.map(function(t){return(0,c["default"])(t).attr("id")}),n=e.map(function(t){return"ids[]="+encodeURIComponent(t)}).join("&");new Promise(function(e){var r=t.getWidgetData(n);return e(r)}).then(function(e){t.setValues({widgetsData:e})})},e.prototype.render=function(){var t=this.data.get("widgetsData").toJS();t.forEach(function(t){c["default"].ajax({url:t.script,dataType:"script",cache:!0}).fail(function(e){console.error("figtheme BlockLazyloadWidgets: "+t.script+" - "+e.message)})}),this.remove()},e}(s.Block);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){return self.fetch(o["default"]+"widget?"+t).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme fetchWidgetData "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e["default"]=void 0;var s,u,c=n(2),l=n(12),f=r(l),p=(u=s=function(t){function e(n){var r=n.$el,a=n.margin,s=void 0===a?500:a;i(this,e);var u=o(this,t.call(this,{initialData:{viewport:[0,0]},initialRender:!1,$el:r,margin:s}));return u.setViewportWithMargin(),u}return a(e,t),e.prototype.setViewportWithMargin=function(){this.setValues({viewport:[Math.max(0,window.pageYOffset-this.margin),window.pageYOffset+window.innerHeight+this.margin]})},e.prototype.onScroll=function(){this.setViewportWithMargin()},e.prototype.onResize=function(){this.setViewportWithMargin()},e.prototype.render=function(){var t=this.$el.find("img."+e.classLazy).toArray();if(0===t.length)return void this.remove();var n=this.data.get("viewport").toJS();Promise.all(t.map(function(t){var r=(0,f["default"])(t),i=r.offset().top;return i>n[0]&&i<n[1]?new Promise(function(t){r.css({opacity:0}).attr("src",r.data("src")).removeAttr("data-src").removeClass(e.classLazy).animate({opacity:1},500),t()}):Promise.resolve()}))},e}(c.Block),s.classLazy="fig-lazy-img",u);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l,f,p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(2),d=n(12),v=r(d),m=n(16),g=r(m),y=n(25),_=r(y),b=n(26),w=n(27),S=r(w),k=n(29),O=r(k),T=n(30),E=r(T),I=n(31),P=(f=l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.serviceArticle,i=void 0===r?O["default"]:r,s=n.serviceData,u=void 0===s?E["default"]:s,c=n.template,l=void 0===c?S["default"]:c;return o(this,e),a(this,t.call(this,{initialData:{$el:null,isDisplayed:!1,items:[],displayName:"",url:""},initialRender:!1,$els:(0,v["default"])("body").find('[data-component="profile-category"]'),serviceData:u,serviceArticle:i,template:l,timer:null}))}return s(e,t),e.prototype.binding=function(){this.$els.on(_["default"]&&!b.isIe11Min?"touchstart":"mouseenter focus",".js-fig-tools__rubrique-url",this.handleEnterButtonCategory).on(_["default"]&&!b.isIe11Min?"touchstart":"click blur",".js-fig-popover__close",this.handleLeaveButtonCategory),this.$els.find(".js-fig-tools__rubrique-url").on("focus",this.handleEnterButtonCategory),_["default"]&&!b.isIe11Min||this.$els.on("mouseleave",this.handleLeaveButtonCategory),this.$els.parent(".fig-tools").on("keyup",this.handleKeyup)},e.prototype.handleEnterButtonCategory=function(t){var n=this;t.stopImmediatePropagation(),t.preventDefault();var r=(0,v["default"])(t.currentTarget).parent();"focus"===t.type&&(r=(0,v["default"])(t.currentTarget).parent()),this.timer=window.setTimeout(function(){n.setValues({$el:r},n.getCategoryData)},e.HOVER_DURATION)},e.prototype.getCategoryData=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t,e,r,i,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.serviceData(this.data.get("$el"));case 2:if(t=n.sent,e=t.source,r=t.sectionName,i=t.displayName,o=t.url,e&&r){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,this.serviceArticle({source:e,sectionName:r});case 11:a=n.sent,a.length&&this.setValues({isDisplayed:!0,items:a,displayName:i,url:o});case 13:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.handleKeyup=function(t){var e=t.keyCode||t.which,n=(0,v["default"])(t.currentTarget).find('[data-component="profile-category"]'),r=n.find(":focus").length;switch(e){case 9:!r&&this.setValues({$el:n,isDisplayed:!1});break;case 27:this.setValues({$el:n,isDisplayed:!1})}},e.prototype.handleLeaveButtonCategory=function(t){t.preventDefault(),t.stopImmediatePropagation(),this.setValues({isDisplayed:!1}),window.clearTimeout(this.timer)},e.prototype.render=function(){var t=this.data.toJS();if(t.isDisplayed){var n=(0,I.isPopoverOnTop)(t.$el);t.$el.addClass("fig-tools__item-rubrique--open").find(".js-fig-popover").css({top:(n?-390:20)+"px",left:0}).html(this.template(p({},t,{isTop:n}))).animate({opacity:1},e.ANIMATION_DURATION)}else t.$el.removeClass("fig-tools__item-rubrique--open").find(".js-fig-popover").empty().animate({opacity:0},e.ANIMATION_DURATION)},e}(h.Block),l.HOVER_DURATION=600,l.ANIMATION_DURATION=300,c=f,u(c.prototype,"handleEnterButtonCategory",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleEnterButtonCategory"),c.prototype),u(c.prototype,"getCategoryData",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"getCategoryData"),c.prototype),u(c.prototype,"handleKeyup",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleKeyup"),c.prototype),u(c.prototype,"handleLeaveButtonCategory",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleLeaveButtonCategory"),c.prototype),c);e["default"]=P},function(t,e){"use strict";e.__esModule=!0;var n="ontouchstart"in window||"onmsgesturechange"in window;e["default"]=n},function(t,e){"use strict";e.__esModule=!0;var n=e.isIe11=!!navigator.userAgent.match(/Trident.*rv[ :]*11./),r=e.isEdge=!!navigator.userAgent.match(/Edge\//);e.isIe11Min=n||r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(['\n<div class="fig-popover__inner ','">\n    <div class="fig-popover__header">\n        <span>Les derniers articles</span>\n\n    </div>\n    <div class="fig-popover__body">\n        <div class="fig-inner">\n            ','\n        </div>\n        <div class="fig-popover__more">\n            <a class="fig-popover__more-button" href="','">+ de ','</a>\n        </div>\n    </div>\n    <button class="fig-popover__close js-fig-popover__close" aria-label="Fermer"><span class="fig-icon-close" aria-hidden="true"></span></button>\n</div>  \n    '],['\n<div class="fig-popover__inner ','">\n    <div class="fig-popover__header">\n        <span>Les derniers articles</span>\n\n    </div>\n    <div class="fig-popover__body">\n        <div class="fig-inner">\n            ','\n        </div>\n        <div class="fig-popover__more">\n            <a class="fig-popover__more-button" href="','">+ de ','</a>\n        </div>\n    </div>\n    <button class="fig-popover__close js-fig-popover__close" aria-label="Fermer"><span class="fig-icon-close" aria-hidden="true"></span></button>\n</div>  \n    ']),a=n(28),s=r(a),u=function(t){var e=t.items,n=t.url,r=t.displayName,i=t.isTop;return(0,s["default"])(o,i?"fig-popover__inner--top":"",e.map(function(t){return'\n            <div class="fig-popover__profile">\n                <a href="'+t.url+'" >\n                    <span class="fig-popover__profile-media">\n                        <img class="fig-photo" src="'+(t.image||"")+'" alt="" height="50" width="50" />\n                    </span>\n                    <h2 class="fig-popover__profile-headline">\n                        '+t.title+"\n                    </h2>\n                </a>\n            </div>            \n            "}),n,r)};e["default"]=u},function(t,e){"use strict";function n(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function r(t){for(var e=t.raw,r="",i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach(function(t,i){var o=e[i];Array.isArray(t)&&(t=t.join("")),o.endsWith("$")&&(t=n(t),o=o.slice(0,-1)),r+=o,r+=t}),r+=e[e.length-1]}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.source,n=t.sectionName;return self.fetch(o["default"]+"section/"+e+"/"+n+"/latest").then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetLatestArticlesByCategory "+t.message)})};e["default"]=a},function(t,e){"use strict";e.__esModule=!0;var n=function(t){return new Promise(function(e){return e({source:t.attr("data-category-source"),sectionName:t.attr("data-category-section-name"),displayName:t.attr("data-category-display"),url:t.find(".js-fig-tools__rubrique-url").attr("href")})})["catch"](function(t){return console.error("figtheme serviceGetCategoryData : "+t.message)})};e["default"]=n},function(t,e){"use strict";e.__esModule=!0;e.isPopoverOnTop=function(t){return t.offset().top>self.pageYOffset+self.innerHeight/2}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0,e["default"]=void 0;var c,l,f,p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(2),d=n(12),v=r(d),m=n(16),g=r(m),y=n(25),_=r(y),b=n(26),w=n(33),S=r(w),k=n(34),O=r(k),T=n(35),E=r(T),I=n(31),P=(f=l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.service,i=void 0===r?S["default"]:r,s=n.template,u=void 0===s?O["default"]:s;return o(this,e),a(this,t.call(this,{initialData:{isDisplayed:!1,$el:null,profileData:{}},initialRender:!1,$els:(0,v["default"])("body").find('[data-component="profile-share"]'),service:i,template:u,timer:null}))}return s(e,t),e.prototype.binding=function(){this.$els.on(_["default"]&&!b.isIe11Min?"touchstart":"mouseenter focus",".js-fig-tools__share",this.handleEnterButtonShare).on(_["default"]&&!b.isIe11Min?"touchstart":"click blur",".js-fig-popover__close",this.handleLeaveButtonShare).on(_["default"]?"touchstart":"click",".js-fig-share",E["default"]),this.$els.find(".js-fig-tools__share").on("focus",this.handleEnterButtonShare),_["default"]&&!b.isIe11Min||this.$els.on("mouseleave",this.handleLeaveButtonShare),this.$els.parent(".fig-tools").on("keyup",this.handleKeyup)},e.prototype.handleEnterButtonShare=function(){function t(t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function r(t){var n,i,o=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),t.stopImmediatePropagation(),n=(0,v["default"])(t.currentTarget).parent(),r.next=5,this.service(n);case 5:i=r.sent,this.timer=self.setTimeout(function(){return o.setValues({$el:n,profileData:i,isDisplayed:!0})},e.HOVER_DURATION);case 7:case"end":return r.stop()}},r,this)}));return t}(),e.prototype.handleLeaveButtonShare=function(t){t.preventDefault(),t.stopImmediatePropagation(),self.clearTimeout(this.timer),this.setValues({isDisplayed:!1})},e.prototype.handleKeyup=function(t){var e=t.keyCode||t.which,n=(0,v["default"])(t.currentTarget).find('[data-component="profile-share"]'),r=n.find(":focus").length;switch(e){case 9:!r&&this.setValues({$el:n,isDisplayed:!1});break;case 27:this.setValues({$el:n,isDisplayed:!1})}},e.prototype.render=function(){var t=this.data.toJS(),n=t.isDisplayed,r=t.$el,i=t.profileData;if(n){var o=(0,I.isPopoverOnTop)(r);r.find(".js-fig-popover").css({top:(o?-170:20)+"px",left:0}).html(this.template(p({},i,{isTop:o}))).animate({opacity:1},e.ANIMATION_DURATION)}else r.find(".js-fig-popover").empty().animate({opacity:0},e.ANIMATION_DURATION)},e}(h.Block),l.HOVER_DURATION=500,l.ANIMATION_DURATION=300,c=f,u(c.prototype,"handleEnterButtonShare",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleEnterButtonShare"),c.prototype),u(c.prototype,"handleLeaveButtonShare",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleLeaveButtonShare"),c.prototype),u(c.prototype,"handleKeyup",[g["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleKeyup"),c.prototype),c);e["default"]=P},function(t,e){"use strict";e.__esModule=!0;var n=function(t){var e=t.parents("[data-fidji-id]");return new Promise(function(n){return n({fidjiSource:e.attr("data-fidji-source")||"",fidjiId:e.attr("data-fidji-id")||"",twitter:t.data("twitter"),url:t.data("www-url")})})["catch"](function(t){return console.error("figtheme serviceGetProfileData : "+t.message)})};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(['\n<div class="fig-popover__inner ','">\n    <div class="fig-popover__header">\n        <span>Partager</span>\n    </div>\n    <div class="fig-popover__body">\n        <ul>\n            <li class="fig-popover__social">\n                <a href="https://www.facebook.com/sharer/sharer.php?&amp;u=','&amp;display=popup" data-popup-width="655" data-popup-height="358" target="_blank" class="js-fig-share" aria-label="Partager sur Facebook (nouvelle fentre)" title="Partager sur Facebook (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--fb figh-icon-facebook-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "facebook", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n            <li class="fig-popover__social">\n                <a href="','" data-popup-width="629" data-popup-height="257" target="_blank" class="js-fig-share" aria-label="Partager sur Twitter (nouvelle fentre)" title="Partager sur Twitter (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--twt figh-icon-twitter-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "twitter", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n            <li class="fig-popover__social">\n                <a href="https://plus.google.com/share?hl=fr&amp;url=','" data-popup-width="484" data-popup-height="622" target="_blank" class="js-fig-share" aria-label="Partager sur Google + (nouvelle fentre)" title="Partager sur Google + (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--gplus figh-icon-google-plus-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "googleplus", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n            <li class="fig-popover__social">\n                <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=','" data-popup-width="600" data-popup-height="459" target="_blank" class="js-fig-share" aria-label="Partager sur LinkedIn (nouvelle fentre)" title="Partager sur LinkedIn (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--lkin figh-icon-linkedin-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "linkedin", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <button class="fig-popover__close js-fig-popover__close" aria-label="Fermer"><span class="fig-icon-close" aria-hidden="true"></span></button>\n</div>\n'],['\n<div class="fig-popover__inner ','">\n    <div class="fig-popover__header">\n        <span>Partager</span>\n    </div>\n    <div class="fig-popover__body">\n        <ul>\n            <li class="fig-popover__social">\n                <a href="https://www.facebook.com/sharer/sharer.php?&amp;u=','&amp;display=popup" data-popup-width="655" data-popup-height="358" target="_blank" class="js-fig-share" aria-label="Partager sur Facebook (nouvelle fentre)" title="Partager sur Facebook (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--fb figh-icon-facebook-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "facebook", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n            <li class="fig-popover__social">\n                <a href="','" data-popup-width="629" data-popup-height="257" target="_blank" class="js-fig-share" aria-label="Partager sur Twitter (nouvelle fentre)" title="Partager sur Twitter (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--twt figh-icon-twitter-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "twitter", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n            <li class="fig-popover__social">\n                <a href="https://plus.google.com/share?hl=fr&amp;url=','" data-popup-width="484" data-popup-height="622" target="_blank" class="js-fig-share" aria-label="Partager sur Google + (nouvelle fentre)" title="Partager sur Google + (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--gplus figh-icon-google-plus-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "googleplus", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n            <li class="fig-popover__social">\n                <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=','" data-popup-width="600" data-popup-height="459" target="_blank" class="js-fig-share" aria-label="Partager sur LinkedIn (nouvelle fentre)" title="Partager sur LinkedIn (nouvelle fentre)" rel="noopener">\n                    <span class="fig-popover__link-icon fig-popover__link-icon--lkin figh-icon-linkedin-square" data-gtm=\'{"customCategorieBU": "navigation", "customActionBU": "socialSharing", "customLabelBUcustomCategorieSPE": "linkedin", "customIDSPE": "','", "customActionSPE": "share", "customSiteNameSPE": "','", "event": "customEventBUSPE"}\' aria-hidden="true"></span>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <button class="fig-popover__close js-fig-popover__close" aria-label="Fermer"><span class="fig-icon-close" aria-hidden="true"></span></button>\n</div>\n']),a=n(28),s=r(a),u=function(t){
var e=t.fidjiSource,n=t.fidjiId,r=t.twitter,i=t.url,a=t.isTop;return(0,s["default"])(o,a?"fig-popover__inner--top":"",i,n,e,r,n,e,i,n,e,i,n,e)};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(12),o=r(i),a=function(t){t.preventDefault(),t.stopImmediatePropagation();var e=(0,o["default"])(t.currentTarget);window.open(e.attr("href"),"targetWindow","toolbar=no,\n        location=no,\n        status=no,\n        menubar=no,\n        scrollbars=yes,\n        resizable=yes,\n        width="+e.attr("data-popup-width")+",\n        height="+e.attr("data-popup-height"))};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(2),u=n(37),c=r(u),l=n(39),f=r(l),p=function(t){function e(n){var r=n.$el;i(this,e);var a=Number(r.attr("content")),s=o(this,t.call(this,{initialRender:!1,timer:a&&!isNaN(a)?(0,c["default"])(1e3*a):null}));return f["default"].isMobile&&s.remove(),s}return a(e,t),e.prototype.binding=function(){this.timer&&this.timer.on("idle",function(){return window.location.reload()})},e.prototype.unbinding=function(){this.timer.stop()},e}(s.Block);e["default"]=p},function(t,e,n){function r(t){t.idle=!t.idle;var e=+new Date-t.olddate;if(t.olddate=+new Date,t.idle&&e<t.timeout)return t.idle=!1,clearTimeout(t.timer_id),void(t.enabled&&(t.timer_id=setTimeout(t.state_fn,t.timeout)));for(var n=t.idle?"idle":"active",r="idle"===n?t.idle_fn:t.active_fn,i=0;i<r.length;++i)r[i]()}var i=n(38);t.exports=function(t){return new a({timeout:t})};var o={start:!0,enabled:!0,timeout:3e4,element:document,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},a=function(t){var e=this;e.opt=i(o,t),e.element=e.opt.element,e.state={idle:e.opt.idle,timeout:e.opt.timeout,enabled:e.opt.enabled,idle_fn:[],active_fn:[]},e.state.state_fn=function(){r(e.state)},e.opt.start&&e.start()},s=a.prototype;s.start=function(){function t(t){clearTimeout(n.timer_id),n.enabled&&(n.idle&&r(n),n.timer_id=setTimeout(n.state_fn,n.timeout))}var e=this,n=e.state,i=e.element;n.handler=t;for(var o=this.opt.events.split(" "),a=0;a<o.length;++a){var s=o[a];u(i,s,t)}n.timer_id=setTimeout(e.state.state_fn,n.timeout)},s.on=function(t,e){var n=this,r=n.state;"idle"===t?r.idle_fn.push(e):r.active_fn.push(e)},s.getElapsed=function(){return+new Date-this.state.olddate},s.stop=function(){var t=this,e=this.state,n=t.element;e.enabled=!1,clearTimeout(e.timer_id);for(var r=this.opt.events.split(" "),i=0;i<r.length;++i){var o=r[i];c(n,o,e.handler)}};var u=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},c=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}},function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];if(i(n))for(var r=o(n),a=0;a<r.length;a++){var s=r[a];t[s]=n[s]}}return t}function r(t){var e=[];for(var n in t)e.push(n);return e}function i(t){return null!==t&&"object"==typeof t}var o=Object.keys||r;t.exports=n},function(t,e){"use strict";function n(t){var e=void 0;return("string"==typeof t||t instanceof String)&&(e=t.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"")),e}function r(t,e,r){var i=n(window.getComputedStyle(t,e).content)||'{"current": "normal"}';return i=JSON.parse(i),r&&Object.keys(i).forEach(function(t){i[t]=parseInt(i[t],10)}),i}e.__esModule=!0;var i=function(){return r(document.getElementsByTagName("body")[0],"::before",!1).current},o="x-small"===i()||"default"===i(),a="small"===i();e["default"]={getBreakpoint:i,isMobile:o,isTablet:a}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l=n(2),f=n(16),p=r(f),h=n(41),d=n(42),v=r(d),m=n(44),g=r(m),y=(c=function(t){function e(n){var r=n.$el,i=n.service,s=void 0===i?g["default"]:i,u=n.template,c=void 0===u?v["default"]:u;o(this,e);var l=a(this,t.call(this,{initialData:{items:[]},LIVE_STATUS:{BEFORE:"before",AFTER:"after",DURING:"during",INVALID:""},initialRender:!1,$el:r,idLive:r.attr("data-fidji-id"),liveStatus:r.attr("data-live-status"),list:r.find('[data-component="live-list"]'),url:r.data("url"),source:r.attr("data-fidji-source"),flag:r.find(".fig-live__flag"),template:c,service:s,refreshDisabled:!1,intervalTimer:null}));return l.VALID_STATUS=[l.LIVE_STATUS.BEFORE,l.LIVE_STATUS.AFTER,l.LIVE_STATUS.DURING],l.VALID_STATUS.includes(l.liveStatus)||(l.liveStatus=l.LIVE_STATUS.INVALID,l.flag.hide()),l.intervalTimer=(0,h.interval)(l.fetchData,3e4),l}return s(e,t),e.prototype.fetchData=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this.service({source:this.source,idLive:this.idLive});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),this.disableRefresh(),e.abrupt("return");case 11:if(Array.isArray(t)){e.next=14;break}return this.disableRefresh(),e.abrupt("return");case 14:this.setValues({items:t});case 15:case"end":return e.stop()}},n,this,[[1,7]])}));return t}(),e.prototype.disableRefresh=function(){this.intervalTimer.stop(),this.refreshDisabled=!0},e.prototype.render=function(){var t=this.data.toJS(),e=t.items;(this.liveStatus===this.LIVE_STATUS.BEFORE||this.liveStatus===this.LIVE_STATUS.INVALID)&&e&&e.length&&(this.flag.show(),this.flag.html("En direct"),this.liveStatus=this.LIVE_STATUS.DURING),this.list.css({opacity:0}).html(this.template({items:e,url:this.url})).animate({opacity:1},500)},e}(l.Block),u(c.prototype,"fetchData",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"fetchData"),c.prototype),c);e["default"]=y},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){return _||(S(n),_=w.now()+b)}function n(){_=0}function r(){this._call=this._time=this._next=null}function i(t,e,n){var i=new r;return i.restart(t,e,n),i}function o(){e(),++d;for(var t,n=p;n;)(t=_-n._time)>=0&&n._call.call(null,t),n=n._next;--d}function a(t){_=(y=t||w.now())+b,d=v=0;try{o()}finally{d=0,u(),_=0}}function s(){var t=w.now(),e=t-y;e>g&&(b-=e,y=t)}function u(){for(var t,e,n=p,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:p=e);h=t,c(r)}function c(t){if(!d){v&&(v=clearTimeout(v));var e=t-_;e>24?(t<1/0&&(v=setTimeout(a,e)),m&&(m=clearInterval(m))):(m||(m=setInterval(s,g)),d=1,S(a))}}function l(t,e,n){var i=new r;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}function f(t,n,i){var o=new r,a=n;return null==n?(o.restart(t,n,i),o):(n=+n,i=null==i?e():+i,o.restart(function s(e){e+=a,o.restart(s,a+=n,i),t(e)},n,i),o)}var p,h,d=0,v=0,m=0,g=1e3,y=0,_=0,b=0,w="object"==typeof performance&&performance.now?performance:Date,S="function"==typeof requestAnimationFrame?w===Date?function(t){requestAnimationFrame(function(){t(w.now())})}:requestAnimationFrame:function(t){setTimeout(t,17)};r.prototype=i.prototype={constructor:r,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?e():+r)+(null==n?0:+n),this._next||h===this||(h?h._next=this:p=this,h=this),this._call=t,this._time=r,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}},t.now=e,t.timer=i,t.timerFlush=o,t.timeout=l,t.interval=f,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(["\n","\n"],["\n","\n"]),a=n(43),s=r(a),u=n(28),c=r(u),l=function(t){var e=t.items,n=t.url;return(0,c["default"])(o,e.map(function(t){return'\n  <li class="fig-live__list-item '+("essentiel"===t.style?"fig-live__list-item--essentiel":"")+'"\n  data-datetime-update="'+t.update+'"\n  data-datetime-post="'+t.date+'"\n  data-message-id="'+t.id+'">\n    <h3>\n        <a href="'+n+"#"+t.id+'">\n            <b class="fig-live__time">'+(0,s["default"])(t.date,"HH:MM")+"</b>\n            <span>"+t.title+"</span>\n        </a>\n    </h3>\n</li>\n"}))};e["default"]=l},function(t,e,n){var r;!function(i){"use strict";function o(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function a(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var i=(e-n)/6048e5;return 1+Math.floor(i)}function s(t){var e=t.getDay();return 0===e&&(e=7),e}function u(t){return null===t?"null":void 0===t?"undefined":"object"!=typeof t?typeof t:Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}var c=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,i,l,f){if(1!==arguments.length||"string"!==u(r)||/\d/.test(r)||(i=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");i=String(c.masks[i]||i||c.masks["default"]);var p=i.slice(0,4);"UTC:"!==p&&"GMT:"!==p||(i=i.slice(4),l=!0,"GMT:"===p&&(f=!0));var h=l?"getUTC":"get",d=r[h+"Date"](),v=r[h+"Day"](),m=r[h+"Month"](),g=r[h+"FullYear"](),y=r[h+"Hours"](),_=r[h+"Minutes"](),b=r[h+"Seconds"](),w=r[h+"Milliseconds"](),S=l?0:r.getTimezoneOffset(),k=a(r),O=s(r),T={d:d,dd:o(d),ddd:c.i18n.dayNames[v],dddd:c.i18n.dayNames[v+7],m:m+1,mm:o(m+1),mmm:c.i18n.monthNames[m],mmmm:c.i18n.monthNames[m+12],yy:String(g).slice(2),yyyy:g,h:y%12||12,hh:o(y%12||12),H:y,HH:o(y),M:_,MM:o(_),s:b,ss:o(b),l:o(w,3),L:o(Math.round(w/10)),t:y<12?"a":"p",tt:y<12?"am":"pm",T:y<12?"A":"P",TT:y<12?"AM":"PM",Z:f?"GMT":l?"UTC":(String(r).match(e)||[""]).pop().replace(n,""),o:(S>0?"-":"+")+o(100*Math.floor(Math.abs(S)/60)+Math.abs(S)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:k,N:O};return i.replace(t,function(t){return t in T?T[t]:t.slice(1,t.length-1)})}}();c.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},r=function(){return c}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.source,n=t.idLive,r=t.limit,i=void 0===r?3:r;return self.fetch(o["default"]+"live/"+e+"/"+n+"?limit="+i).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetLiveItems "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(46),l=r(c),f=n(12),p=r(f),h=n(2),d=n(16),v=r(d),m=n(25),g=r(m),y=n(47),_=(u=function(t){function e(n){var r=n.$el,a=n.selector,s=void 0===a?".fig-carousel":a,u=n.ratio,c=void 0===u?16/9:u;i(this,e);var l=o(this,t.call(this,{initialData:{nbItems:r.find(s+"__item").toArray().length,nbSteps:0,nbVisibleItems:0,currentIndex:0,direction:1},initialRender:!1,$el:r,itemWidth:0,itemHeight:"auto",arrowLeft:s+"__arrow--left",arrowRight:s+"__arrow--right",selector:s,isMultiItems:!!r.attr("data-carousel-multi-items"),ratio:c}));return l.setItemDimensions(),l}return a(e,t),e.prototype.binding=function(){var t=this;g["default"]&&new l["default"](this.$el.find(this.selector+"__container").get(0)).on("panstart",this.handleCarouselAnimation),this.$el.find(this.arrowLeft).on("click",{direction:1},this.handleCarouselAnimation).on("keypress",{direction:1},function(e){13===(e.keyCode||e.which)&&t.handleCarouselAnimation(e)}),this.$el.find(this.arrowRight).on("click",{direction:-1},this.handleCarouselAnimation).on("keypress",{direction:-1},function(e){13===(e.keyCode||e.which)&&t.handleCarouselAnimation(e)})},e.prototype.handleCarouselAnimation=function(t){var e=void 0,n=this.data.toJS(),r=n.currentIndex,i=n.nbSteps;e=t.direction?2===t.direction?-1:1:t.data.direction;var o=(0,y.constrain)(r-e,0,i);this.setValues({currentIndex:o,direction:e})},e.prototype.render=function(){var t=this.data.toJS(),e=t.direction,n=t.itemWidth,r=t.currentIndex,i=t.nbSteps,o=t.nbVisibleItems,a=e?"+="+e*n*o:0;this.$el.find(this.selector+"__container").animate({marginLeft:a},200);var s=this.selector+"__arrow--disabled",u=s.split(".")[1];this.$el.find(this.selector+"__item").toArray().forEach(function(t){var e=(0,p["default"])(t).data("index")===r;(0,p["default"])(t).attr("aria-hidden",!e).attr("aria-live",e?"polite":"off").find("a").attr("tabindex",e?"0":"-1")}),this.$el.find(this.arrowRight).toggleClass(u,r===i),this.$el.find(this.arrowLeft).toggleClass(u,0===r)},e.prototype.onResize=function(){this.setItemDimensions(),this.setValues({currentIndex:0,direction:null})},e.prototype.setItemDimensions=function(){var t=this.data.toJS(),e=t.nbItems,n=this.$el.width(),r=Math.floor(n/this.ratio),i=e-1,o=this.isMultiItems?this.$el.find(this.selector+"__item").outerWidth(!1):n,a=Math.floor(n/o);a>1&&(i=e-a),this.isMultiItems&&(i=e/a-1),this.setValues({itemWidth:o,itemHeight:r,nbSteps:i,nbVisibleItems:a},this.renderItemWidth)},e.prototype.renderItemWidth=function(){var t=this.data.toJS(),e=t.itemWidth,n=t.itemHeight;this.$el.find(this.selector+"__item").css({width:e,height:this.isMultiItems?"auto":n})},e}(h.Block),s(u.prototype,"handleCarouselAnimation",[v["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleCarouselAnimation"),u.prototype),u);e["default"]=_},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(i,o,a,s){"use strict";function u(t,e,n){return setTimeout(h(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&vt(r,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==yt?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function m(t,e,n){l(b(e),function(e){t.addEventListener(e,n,!1)})}function g(t,e,n){l(b(e),function(e){t.removeEventListener(e,n,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function w(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function S(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];w(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function O(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<mt.length;){if(n=mt[o],r=n?n+i:e,r in t)return r;o++}return s}function T(){return Ot++}function E(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}function I(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function P(t){var e,n=t.options.inputClass;return new(e=n?n:It?U:Pt?H:Et?G:q)(t,A)}function A(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&xt&&r-i===0,a=e&($t|Rt)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,M(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function M(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=j(e)),i>1&&!n.firstMultiple?n.firstMultiple=j(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=x(r);e.timeStamp=wt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=B(s,u),e.distance=R(s,u),C(n,e),e.offsetDirection=$(e.deltaX,e.deltaY);var c=z(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=bt(c.x)>bt(c.y)?c.x:c.y,e.scale=a?N(a.pointers,r):1,e.rotation=a?L(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,D(n,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function C(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==xt&&o.eventType!==$t||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function D(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>jt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=z(u,c,l);r=f.x,i=f.y,n=bt(f.x)>bt(f.y)?f.x:f.y,o=$(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}function j(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:_t(t.pointers[n].clientX),clientY:_t(t.pointers[n].clientY)},n++;return{timeStamp:wt(),pointers:e,center:x(e),deltaX:t.deltaX,deltaY:t.deltaY}}function x(t){var e=t.length;if(1===e)return{x:_t(t[0].clientX),y:_t(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:_t(n/e),y:_t(r/e)}}function z(t,e,n){return{x:e/t||0,y:n/t||0}}function $(t,e){return t===e?Bt:bt(t)>=bt(e)?t<0?Lt:Nt:e<0?qt:Ut}function R(t,e,n){n||(n=Vt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function B(t,e,n){n||(n=Vt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function L(t,e){return B(e[1],e[0],Gt)+B(t[1],t[0],Gt)}function N(t,e){return R(e[0],e[1],Gt)/R(t[0],t[1],Gt)}function q(){this.evEl=Kt,this.evWin=Yt,this.pressed=!1,I.apply(this,arguments)}function U(){this.evEl=Zt,this.evWin=te,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=ne,this.evWin=re,this.started=!1,I.apply(this,arguments)}function F(t,e){var n=S(t.touches),r=S(t.changedTouches);return e&($t|Rt)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=oe,this.targetIds={},I.apply(this,arguments)}function V(t,e){var n=S(t.touches),r=this.targetIds;if(e&(xt|zt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=S(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return y(t.target,u)}),e===xt)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&($t|Rt)&&delete r[a[i].identifier],i++;return s.length?[k(o.concat(s),"identifier",!0),s]:void 0}function G(){I.apply(this,arguments);var t=h(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function J(t,e){t&xt?(this.primaryTouch=e.changedPointers[0].identifier,K.call(this,e)):t&($t|Rt)&&K.call(this,e)}function K(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(i,ae)}}function Y(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=se&&a<=se)return!0}return!1}function X(t,e){this.manager=t,this.set(e)}function Q(t){if(_(t,he))return he;var e=_(t,de),n=_(t,ve);return e&&n?he:e||n?e?de:ve:_(t,pe)?pe:fe}function Z(){if(!ce)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ge,this.simultaneous={},this.requireFail=[]}function et(t){return t&Se?"cancel":t&be?"end":t&_e?"move":t&ye?"start":""}function nt(t){return t==Ut?"down":t==qt?"up":t==Lt?"left":t==Nt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function it(){tt.apply(this,arguments)}function ot(){it.apply(this,arguments),this.pX=null,this.pY=null}function at(){it.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){it.apply(this,arguments)}function ct(){it.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=P(this),this.touchAction=new X(this,this.options.touchAction),ht(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(i,o){r=O(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,mt=["","webkit","Moz","MS","ms","o"],gt=o.createElement("div"),yt="function",_t=Math.round,bt=Math.abs,wt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var St=f(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),kt=f(function(t,e){return St(t,e,!0)},"merge","Use `assign`."),Ot=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Et="ontouchstart"in i,It=O(i,"PointerEvent")!==s,Pt=Et&&Tt.test(navigator.userAgent),At="touch",Mt="pen",Ct="mouse",Dt="kinect",jt=25,xt=1,zt=2,$t=4,Rt=8,Bt=1,Lt=2,Nt=4,qt=8,Ut=16,Wt=Lt|Nt,Ft=qt|Ut,Ht=Wt|Ft,Vt=["x","y"],Gt=["clientX","clientY"];I.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(E(this.element),this.evWin,this.domHandler)}};var Jt={mousedown:xt,mousemove:zt,mouseup:$t},Kt="mousedown",Yt="mousemove mouseup";p(q,I,{handler:function(t){var e=Jt[t.type];e&xt&&0===t.button&&(this.pressed=!0),e&zt&&1!==t.which&&(e=$t),this.pressed&&(e&$t&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ct,srcEvent:t}))}});var Xt={pointerdown:xt,pointermove:zt,pointerup:$t,pointercancel:Rt,pointerout:Rt},Qt={2:At,3:Mt,4:Ct,5:Dt},Zt="pointerdown",te="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(Zt="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(U,I,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Xt[r],o=Qt[t.pointerType]||t.pointerType,a=o==At,s=w(e,t.pointerId,"pointerId");i&xt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&($t|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:xt,touchmove:zt,touchend:$t,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(W,I,{handler:function(t){var e=ee[t.type];if(e===xt&&(this.started=!0),this.started){var n=F.call(this,t,e);e&($t|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}}});var ie={touchstart:xt,touchmove:zt,touchend:$t,touchcancel:Rt},oe="touchstart touchmove touchend touchcancel";p(H,I,{handler:function(t){var e=ie[t.type],n=V.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}});var ae=2500,se=25;p(G,I,{handler:function(t,e,n){var r=n.pointerType==At,i=n.pointerType==Ct;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)J.call(this,e,n);else if(i&&Y.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=O(gt.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",he="none",de="pan-x",ve="pan-y",me=Z();X.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&me[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Q(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=_(r,he)&&!me[he],o=_(r,ve)&&!me[ve],a=_(r,de)&&!me[de];if(i){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&o?void 0:i||o&&n&Wt||a&&n&Ft?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ge=1,ye=2,_e=4,be=8,we=be,Se=16,ke=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),w(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<be&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=be&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ke)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ke|ge)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return d(this.options.enable,[this,e])?(this.state&(we|Se|ke)&&(this.state=ge),this.state=this.process(e),void(this.state&(ye|_e|be|Se)&&this.tryEmit(e))):(this.reset(),void(this.state=ke))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(it,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(ye|_e),i=this.attrTest(t);return r&&(n&Rt||!i)?e|Se:r||i?n&$t?e|be:e&ye?e|_e:ye:ke}}),p(ot,it,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Wt&&e.push(ve),t&Ft&&e.push(de),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Wt?(i=0===o?Bt:o<0?Lt:Nt,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?Bt:a<0?qt:Ut,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return it.prototype.attrTest.call(this,t)&&(this.state&ye||!(this.state&ye)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,it,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ye)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&($t|Rt)&&!i)this.reset();else if(t.eventType&xt)this.reset(),this._timer=u(function(){this.state=we,this.tryEmit()},e.time,this);else if(t.eventType&$t)return we;return ke},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===we&&(t&&t.eventType&$t?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=wt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,it,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ye)}}),p(ct,it,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Wt|Ft,pointers:1},getTouchAction:function(){return ot.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Wt|Ft)?e=t.overallVelocity:n&Wt?e=t.overallVelocityX:n&Ft&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&$t},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&xt&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=$t)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=we,this.tryEmit()},e.interval,this),ye):we}return ke},failTimeout:function(){return this._timer=u(function(){this.state=ke},this.options.interval,this),ke},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==we&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Wt}],[ot,{direction:Wt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Oe=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:Oe},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&we)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],e.stopped===Te||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(ye|_e|be)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=w(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(b(t),function(t){e?n[t]&&n[t].splice(w(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:xt,INPUT_MOVE:zt,INPUT_END:$t,INPUT_CANCEL:Rt,STATE_POSSIBLE:ge,STATE_BEGAN:ye,STATE_CHANGED:_e,STATE_ENDED:be,STATE_RECOGNIZED:we,STATE_CANCELLED:Se,STATE_FAILED:ke,DIRECTION_NONE:Bt,DIRECTION_LEFT:Lt,DIRECTION_RIGHT:Nt,DIRECTION_UP:qt,DIRECTION_DOWN:Ut,DIRECTION_HORIZONTAL:Wt,DIRECTION_VERTICAL:Ft,DIRECTION_ALL:Ht,Manager:pt,Input:I,TouchAction:X,TouchInput:H,MouseInput:q,PointerEventInput:U,TouchMouseInput:G,SingleTouchInput:W,Recognizer:tt,AttrRecognizer:it,Tap:lt,Pan:ot,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:m,off:g,each:l,merge:kt,extend:St,assign:vt,inherit:p,bindFn:h,prefixed:O});var Ee="undefined"!=typeof i?i:"undefined"!=typeof self?self:{};Ee.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e){"use strict";e.__esModule=!0;e.constrain=function(t,e,n){return t>n?n:t<e?e:t},e.modulo=function(t,e){return(e+t%e)%e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(16),f=r(l),p=n(46),h=r(p),d=n(25),v=r(d),m=n(47),g=n(39),y=r(g),_=(u=function(t){function e(n){var r=n.$el;return i(this,e),o(this,t.call(this,{initialData:{posLeft:0,wrapperWidth:r.find(".fig-wg__wrapper").width()},initialRender:!1,$el:r,itemWidth:r.find(".fig-wg-kiosque__gly-item").width(),nbItems:r.find(".fig-wg-kiosque__gly-item").toArray().length,listWidth:0,timer:null}))}return a(e,t),e.prototype.binding=function(){this.listWidth=this.nbItems*this.itemWidth,this.$el.find(".fig-wg-kiosque__gly").css("width",this.listWidth),this.$el.on("click",".fig-wg-kiosque__arrow--left",{direction:1},this.handleCarouselAnimation).on("click",".fig-wg-kiosque__arrow--right",{direction:-1},this.handleCarouselAnimation),v["default"]&&new h["default"](this.$el.get(0)).on("panstart",this.handleCarouselAnimation),y["default"].isMobile?this.$el.one("click",".fig-wg__expander",this.handleWrapperWidth):this.renderArrows()},e.prototype.handleCarouselAnimation=function(t){var e=void 0;e=t.direction?2===t.direction?-1:1:t.data.direction,this.setValues({posLeft:(0,m.constrain)(this.data.get("posLeft")+this.itemWidth*e,-this.listWidth+this.data.get("wrapperWidth"),0)})},e.prototype.handleWrapperWidth=function(){var t=this;self.setTimeout(function(){t.setValues({wrapperWidth:t.$el.find(".fig-wg__wrapper").width()},t.renderArrows)},400)},e.prototype.renderArrows=function(){this.$el.find(".fig-wg-kiosque__arrow").toggleClass("fig-wg-kiosque__arrow--active",this.listWidth>this.data.get("wrapperWidth"))},e.prototype.unbinding=function(){self.clearTimeout(this.timer)},e.prototype.render=function(){var t=this.data.toJS(),e=t.posLeft,n=t.wrapperWidth;this.$el.find(".fig-wg-kiosque__arrow--right").toggleClass("fig-wg-kiosque__arrow--disabled",e===-this.listWidth+n),this.$el.find(".fig-wg-kiosque__arrow--left").toggleClass("fig-wg-kiosque__arrow--disabled",0===e),this.$el.find(".fig-wg-kiosque__gly").animate({marginLeft:e},200)},e}(c.Block),s(u.prototype,"handleCarouselAnimation",[f["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleCarouselAnimation"),u.prototype),s(u.prototype,"handleWrapperWidth",[f["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleWrapperWidth"),u.prototype),u);e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l=n(2),f=n(16),p=r(f),h=n(12),d=r(h),v=n(50),m=r(v),g=(c=function(t){function e(n){var r=n.$el,i=n.service,s=void 0===i?m["default"]:i;o(this,e);var u=r.find("[data-initial-period]").data("initial-period");return a(this,t.call(this,{initialData:{source:r.attr("data-fidji-source"),remoteId:r.attr("data-fidji-id"),type:r.find("[data-initial-type]").data("initial-type"),period:u,html:""},initialRender:!1,service:s,$el:r,$container:r.find(".fig-toparticles__main"),availablePeriods:r.find("[data-period]").toArray().map(function(t){return(0,d["default"])(t).data("period")}),initialPeriod:u}))}return s(e,t),e.prototype.binding=function(){var t=this;this.$el.on("click",".fig-switch__trigger, .fig-switch__item",this.handleTogglePeriod).on("keypress",".fig-switch__item",function(e){13===(e.keyCode||e.which)&&t.handleTogglePeriod(e)}).on("click",".fig-toparticles-filters__item",this.handleSwitchType).on("focus mouseenter",".fig-toparticles-filters__current",{toggle:!0},this.toggleSwitchType).on("mouseleave",".fig-toparticles-filters",{toggle:!1},this.toggleSwitchType).on("focus",".fig-toparticles__item, .fig-switch",{toggle:!1},this.toggleSwitchType).on("keypress",".fig-toparticles-filters__item",{toggle:!1},function(e){13===(e.keyCode||e.which)&&t.handleSwitchType(e)})},e.prototype.handleTogglePeriod=function(){function t(t){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(t){var e,r,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),t.stopImmediatePropagation(),this.$container.attr("aria-busy",!0),e=this.data.toJS(),r=e.source,i=e.remoteId,o=e.period,a=e.type,s=this.availablePeriods.filter(function(t){return t!==o})[0],n.next=7,this.service({source:r,remoteId:i,type:a,period:s});case 7:u=n.sent,c=u.html,this.setValues({html:c,period:s});case 10:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.handleSwitchType=function(){function t(t){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(t){var e,r,i,o,a,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),t.stopImmediatePropagation(),this.$container.attr("aria-busy",!0),e=this.data.toJS(),r=e.source,i=e.remoteId,o=e.period,a=(0,d["default"])(t.currentTarget).attr("data-type"),n.next=7,this.service({source:r,remoteId:i,type:a,period:o});case 7:s=n.sent,u=s.html,this.setValues({html:u,type:a});case 10:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.toggleSwitchType=function(t){(0,d["default"])(this.$el).find(".fig-toparticles-filters").toggleClass("fig-toparticles-filters--show",t.data.toggle)},e.prototype.render=function(){var t=this.data.toJS(),e=t.type,n=t.period,r=t.html;this.$container.html(r).attr("aria-busy",!1),this.$el.find(".js-fig-switch").toggleClass("fig-switch--on",n!==this.initialPeriod),this.$el.find(".fig-switch__item").toArray().forEach(function(t){(0,d["default"])(t).attr("aria-checked",(0,d["default"])(t).data("period")===n)}),this.$el.find(".fig-toparticles-filters__item").toArray().forEach(function(t){var n=(0,d["default"])(t).data("type")===e;(0,d["default"])(t).toggleClass("fig-toparticles-filters__item--selected",n).attr("aria-selected",n)});var i=this.$el.find(".fig-toparticles-filters__item--selected").text();this.$el.find(".fig-toparticles-filters__current").text(i),this.$el.find(".fig-toparticles-filters").removeClass("fig-toparticles-filters--show")},e}(l.Block),u(c.prototype,"handleTogglePeriod",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleTogglePeriod"),c.prototype),u(c.prototype,"handleSwitchType",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"handleSwitchType"),c.prototype),u(c.prototype,"toggleSwitchType",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"toggleSwitchType"),c.prototype),c);e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.source,n=t.remoteId,r=t.type,i=t.period,a=t.format,s=void 0===a?"html":a;return self.fetch(o["default"]+"top_articles/"+e+"/"+n+"/"+r+"?format="+s+"&period="+i).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetPopular "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(16),f=r(l),p=n(12),h=r(p),d=n(39),v=r(d),m=(u=function(t){function e(n){var r=n.maxHeight,a=void 0===r?100:r,s=n.pageSelector,u=void 0===s?"#fig-page":s;i(this,e);var c=o(this,t.call(this,{initialData:{isSticky:!1,limitPassed:!1,headerHeight:0},maxHeight:a,$page:(0,h["default"])(u),headerDefaultHeight:v["default"].isTablet?110:170,initialRender:!1})),l=window.figads.tag("pave_atf"),f=l&&(0,h["default"])(l.node());return c.limit=2*(0,h["default"])(window).height()+(l?f.offset().top:0),c.tagId="mban_atf",c.tag=figads.tag("mban_atf"),c.tag?(c.$el=(0,h["default"])(c.tag.node()),v["default"].isTablet||v["default"].isMobile?(c.remove(),o(c)):(c._collapsed=!1,c.tag.on("resize",function(){c.onPageScroll()}),c.tag.on("collapse",function(){c.onPageScroll()}),c.tag.loaded.then(function(){c.onPageScroll(),(0,h["default"])(window).on("scroll",c.onPageScroll)}),c)):o(c)}return a(e,t),e.prototype.isSticky=function(){return!v["default"].isTablet&&!v["default"].isMobile&&("loaded"===this.tag.status()&&!(this.tag.height()>this.maxHeight))},e.prototype.onPageScroll=function(){var t=window.pageYOffset,e=this.isSticky();this.setValues({isSticky:e,limitPassed:t>this.limit,headerHeight:t>264?50:this.headerDefaultHeight
})},e.prototype.onResize=function(){this.tag&&this.onPageScroll()},e.prototype.render=function(){var t=this.data.toJS(),e=t.isSticky,n=t.limitPassed,r=t.headerHeight,i=this.$el.outerHeight(!0),o=(0,h["default"])(this.tag.node());e&&!n?(this.$page.css("marginTop",i),o.css({position:"fixed",marginLeft:"50%",transform:"translateX(-50%)",zIndex:"550",top:r+"px"}),o.attr("data-banner-sticky",!0)):e&&n?(o.animate({top:"-"+i+"px"},100),o.attr("data-banner-sticky",!1)):(o.css({position:"relative",marginLeft:"50%",transform:"translateX(-50%)",zIndex:"550",top:"0"}),o.attr("data-banner-sticky",!1),this.$page.css("marginTop","auto"))},e}(c.Block),s(u.prototype,"onPageScroll",[f["default"]],Object.getOwnPropertyDescriptor(u.prototype,"onPageScroll"),u.prototype),u);e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(2),p=n(12),h=r(p),d=n(16),v=r(d),m=n(39),g=r(m),y=(c=function(t){function e(n){var r=n.offsetTop,i=void 0===r?0:r;o(this,e);var s=a(this,t.call(this,{initialData:{minHeight:0,vitrineStyle:{},isSticky:!1,marginLeft:(0,h["default"])("[data-layout-left-col]").outerWidth()},loadedTagIds:[],$vitrine:(0,h["default"])("[data-layout-vitrine]"),$container:(0,h["default"])("[data-layout-container]"),stickyRange:2*+(0,h["default"])(window).height(),offsetTop:i})),u=["pave_atf","pave_mtf"];return s.initialStyles={position:"relative",marginTop:0,paddingTop:0,minHeight:s.$vitrine.height(),isSticky:!1},g["default"].isMobile?(s.remove(s),a(s)):(u.map(function(t){var e=figads.tag(t);e&&(e.on("collapse",function(){s.destroy(e.tagId)}),e.loaded.then(function(){var n=(0,h["default"])(e.node());s.loadedTagIds.push({label:t,el:n,top:n.offset().top,tag:e})})["catch"](function(t){console.warn("BlockListStickyAds : ",t)}))}),s)}return s(e,t),e.prototype.render=function(){var t=this.data.toJS(),e=t.vitrineStyle,n=t.minHeight,r=t.isSticky,i=t.marginLeft;this.$container.css({minHeight:n}),this.$vitrine.css(l({},e,{marginLeft:r?i:0}))},e.prototype.onResize=function(){this.setValues({marginLeft:(0,h["default"])("[data-layout-left-col]").outerWidth()})},e.prototype.binding=function(){(0,h["default"])(window).on("scroll",this.onPageScroll)},e.prototype.onPageScroll=function(){var t=window.pageYOffset,e=this.loadedTagIds.reduce(this.manageSticky,l({},this.initialStyles,{scrollY:t})),n=e.minHeight,r=e.isSticky,o=i(e,["minHeight","isSticky"]);this.setValues({vitrineStyle:o,minHeight:n,isSticky:r})},e.prototype.destroy=function(t){this.loadedTagIds=this.loadedTagIds.filter(function(t){return"loaded"===t.tag.status()}),this.manageSticky(this.initialStyles,t)},e.prototype.manageSticky=function(t,e){if(t.isSticky)return t;var n=t.scrollY,r=t.minHeight,i=t.paddingTop,o=g["default"].isTablet?110:170,a=n>264?60:o,s=(0,h["default"])('[data-banner-sticky="true"]').length?a+100:a,u=n-e.top+s;return u>=0&&u<=this.stickyRange?l({},t,{position:"fixed",marginTop:s-e.top+this.offsetTop,minHeight:r+this.stickyRange,isSticky:!0}):(n<e.top&&(e.top=e.el.offset().top),l({},t,{position:"relative",marginTop:0,paddingTop:i+(u>0?this.stickyRange:0),minHeight:r+this.stickyRange,isSticky:!1}))},e}(f.Block),u(c.prototype,"onPageScroll",[v["default"]],Object.getOwnPropertyDescriptor(c.prototype,"onPageScroll"),c.prototype),u(c.prototype,"manageSticky",[v["default"]],Object.getOwnPropertyDescriptor(c.prototype,"manageSticky"),c.prototype),c);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(12),f=r(l),p=n(16),h=r(p),d=n(54),v=r(d),m=n(47),g=n(55),y=r(g),_=n(39),b=r(_),w=(u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.$el,a=void 0===r?(0,f["default"])('[data-component="flash-news"]'):r,s=n.getFlashData,u=void 0===s?y["default"]:s,c=n.template,l=void 0===c?v["default"]:c;i(this,e);var p=o(this,t.call(this,{initialData:{allNews:[],news:[],currentPage:0,currentTab:a.find(".fig-wg__tabs-item[aria-selected=true]").attr("data-tab"),totalPages:0},initialRender:!1,maxByPage:8,$el:a,getFlashData:u,template:l}));return b["default"].isMobile?(p.remove(),o(p)):(u().then(function(t){var e=t[p.data.get("currentTab")],n=Math.ceil(e.length/p.maxByPage);p.setValues({allNews:t,news:e,totalPages:n}),p.$el.find(".fig-wg-pagination").addClass("fig-wg-pagination--visible").attr("aria-hidden",!1)}),p.$tabs=p.$el.find("[data-tab]"),p.$list=p.$el.find("[data-news]"),p.$current=p.$el.find("[data-pagination-current]"),p.$total=p.$el.find("[data-pagination-total]"),p)}return a(e,t),e.prototype.onTabChange=function(t){this.$list.attr("aria-busy",!0);var e=(0,f["default"])(t.currentTarget),n=e.attr("data-tab"),r=this.data.getIn(["allNews",n]),i=Math.ceil(r.size/this.maxByPage);this.setValues({currentPage:0,currentTab:n,news:r,totalPages:i})},e.prototype.onPageChange=function(t){var e=t.data.direction;this.data.get("totalPages")>0&&(this.$list.attr("aria-busy",!0),this.$current.attr("aria-busy",!0),this.setValues({currentPage:(0,m.modulo)(e+this.data.get("currentPage"),this.data.get("totalPages"))}))},e.prototype.binding=function(){var t=this;this.$el.on("click","[data-tab]",this.onTabChange).on("keypress","[data-tab]",function(e){13===(e.keyCode||e.which)&&t.onTabChange(e)}).on("click","[data-pagination-prev]",{direction:-1},this.onPageChange).on("keypress","[data-pagination-prev]",{direction:-1},function(e){13===(e.keyCode||e.which)&&t.onPageChange(e)}).on("click","[data-pagination-next]",{direction:1},this.onPageChange).on("keypress","[data-pagination-next]",{direction:1},function(e){13===(e.keyCode||e.which)&&t.onPageChange(e)})},e.prototype.render=function(){var t=this.data.get("currentPage"),e=this.data.get("currentTab"),n=this.data.get("news"),r=this.data.get("totalPages"),i=this.$tabs.filter('[data-tab="'+e+'"]');this.$tabs.attr("aria-selected","false"),i.attr("aria-selected","true"),this.$current.text(t+1).attr("aria-busy",!1),this.$total.text(r);var o=t*this.maxByPage,a=(t+1)*this.maxByPage;this.$list.html(this.template({news:n.slice(o,a).toJS()})).css({opacity:0}).animate({opacity:1},300).attr("aria-busy",!1).attr("aria-labelledby",i.attr("id"))},e}(c.Block),s(u.prototype,"onTabChange",[h["default"]],Object.getOwnPropertyDescriptor(u.prototype,"onTabChange"),u.prototype),s(u.prototype,"onPageChange",[h["default"]],Object.getOwnPropertyDescriptor(u.prototype,"onPageChange"),u.prototype),u);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(["\n    ","\n  "],["\n    ","\n  "]),a=n(43),s=r(a),u=n(28),c=r(u);e["default"]=function(t){var e=t.news;return(0,c["default"])(o,e.map(function(t){var e=t.title,n=t.url,r=t.time,i=t.type;return'\n      <li class="fig-wg__list-item fig-wg__list-item--'+i+'">\n          <span class="fig-wg__list-hour">'+(0,s["default"])(r,"HH:MM")+'</span>\n          <a href="'+n+'" class="fig-wg__list-data">'+e+"</a>\n      </li>\n    "}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.section,n=void 0===e?"":e;return self.fetch(o["default"]+"articles/flashs"+(n?"/"+n:"")).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetFlashData "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c,l,f=n(2),p=n(12),h=r(p),d=n(46),v=r(d),m=n(16),g=r(m),y=n(25),_=r(y),b=n(47),w=(l=c=function(t){function e(n){var r=n.$el;i(this,e);var a=o(this,t.call(this,{initialData:{currentMarginLeft:0,listWidth:0},initialRender:!1,$el:r})),s=a.$el.find(".fig-en-ce-moment__item").toArray().reduce(function(t,e,n,r){var i=t+(0,h["default"])(r[n]).outerWidth(!0);return i},50),u=a.$el.find(".fig-en-ce-moment__container").width();return a.contentWidth=u-s,a.contentWidth>0&&a.$el.find(".fig-en-ce-moment__arrow").css("display","none"),a}return a(e,t),e.prototype.binding=function(){_["default"]?(this.$el.find(".fig-en-ce-moment__arrow").css("display","none"),new v["default"](this.$el.get(0)).on("panstart",this.handleBlocAnimation)):(this.$el.find(".fig-icon-chevron-right").on("click",{direction:-1},this.handleBlocAnimation),this.$el.find(".fig-icon-chevron-left").on("click",{direction:1},this.handleBlocAnimation))},e.prototype.handleBlocAnimation=function(t){var n=this.data.get("currentMarginLeft"),r=void 0;r=t.direction?2===t.direction?-1:1:t.data.direction,this.setValues({direction:r,currentMarginLeft:(0,b.constrain)(n+r*e.STEP,this.contentWidth,0)})},e.prototype.render=function(){var t=this.data.get("currentMarginLeft");this.$el.find(".fig-en-ce-moment__list").animate({marginLeft:t+"px"},e.ANIMATION_DURATION),_["default"]||(this.$el.find(".fig-en-ce-moment__arrow--right").toggleClass("fig-en-ce-moment__arrow--disabled",t===this.contentWidth),this.$el.find(".fig-en-ce-moment__arrow--left").toggleClass("fig-en-ce-moment__arrow--disabled",0===t))},e}(f.Block),c.STEP=200,c.ANIMATION_DURATION=300,u=l,s(u.prototype,"handleBlocAnimation",[g["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleBlocAnimation"),u.prototype),u);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(16),f=r(l),p=(u=function(t){function e(n){var r=n.$el;return i(this,e),o(this,t.call(this,{initialData:{isExpanded:!1},initialRender:!1,$el:r}))}return a(e,t),e.prototype.binding=function(){this.$el.on("click",".fig-wg__expander",this.handleExpand)},e.prototype.handleExpand=function(){this.setValues({isExpanded:!this.data.get("isExpanded")})},e.prototype.render=function(){this.$el.toggleClass("fig-wg--expanded",this.data.get("isExpanded"))},e}(c.Block),s(u.prototype,"handleExpand",[f["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleExpand"),u.prototype),u);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l=n(2),f=n(16),p=r(f),h=n(41),d=n(59),v=r(d),m=n(60),g=r(m),y=(c=function(t){function e(n){var r=n.$el,i=n.service,s=void 0===i?g["default"]:i,u=n.template,c=void 0===u?v["default"]:u;o(this,e);var l=a(this,t.call(this,{initialRender:!1,initialData:{data:{}},service:s,$el:r,template:c,refreshDisabled:!1}));return l.intervalTimer=(0,h.interval)(l.refreshAlert,3e4),l}return s(e,t),e.prototype.refreshAlert=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this.service();case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),this.disableRefresh(),e.abrupt("return");case 11:t&&(t.url||t.title||t.display_date)?this.setValues({data:t}):this.$el.empty();case 12:case"end":return e.stop()}},n,this,[[1,7]])}));return t}(),e.prototype.disableRefresh=function(){this.intervalTimer.stop(),this.refreshDisabled=!0},e.prototype.render=function(){var t=this.data.toJS(),e=t.data;this.$el.html(this.template({url:e.url,displayDate:e.display_date,title:e.title}))},e}(l.Block),u(c.prototype,"refreshAlert",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"refreshAlert"),c.prototype),c);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(['\n  <a class="fig-alert__wrapper"\n     href="','">\n      <div class="fig-alert__left-block">\n          <span class="fig-alert__intro">Alerte info</span>\n          <span class="fig-alert__hours">','</span>\n      </div>\n      <div class="fig-alert__title-block">\n          <span class="fig-alert__title">',"</span>\n      </div>\n  </a>\n"],['\n  <a class="fig-alert__wrapper"\n     href="','">\n      <div class="fig-alert__left-block">\n          <span class="fig-alert__intro">Alerte info</span>\n          <span class="fig-alert__hours">','</span>\n      </div>\n      <div class="fig-alert__title-block">\n          <span class="fig-alert__title">',"</span>\n      </div>\n  </a>\n"]),a=n(28),s=r(a),u=function(t){var e=t.url,n=t.displayDate,r=t.title;return(0,s["default"])(o,e,n,r)};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(){return self.fetch(o["default"]+"alert").then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetAlertItem "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(12),u=r(s),c=n(2),l=n(62),f=n(63),p=r(f),h=n(25),d=r(h),v=n(26),m=function(t){function e(n){var r=n.$el;i(this,e);var a=o(this,t.call(this,{initialRender:!1,title:(0,u["default"])("title").text()||"",diaporamas:JSON.parse(r.text())}));a.handleClickButton=function(t){t.preventDefault(),t.stopImmediatePropagation();var e=(0,u["default"])(t.currentTarget).data("figd-index");a.launchDiaporama({selectedDiaporama:e})},(0,u["default"])("body").append('<div class="js-fig-diapo-container"></div>');var s=window.location.hash.match(/#diapo_(\d+)_(.+)/);if(s&&s.length&&3===s.length){var c=s.map(function(t){return parseInt(t,10)}),l=c[1],f=c[2];a.launchDiaporama({selectedDiaporama:l,selectedItem:Number.isNaN(f)?0:f,isGridDisplayed:Number.isNaN(f)})}return a}return a(e,t),e.prototype.binding=function(){var t=this;(0,u["default"])("body").on(d["default"]&&!v.isIe11Min?"touchstart":"click",".js-fig-diapo-launcher",function(e){t.handleClickButton(e)})},e.prototype.launchDiaporama=function(t){var e=t.selectedDiaporama,n=void 0===e?0:e,r=t.selectedItem,i=void 0===r?0:r,o=t.isGridDisplayed,a=void 0!==o&&o,s=t.autoplay,u=void 0!==s&&s,c=this.diaporamas[n],f=this.title,h=".js-fig-diapo-container";Array.from(document.querySelectorAll(h),function(t){(0,l.render)((0,l.h)(p["default"],{autoplay:u,diaporama:c,title:f,isGridDisplayed:a,selectedDiaporama:n,selectedItem:i,AdChangeIndex:3}),t)})},e}(c.Block);e["default"]=m},function(t,e){t.exports=preact},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(62),c=n(64),l=r(c),f=n(47),p=n(25),h=r(p),d=n(26),v=n(65),m=r(v),g=n(66),y=r(g),_=n(68),b=r(_),w=n(69),S=r(w),k=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),r.autoplayTimeout=null,r.didMount=!1,r.state={isDiapoDisplayed:!0,isGridDisplayed:r.props.isGridDisplayed,selectedItem:r.props.selectedItem,adChange:r.props.selectedItem%r.props.AdChangeIndex===0,autoplay:r.props.autoplay},r.handleClose=function(){r.setState({isDiapoDisplayed:!1}),window.document.body.style.overflowY="",clearInterval(r.autoplayTimeout),r.autoplayTimeout=null,window.history&&window.history.replaceState(null,window.location.pathname,""+window.location.pathname+(r.hasAstOverride()?window.location.search:""))},r.handleSwitchMode=function(){r.setState({isGridDisplayed:!r.state.isGridDisplayed,autoplay:!1})},r.handleAutoplay=function(){r.setState({autoplay:!r.state.autoplay})},r.handleExpand=function(t,e){r.setState({selectedItem:e,isGridDisplayed:!1})},r.handleKeyDown=function(t){t.stopPropagation();var e=t.keyCode||t.which;37===e&&0!==r.state.selectedItem?r.changeItem("LEFT"):39===e&&r.state.selectedItem!==r.props.diaporama.length-1?r.changeItem("RIGHT"):27===e&&r.handleClose(),r.setState({autoplay:!1})},r.handleSwipe=function(t){var e=t.direction;2!==e&&4!==e||r.changeItem(2===e?"RIGHT":"LEFT")},a=n,o(r,a)}return a(e,t),e.prototype.changeItem=function(t){var e=(0,f.constrain)(this.state.selectedItem+("LEFT"===t?-1:1),0,this.props.diaporama.length-1);if(this.setState({selectedItem:e,adChange:e%this.props.AdChangeIndex===0}),!h["default"]&&0!==this.base.length){var n=this.base.getElementsByClassName("fig-diapo__img");"RIGHT"===t?n[0].classList.add("animated","fadeInRight"):n[0].classList.add("animated","fadeInLeft"),setTimeout(function(){n[0].classList.remove("animated","fadeInRight","fadeInLeft")},310)}this.pushToDataLayer()},e.prototype.manageAutoplay=function(){var t=this;this.state.autoplay?null===this.autoplayTimeout&&(this.autoplayTimeout=setInterval(function(){t.state.selectedItem===t.props.diaporama.length-1?t.setValues({autoplay:!1}):t.changeItem("RIGHT")},3e3)):(clearInterval(this.autoplayTimeout),this.autoplayTimeout=null)},e.prototype.formatIndex=function(t){return t>9?t:"0"+t},e.prototype.onPopState=function(){this.handleClose()},e.prototype.componentDidMount=function(){this.onPopState=this.onPopState.bind(this),window.document.body.style.overflowY="hidden",window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("popstate",this.onPopState),this.didMount=!0,this.articleID=document.querySelectorAll(".fig-content")[0].getAttribute("data-fidji-id"),this.pushToDataLayer()},e.prototype.componentDidUnmount=function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("popstate",this.onPopState)},e.prototype.hasAstOverride=function(){var t=window.location.search;return 1===t.indexOf("ast_override_div=pave-diapo:")},e.prototype.pushToDataLayer=function(){if(window.dataLayer){var t={customCategorie:"document",customAction:"embedPv",customLabel:"/embed/diaporama-"+this.articleID+"/"+(this.state.selectedItem+1),event:"customEventSPE"},e=window.dataLayer.find(function(e){return e.customLabel===t.customLabel});e||window.dataLayer.push(t)}},e.prototype.render=function(t,e){var n=this,r=t.diaporama,i=t.title,o=t.selectedDiaporama,a=e.isGridDisplayed,c=e.isDiapoDisplayed,f=e.selectedItem,p=e.adChange,v=e.autoplay;if(c)return this.manageAutoplay(),window.history&&window.history[this.didMount?"replaceState":"pushState"]({selectedDiaporama:o,selectedItem:f,isGridDisplayed:a},window.location.pathname,""+window.location.pathname+(this.hasAstOverride()?window.location.search:"")+"#diapo_"+o+"_"+(a?"grid":f)),(0,u.h)("div",{"class":"fig-diapo "+(a?"fig-diapo--grid":""),tabindex:"1"},(0,u.h)("div",{"class":"fig-diapo__header"},(0,u.h)("div",{onClick:this.handleAutoplay,"class":"fig-diapo__button fig-diapo__button--"+(v?"pause":"play"),title:(v?"Arrter":"Lancer")+" le diaporama"}),(0,u.h)("div",{onClick:this.handleSwitchMode,"class":"fig-diapo__button fig-diapo__button--"+(a?"diapo":"grid"),title:"Afficher "+(a?"image par image":"en grille")}),(0,u.h)("div",{onClick:this.handleClose,"class":"fig-diapo__button fig-diapo__button--close",title:"Fermer le diaporama"})),(0,u.h)("div",{style:"height: 100vh;"},a?(0,u.h)("div",{"class":"fig-diapo__player"},(0,u.h)("ul",{"class":"fig-diapo__grid",style:"width: 100%;"},r.map(function(t,e){return(0,u.h)("li",{"class":"fig-diapo__grid-item animated zoomIn",key:e,style:{animationDelay:100*e+"ms"}},(0,u.h)("span",{"data-index":e,onClick:function(t){return n.handleExpand(t,e)}},(0,u.h)("img",{src:t.img.replace(/{width}/,"175x175_crop"),width:"175",height:"175","class":"fig-player__thumbs-img fig-diapo__grid-img",alt:t.legend||""})))}))):(0,u.h)("div",{"class":"fig-diapo__player"},(0,u.h)("div",{"class":"fig-diapo__player-media"},h["default"]&&!d.isIe11Min?(0,u.h)(m["default"],{onSwipe:this.handleSwipe},(0,u.h)(y["default"],{item:r[f]})):(0,u.h)(y["default"],{item:r[f]})),(0,u.h)("div",{"class":"pagination"},(0,u.h)(b["default"],s({selectedItem:f,diaporamaLength:r.length,max:0,modifier:"prev"},{onClick:function(){return n.changeItem("LEFT")}})),(0,u.h)(b["default"],s({selectedItem:f,diaporamaLength:r.length,max:r.length-1,modifier:"next"},{onClick:function(){return n.changeItem("RIGHT")}})))),(0,u.h)("div",{"class":"fig-diapo__footer"},a?(0,u.h)("div",null):(0,u.h)("div",null,(0,u.h)("h3",{"class":"fig-diapo__title"},i),(0,u.h)("div",{"class":"fig-diapo__count"},(0,u.h)("span",{"class":"fig-player__current"},this.formatIndex(f+1)),"/",this.formatIndex(r.length)),(0,u.h)("div",{"class":"fig-diapo__legend"},(0,u.h)(l["default"],{markup:r[f].legend||"",type:"html"})),(0,u.h)("div",{"class":"fig-diapo__credits"},r[f].credits||"")),(0,u.h)(S["default"],{adChange:p,format:"pave-diapo"}))))},e}(u.Component);e["default"]=k},function(t,e,n){!function(e,r){t.exports=r(n(62))}(this,function(t){"use strict";function e(t,e){var r=void 0,i="html"===e?"text/html":"application/xml",o=void 0,a=void 0,s=void 0;"html"===e?(s="body",a="<!DOCTYPE html>\n<html><body>"+t+"</body></html>"):(s="xml",a='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+t+"</xml>");try{r=(new DOMParser).parseFromString(a,i)}catch(u){o=u}if(r||"html"!==e||(r=l||(l=n()),r.open(),r.write(a),r.close()),r){var c=r.getElementsByTagName(s)[0],f=c.firstChild;return t&&!f&&(c.error="Document parse failed."),f&&"parsererror"===String(f.nodeName).toLowerCase()&&(f.removeChild(f.firstChild),f.removeChild(f.lastChild),c.error=f.textContent||f.nodeValue||o||"Unknown error",c.removeChild(f)),c}}function n(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var t=document.createElement("iframe");return t.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",t.setAttribute("sandbox","allow-forms"),document.body.appendChild(t),t.contentWindow.document}function r(t,e,n,r){return i.visitor=e,i.h=n,i.options=r||f,i(t)}function i(t){if(3===t.nodeType)return"textContent"in t?t.textContent:t.nodeValue;if(1!==t.nodeType)return null;var e=String(t.nodeName).toLowerCase();if("script"===e&&!i.options.allowScripts)return null;var n=i.h(e,o(t.attributes),a(t.childNodes));return i.visitor&&i.visitor(n),n}function o(t){var e=t&&t.length;if(!e)return null;for(var n={},r=0;r<e;r++){var o=t[r],a=o.name,s=o.value;""===s&&(s=!0),"on"===a.substring(0,2)&&i.options.allowEvents&&(s=new Function(s)),n[a]=s}return n}function a(t){var e=t&&Array.prototype.map.call(t,i).filter(p);return e&&e.length?e:null}function s(t,n,i,o,a){var s=e(t,n);if(s&&s.error)throw new Error(s.error);var c=s&&s.body||s;u.map=o||h;var l=c&&r(c,u,i,a);return u.map=null,l&&l.children||null}function u(t){var e=t.nodeName.toLowerCase(),n=u.map;t.nodeName=n&&n.hasOwnProperty(e)?n[e]:e.replace(/[^a-z0-9-]/i,"")}var c={};c.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},c.objectWithoutProperties=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},c.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var l=void 0,f={},p=function(t){return t},h={},d=void 0,v=function(e){function n(){return c.classCallCheck(this,n),c.possibleConstructorReturn(this,e.apply(this,arguments))}return c.inherits(n,e),n.setReviver=function(t){d=t},n.prototype.shouldComponentUpdate=function(t){var e=t.wrap,n=t.type,r=t.markup,i=this.props;return e!==i.wrap||n!==i.type||r!==i.markup},n.prototype.setComponents=function(t){if(this.map={},t)for(var e in t)if(t.hasOwnProperty(e)){var n=e.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[n]=t[e]}},n.prototype.render=function(e){var n=e.wrap,r=void 0===n||n,i=e.type,o=e.markup,a=e.components,u=e.reviver,l=e.onError,f=e["allow-scripts"],p=e["allow-events"],h=c.objectWithoutProperties(e,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events"]),v=u||this.reviver||this.constructor.prototype.reviver||d||t.h,m=void 0;this.setComponents(a);var g={allowScripts:f,allowEvents:p};try{m=s(o,i,v,this.map,g)}catch(y){l?l({error:y}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+y)}if(r===!1)return m&&m[0]||null;var _=h.hasOwnProperty("className")?"className":"class",b=h[_];return b?b.splice?b.splice(0,0,"markup"):"string"==typeof b?h[_]+=" markup":"object"==typeof b&&(b.markup=!0):h[_]="markup",v("div",h,m||null)},n}(t.Component);return v})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,
e.HammerComponent=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(62),c=(r(u),n(46)),l=r(c),f={children:!0,direction:!0,options:!0,recognizeWith:!0,vertical:!0},p={action:"tap press",onDoubleTap:"doubletap",onPan:"pan",onPanCancel:"pancancel",onPanEnd:"panend",onPanStart:"panstart",onPinch:"pinch",onPinchCancel:"pinchcancel",onPinchEnd:"pinchend",onPinchIn:"pinchin",onPinchOut:"pinchout",onPinchStart:"pinchstart",onPress:"press",onPressUp:"pressup",onRotate:"rotate",onRotateCancel:"rotatecancel",onRotateEnd:"rotateend",onRotateMove:"rotatemove",onRotateStart:"rotatestart",onSwipe:"swipe",onTap:"tap"};Object.keys(p).forEach(function(t){f[t]=!0});var h=function(t,e){e.hasOwnProperty("vertical")&&console.warn("vertical is deprecated, please use `direction` instead");var n=e.direction;if(n||e.hasOwnProperty("vertical")){var r=n?n:e.vertical?"DIRECTION_ALL":"DIRECTION_HORIZONTAL";t.get("pan").set({direction:l["default"][r]}),t.get("swipe").set({direction:l["default"][r]})}e.options&&Object.keys(e.options).forEach(function(n){if("recognizers"===n)Object.keys(e.options.recognizers).forEach(function(n){var r=t.get(n);r.set(e.options.recognizers[n])},void 0);else{var r=n,i={};i[r]=e.options[n],t.set(i)}},void 0),e.recognizeWith&&Object.keys(e.recognizeWith).forEach(function(n){var r=t.get(n);r.recognizeWith(e.recognizeWith[n])},void 0),Object.keys(e).forEach(function(n){var r=p[n];r&&(t.off(r),t.on(r,e[n]))})},d=e.HammerComponent=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),r.displayName="Hammer",a=n,o(r,a)}return a(e,t),e.prototype.componentDidMount=function(){this.hammer=new l["default"](this.base),h(this.hammer,this.props)},e.prototype.componentDidUpdate=function(){this.hammer&&h(this.hammer,this.props)},e.prototype.componentWillUnmount=function(){this.hammer&&(this.hammer.stop(),this.hammer.destroy()),this.hammer=null},e.prototype.render=function(){var t=this,e={};return Object.keys(this.props).forEach(function(n){f[n]||(e[n]=t.props[n])},this),(0,u.h)("div",s({},this.props.children.props,e),this.props.children)},e}(u.Component);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(62),u=n(67),c=r(u),l=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.srcsetPolyfill=function(t){t&&setTimeout(function(){(0,c["default"])({reevaluate:!0,elements:[t]})},30)},e.prototype.render=function(t){var e=t.item;return e?(0,s.h)("img",{ref:this.srcsetPolyfill.bind(this),srcset:[480,800,1500].map(function(t){return e.img.replace(/{width}/,t+"x")+" "+t+"w"}).join(", "),sizes:"100vw","class":"fig-diapo__img",alt:e.legend||""}):null},e}(s.Component);e["default"]=l},function(t,e,n){var r;/*! picturefill - v3.0.2 - 2016-02-12
	 * https://scottjehl.github.io/picturefill/
	 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
	 */
/*! Gecko-Picture - v1.0
	 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
	 * Firefox's early picture implementation (prior to FF41) is static and does
	 * not react to viewport changes. This tiny module fixes this.
	 */
!function(t){var e=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(e)&&e.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var e,n=document.createElement("source"),r=function(t){var e,r,i=t.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(e=n.cloneNode(),i.insertBefore(e,i.firstElementChild),setTimeout(function(){i.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,r=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=r}))},i=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)r(e[t])},o=function(){clearTimeout(e),e=setTimeout(i,99)},a=t.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),a&&a.addListener&&a.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o}())}(window),/*! Picturefill - v3.0.2
	 * http://scottjehl.github.io/picturefill
	 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
	 *  License: MIT
	 */
function(i,o,a){"use strict";function s(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function u(t,e){var n=new i.Image;return n.onerror=function(){M[t]=!1,ot()},n.onload=function(){M[t]=1===n.width,ot()},n.src=e,"pending"}function c(){U=!1,H=i.devicePixelRatio,W={},F={},S.DPR=H||1,V.width=Math.max(i.innerWidth||0,A.clientWidth),V.height=Math.max(i.innerHeight||0,A.clientHeight),V.vw=V.width/100,V.vh=V.height/100,w=[V.height,V.width,H].join("-"),V.em=S.getEmValue(),V.rem=V.em}function l(t,e,n,r){var i,o,a,s;return"saveData"===C.algorithm?t>2.7?s=n+1:(o=e-n,i=Math.pow(t-.6,1.5),a=o*i,r&&(a+=.1*i),s=t+a):s=n>1?Math.sqrt(t*e):t,s>n}function f(t){var e,n=S.getSet(t),r=!1;"pending"!==n&&(r=w,n&&(e=S.setRes(n),S.applySetCandidate(e,t))),t[S.ns].evaled=r}function p(t,e){return t.res-e.res}function h(t,e,n){var r;return!n&&e&&(n=t[S.ns].sets,n=n&&n[n.length-1]),r=d(e,n),r&&(e=S.makeUrl(e),t[S.ns].curSrc=e,t[S.ns].curCan=r,r.res||it(r,r.set.sizes)),r}function d(t,e){var n,r,i;if(t&&e)for(i=S.parseSet(e),t=S.makeUrl(t),n=0;n<i.length;n++)if(t===S.makeUrl(i[n].url)){r=i[n];break}return r}function v(t,e){var n,r,i,o,a=t.getElementsByTagName("source");for(n=0,r=a.length;n<r;n++)i=a[n],i[S.ns]=!0,o=i.getAttribute("srcset"),o&&e.push({srcset:o,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}function m(t,e){function n(e){var n,r=e.exec(t.substring(p));if(r)return n=r[0],p+=n.length,n}function r(){var t,n,r,i,s,u,c,l,f,p=!1,d={};for(i=0;i<a.length;i++)s=a[i],u=s[s.length-1],c=s.substring(0,s.length-1),l=parseInt(c,10),f=parseFloat(c),Z.test(c)&&"w"===u?((t||n)&&(p=!0),0===l?p=!0:t=l):tt.test(c)&&"x"===u?((t||n||r)&&(p=!0),f<0?p=!0:n=f):Z.test(c)&&"h"===u?((r||n)&&(p=!0),0===l?p=!0:r=l):p=!0;p||(d.url=o,t&&(d.w=t),n&&(d.d=n),r&&(d.h=r),r||n||t||(d.d=1),1===d.d&&(e.has1x=!0),d.set=e,h.push(d))}function i(){for(n(K),u="",c="in descriptor";;){if(l=t.charAt(p),"in descriptor"===c)if(s(l))u&&(a.push(u),u="",c="after descriptor");else{if(","===l)return p+=1,u&&a.push(u),void r();if("("===l)u+=l,c="in parens";else{if(""===l)return u&&a.push(u),void r();u+=l}}else if("in parens"===c)if(")"===l)u+=l,c="in descriptor";else{if(""===l)return a.push(u),void r();u+=l}else if("after descriptor"===c)if(s(l));else{if(""===l)return void r();c="in descriptor",p-=1}p+=1}}for(var o,a,u,c,l,f=t.length,p=0,h=[];;){if(n(Y),p>=f)return h;o=n(X),a=[],","===o.slice(-1)?(o=o.replace(Q,""),r()):i()}}function g(t){function e(t){function e(){i&&(o.push(i),i="")}function n(){o[0]&&(a.push(o),o=[])}for(var r,i="",o=[],a=[],u=0,c=0,l=!1;;){if(r=t.charAt(c),""===r)return e(),n(),a;if(l){if("*"===r&&"/"===t[c+1]){l=!1,c+=2,e();continue}c+=1}else{if(s(r)){if(t.charAt(c-1)&&s(t.charAt(c-1))||!i){c+=1;continue}if(0===u){e(),c+=1;continue}r=" "}else if("("===r)u+=1;else if(")"===r)u-=1;else{if(","===r){e(),n(),c+=1;continue}if("/"===r&&"*"===t.charAt(c+1)){l=!0,c+=2;continue}}i+=r,c+=1}}}function n(t){return!!(l.test(t)&&parseFloat(t)>=0)||(!!f.test(t)||("0"===t||"-0"===t||"+0"===t))}var r,i,o,a,u,c,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,f=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=e(t),o=i.length,r=0;r<o;r++)if(a=i[r],u=a[a.length-1],n(u)){if(c=u,a.pop(),0===a.length)return c;if(a=a.join(" "),S.matchesMedia(a))return c}return"100vw"}o.createElement("picture");var y,_,b,w,S={},k=!1,O=function(){},T=o.createElement("img"),E=T.getAttribute,I=T.setAttribute,P=T.removeAttribute,A=o.documentElement,M={},C={algorithm:""},D="data-pfsrc",j=D+"set",x=navigator.userAgent,z=/rident/.test(x)||/ecko/.test(x)&&x.match(/rv\:(\d+)/)&&RegExp.$1>35,$="currentSrc",R=/\s+\+?\d+(e\d+)?w/,B=/(\([^)]+\))?\s*(.+)/,L=i.picturefillCFG,N="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",q="font-size:100%!important;",U=!0,W={},F={},H=i.devicePixelRatio,V={px:1,"in":96},G=o.createElement("a"),J=!1,K=/^[ \t\n\r\u000c]+/,Y=/^[, \t\n\r\u000c]+/,X=/^[^ \t\n\r\u000c]+/,Q=/[,]+$/,Z=/^\d+$/,tt=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,et=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},nt=function(t){var e={};return function(n){return n in e||(e[n]=t(n)),e[n]}},rt=function(){var t=/^([\d\.]+)(em|vw|px)$/,e=function(){for(var t=arguments,e=0,n=t[0];++e in t;)n=n.replace(t[e],t[++e]);return n},n=nt(function(t){return"return "+e((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(e,r){var i;if(!(e in W))if(W[e]=!1,r&&(i=e.match(t)))W[e]=i[1]*V[i[2]];else try{W[e]=new Function("e",n(e))(V)}catch(o){}return W[e]}}(),it=function(t,e){return t.w?(t.cWidth=S.calcListLength(e||"100vw"),t.res=t.w/t.cWidth):t.res=t.d,t},ot=function(t){if(k){var e,n,r,i=t||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),e=i.elements||S.qsa(i.context||o,i.reevaluate||i.reselect?S.sel:S.selShort),r=e.length){for(S.setupRun(i),J=!0,n=0;n<r;n++)S.fillImg(e[n],i);S.teardownRun(i)}}};y=i.console&&console.warn?function(t){console.warn(t)}:O,$ in T||($="src"),M["image/jpeg"]=!0,M["image/gif"]=!0,M["image/png"]=!0,M["image/svg+xml"]=o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),S.ns=("pf"+(new Date).getTime()).substr(0,9),S.supSrcset="srcset"in T,S.supSizes="sizes"in T,S.supPicture=!!i.HTMLPictureElement,S.supSrcset&&S.supPicture&&!S.supSizes&&!function(t){T.srcset="data:,a",t.src="data:,a",S.supSrcset=T.complete===t.complete,S.supPicture=S.supSrcset&&S.supPicture}(o.createElement("img")),S.supSrcset&&!S.supSizes?!function(){var t="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=o.createElement("img"),r=function(){var t=n.width;2===t&&(S.supSizes=!0),b=S.supSrcset&&!S.supSizes,k=!0,setTimeout(ot)};n.onload=r,n.onerror=r,n.setAttribute("sizes","9px"),n.srcset=e+" 1w,"+t+" 9w",n.src=e}():k=!0,S.selShort="picture>img,img[srcset]",S.sel=S.selShort,S.cfg=C,S.DPR=H||1,S.u=V,S.types=M,S.setSize=O,S.makeUrl=nt(function(t){return G.href=t,G.href}),S.qsa=function(t,e){return"querySelector"in t?t.querySelectorAll(e):[]},S.matchesMedia=function(){return i.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?S.matchesMedia=function(t){return!t||matchMedia(t).matches}:S.matchesMedia=S.mMQ,S.matchesMedia.apply(this,arguments)},S.mMQ=function(t){return!t||rt(t)},S.calcLength=function(t){var e=rt(t,!0)||!1;return e<0&&(e=!1),e},S.supportsType=function(t){return!t||M[t]},S.parseSize=nt(function(t){var e=(t||"").match(B);return{media:e&&e[1],length:e&&e[2]}}),S.parseSet=function(t){return t.cands||(t.cands=m(t.srcset,t)),t.cands},S.getEmValue=function(){var t;if(!_&&(t=o.body)){var e=o.createElement("div"),n=A.style.cssText,r=t.style.cssText;e.style.cssText=N,A.style.cssText=q,t.style.cssText=q,t.appendChild(e),_=e.offsetWidth,t.removeChild(e),_=parseFloat(_,10),A.style.cssText=n,t.style.cssText=r}return _||16},S.calcListLength=function(t){if(!(t in F)||C.uT){var e=S.calcLength(g(t));F[t]=e?e:V.width}return F[t]},S.setRes=function(t){var e;if(t){e=S.parseSet(t);for(var n=0,r=e.length;n<r;n++)it(e[n],t.sizes)}return e},S.setRes.res=it,S.applySetCandidate=function(t,e){if(t.length){var n,r,i,o,a,s,u,c,f,d=e[S.ns],v=S.DPR;if(s=d.curSrc||e[$],u=d.curCan||h(e,s,t[0].set),u&&u.set===t[0].set&&(f=z&&!e.complete&&u.res-.1>v,f||(u.cached=!0,u.res>=v&&(a=u))),!a)for(t.sort(p),o=t.length,a=t[o-1],r=0;r<o;r++)if(n=t[r],n.res>=v){i=r-1,a=t[i]&&(f||s!==S.makeUrl(n.url))&&l(t[i].res,n.res,v,t[i].cached)?t[i]:n;break}a&&(c=S.makeUrl(a.url),d.curSrc=c,d.curCan=a,c!==s&&S.setSrc(e,a),S.setSize(e))}},S.setSrc=function(t,e){var n;t.src=e.url,"image/svg+xml"===e.set.type&&(n=t.style.width,t.style.width=t.offsetWidth+1+"px",t.offsetWidth+1&&(t.style.width=n))},S.getSet=function(t){var e,n,r,i=!1,o=t[S.ns].sets;for(e=0;e<o.length&&!i;e++)if(n=o[e],n.srcset&&S.matchesMedia(n.media)&&(r=S.supportsType(n.type))){"pending"===r&&(n=r),i=n;break}return i},S.parseSets=function(t,e,n){var r,i,o,s,u=e&&"PICTURE"===e.nodeName.toUpperCase(),c=t[S.ns];(c.src===a||n.src)&&(c.src=E.call(t,"src"),c.src?I.call(t,D,c.src):P.call(t,D)),(c.srcset===a||n.srcset||!S.supSrcset||t.srcset)&&(r=E.call(t,"srcset"),c.srcset=r,s=!0),c.sets=[],u&&(c.pic=!0,v(e,c.sets)),c.srcset?(i={srcset:c.srcset,sizes:E.call(t,"sizes")},c.sets.push(i),o=(b||c.src)&&R.test(c.srcset||""),o||!c.src||d(c.src,i)||i.has1x||(i.srcset+=", "+c.src,i.cands.push({url:c.src,d:1,set:i}))):c.src&&c.sets.push({srcset:c.src,sizes:null}),c.curCan=null,c.curSrc=a,c.supported=!(u||i&&!S.supSrcset||o&&!S.supSizes),s&&S.supSrcset&&!c.supported&&(r?(I.call(t,j,r),t.srcset=""):P.call(t,j)),c.supported&&!c.srcset&&(!c.src&&t.src||t.src!==S.makeUrl(c.src))&&(null===c.src?t.removeAttribute("src"):t.src=c.src),c.parsed=!0},S.fillImg=function(t,e){var n,r=e.reselect||e.reevaluate;t[S.ns]||(t[S.ns]={}),n=t[S.ns],(r||n.evaled!==w)&&(n.parsed&&!e.reevaluate||S.parseSets(t,t.parentNode,e),n.supported?n.evaled=w:f(t))},S.setupRun=function(){J&&!U&&H===i.devicePixelRatio||c()},S.supPicture?(ot=O,S.fillImg=O):!function(){var t,e=i.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var i=o.readyState||"";r=setTimeout(n,"loading"===i?200:999),o.body&&(S.fillImgs(),t=t||e.test(i),t&&clearTimeout(r))},r=setTimeout(n,o.body?9:99),a=function(t,e){var n,r,i=function(){var o=new Date-r;o<e?n=setTimeout(i,e-o):(n=null,t())};return function(){r=new Date,n||(n=setTimeout(i,e))}},s=A.clientHeight,u=function(){U=Math.max(i.innerWidth||0,A.clientWidth)!==V.width||A.clientHeight!==s,s=A.clientHeight,U&&S.fillImgs()};et(i,"resize",a(u,99)),et(o,"readystatechange",n)}(),S.picturefill=ot,S.fillImgs=ot,S.teardownRun=O,ot._=S,i.picturefillCFG={pf:S,push:function(t){var e=t.shift();"function"==typeof S[e]?S[e].apply(S,t):(C[e]=t[0],J&&S.fillImgs({reselect:!0}))}};for(;L&&L.length;)i.picturefillCFG.push(L.shift());i.picturefill=ot,"object"==typeof t&&"object"==typeof t.exports?t.exports=ot:(r=function(){return ot}.call(e,n,e,t),!(r!==a&&(t.exports=r))),S.supPicture||(M["image/webp"]=u("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(62),i=function(t){var e=t.selectedItem,n=t.diaporamaLength,i=t.max,o=t.modifier,a=t.onClick;return(0,r.h)("div",{onClick:a,"class":"fig-diapo__arrow fig-diapo__arrow--"+o,"data-index":""+(e+n-1)%n,style:"display: "+(e===i?"none":"block")})};e["default"]=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(62),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.shouldComponentUpdate=function(t){var e=t.format,n=t.adChange;return n&&window.figads&&window.figads.refresh([e]),!1},e.prototype.componentDidMount=function(){var t=this;setTimeout(function(){t.loadPave()})},e.prototype.loadPave=function(){var t=window.figads;t&&t.ready(function(){window.figads.reload()})},e.prototype.render=function(t){var e=t.format;if(e)return(0,a.h)("div",{"data-figtag":e,"class":"fig-diapo__pub"})},e}(a.Component);e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(2),c=n(12),l=r(c),f=n(71),p=r(f),h=n(73),d=r(h),v=n(74),m=r(v),g=n(75),y=r(g),_=function(t){function e(n){var r=n.$el,i=n.customTemplate,s=n.additionalClass,u=void 0===s?"":s,c=n.service,f=void 0===c?m["default"]:c,p=n.serviceStore,h=void 0===p?y["default"]:p,v=n.selector,g=void 0===v?".fig-content":v,_=n.type,b=void 0===_?"page":_,w=n.dataIdAttr,S=void 0===w?"data-fidji-id":w;o(this,e);var k=a(this,t.call(this,{initialData:{micronavHtmlData:""},initialRender:!1,$el:r,customTemplate:i,template:d["default"],additionalClass:u,service:f,serviceStore:h,source:(0,l["default"])(g).data("fidji-source"),remoteId:(0,l["default"])(g).attr(S),isPremium:(0,l["default"])(g).data("is-premium"),sticky:r.data("sticky"),type:b,commentsNumber:(0,l["default"])(g).data("comment-count"),commentsClosed:(0,l["default"])(g).data("comment-closed")}));return k.source&&k.remoteId?(k.getMicronavHtmlData(),k):(k.remove(k),a(k))}return s(e,t),e.prototype.getMicronavHtmlData=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t,e,r,i,o,a,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.source,e=this.remoteId,r=this.type,i=this.isPremium,this.$el.attr("aria-busy",!0),o=null,a=void 0,s=void 0,"lefigaro.fr"!==t){n.next=14;break}return n.next=8,Promise.all([this.service({source:t,remoteId:e,type:r}),this.serviceStore({type:r,isPremium:i})]);case 8:u=n.sent,a=u[0],s=u[1],o=s&&s.url?s.url:"#?",n.next=17;break;case 14:return n.next=16,this.service({source:t,remoteId:e,type:r});case 16:a=n.sent;case 17:a&&a.html&&this.setValues({micronavHtmlData:a.html,url:o});case 18:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.getFormattedCommentsNb=function(t){return 0===t?"":t>999?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t},e.prototype.getCommentsWording=function(t){return 1===t?"commentaire":t>1?"commentaires":"Commentez"},e.prototype.render=function(){var t=this.data.toJS(),e=t.micronavHtmlData,n=t.url,r=this.commentsNumber,i=this.commentsClosed;this.$el.html(this.template({customTemplate:this.customTemplate,micronavHtmlData:e,dataComment:{number:r,isClosed:i,wording:this.getCommentsWording(r),formattedNb:this.getFormattedCommentsNb(r)},additionalClass:this.additionalClass,url:n})).attr("aria-busy",!1);try{this.add(new p["default"]({$el:this.$el,sticky:this.sticky}))}catch(o){console.error("BlockMicronavLauncher->BlockMicronav instantiation failed",o.stack)}},e}(u.Block);e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c,l,f=n(2),p=n(12),h=r(p),d=n(16),v=r(d),m=n(35),g=r(m),y=n(39),_=r(y),b=n(72),w=r(b),S=(l=c=function(t){function e(n){var r=n.$el,a=n.sticky,s=void 0===a||a,u=n.serviceNewsletter,c=void 0===u?w["default"]:u;return i(this,e),o(this,t.call(this,{initialData:{articleHeight:(0,h["default"])(".fig-page__col-left").height(),isSticky:!1,currentBreakpoint:_["default"].getBreakpoint(),mailFormDisplayed:!1,marginTop:0},$el:r,serviceNewsletter:c,sticky:s,$micronav:r.find(".fig-micronav"),$hideLarge:r.find('.fig-micronav__item[data-hide="large"]'),$hideSmall:r.find('.fig-micronav__item[data-hide="small"]'),$mailForm:r.find(".fig-micronav__mailform"),linkToElement:r.find("[data-target]"),shareItems:r.find(".fig-micronav__js-share"),printItem:r.find(".fig-micronav__js-print"),emailItem:r.find(".fig-micronav__js-email"),scrollState:0}))}return a(e,t),e.prototype.binding=function(){var t=this;this.linkToElement.on("click",this.smoothScroll).on("keypress",function(e){13===(e.keyCode||e.which)&&t.smoothScroll()}),this.shareItems.on("click",g["default"]),this.emailItem.on("click",_["default"].isMobile?this.sendMailMobile:this.openMailForm),this.printItem.on("click",function(){window.print()}).on("keypress",function(t){13===(t.keyCode||t.which)&&window.print()})},e.prototype.onScroll=function(){this.sticky&&this.checkIfSticky()},e.prototype.onResize=function(){this.setValues({articleHeight:(0,h["default"])(".fig-page__col-left").height(),currentBreakpoint:_["default"].getBreakpoint()})},e.prototype.checkIfSticky=function(){var t=(0,h["default"])('[data-banner-sticky="true"]'),n=(0,h["default"])(window).scrollTop(),r=void 0;(0,h["default"])(this.$el).offset().top<n?(r=!0,window.innerWidth<e.micronavBP&&(n>this.scrollState||n>this.data.get("articleHeight"))&&(r=!1)):r=!1,this.setValues({isSticky:r,marginTop:r&&t.length?t.height():0}),this.scrollState=n},e.prototype.smoothScroll=function(){var t=(0,h["default"])(this).data("target");(0,h["default"])(t).length&&(0,h["default"])("html, body").animate({scrollTop:(0,h["default"])(t).offset().top},500)},e.prototype.openMailForm=function(){var t=this;this.$mailForm.submit(function(e){e.preventDefault();var n=t.$el.find('[name="to"]').val(),r=t.$el.find('[name="from"]').val(),i=(0,h["default"])(".fig-main-title").text(),o=t.$el.find('[name="message"]').val(),a="Un ami vous a partag l'article suivant : "+location.href+"<br />\n        "+(o?"avec le message: <br />"+o:"")+"<br />",s="mailto:"+n+"\n        ?subject="+encodeURIComponent(i)+"\n        &body="+encodeURIComponent(a),u=t.$el.find('[name="nl"]:checked').val();u&&"yes"===u&&t.serviceNewsletter(r),window.location.href=s,t.$mailForm[0].reset(),t.setValues({mailFormDisplayed:!1},t.renderMailForm)}),this.setValues({mailFormDisplayed:!this.data.get("mailFormDisplayed")},this.renderMailForm)},e.prototype.sendMailMobile=function(){var t=(0,h["default"])(".fig-main-title").text(),e="Un ami vous a partag l'article suivant : "+location.href+"<br />",n="mailto:?subject="+encodeURIComponent(t)+"&body="+encodeURIComponent(e);window.location.href=n},e.prototype.renderMailForm=function(){var t=this.data.toJS(),e=t.mailFormDisplayed;this.$mailForm.toggleClass("fig-micronav__mailform--active",e)},e.prototype.render=function(){var t=this.data.toJS(),n=t.isSticky,r=t.linkToElement,i=t.currentBreakpoint,o=t.marginTop;n?(this.$micronav.css("display","none").addClass(e.stickyClass).fadeIn(),(0,h["default"])(r).filter('[data-target="#fig-page"]').removeAttr("tabindex").parent().attr("aria-hidden",!1)):(this.$micronav.removeClass(e.stickyClass),(0,h["default"])(r).filter('[data-target="#fig-page"]').attr("tabindex",-1).parent().attr("aria-hidden",!0));var a="x-small"===i||"default"===i||"small"===i;this.$hideLarge.toArray().forEach(function(t){(0,h["default"])(t).attr("aria-hidden",!a)}),this.$hideSmall.toArray().forEach(function(t){(0,h["default"])(t).attr("aria-hidden",a)}),this.$micronav.css({marginTop:o})},e}(f.Block),c.stickyClass="fig-micronav--sticky",c.micronavBP=1160,u=l,s(u.prototype,"openMailForm",[v["default"]],Object.getOwnPropertyDescriptor(u.prototype,"openMailForm"),u.prototype),u);e["default"]=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(12),o=r(i),a=function(t){var e={url:"http://www.lefigaro.fr/inscnl/insert_nlquotidienne.php?email="+t,type:"POST",dataType:"json"};return o["default"].ajax(e)};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(["\n    ","\n    ","\n"],["\n    ","\n    ","\n"]),a=i(['\n  <form class="fig-micronav__mailform" action="#">\n    <p class="fig-micronav__mailform-head">Envoyer cet article par e-mail</p>\n    <div>\n      <label for="to">Envoyer  :</label>\n      <input type="email" id="to" name="to" placeholder="exemple@domaine.fr" required>\n      <p>Sparez les adresses e-mail de vos contacts par des virgules.</p>\n    </div>\n    <div>\n      <label for="from">De la part de :</label>\n      <input type="email" id="from" name="from" placeholder="exemple@domaine.fr" required>\n    </div>\n    <div>\n      <label for="message">Votre message :</label>\n      <textarea name="message" id="messsage" cols="30" rows="4"\n      placeholder="Saisissez ici votre message"></textarea>\n    </div>\n<!-- Disabled for the moment\n    <div>\n        <p>J\'accepte de recevoir la newsletter quotidienne du Figaro.fr</p>\n        <label class="fig-micronav__mailform-radio">\n            <input type="radio" name="nl" value="yes" />Oui\n        </label>\n        <label class="fig-micronav__mailform-radio">\n            <input type="radio" name="nl" value="no" checked />Non\n        </label>\n    </div>\n-->\n    <input type="submit" value="Envoyer" class="fig-micronav__mailform-submit">\n</form>\n'],['\n  <form class="fig-micronav__mailform" action="#">\n    <p class="fig-micronav__mailform-head">Envoyer cet article par e-mail</p>\n    <div>\n      <label for="to">Envoyer  :</label>\n      <input type="email" id="to" name="to" placeholder="exemple@domaine.fr" required>\n      <p>Sparez les adresses e-mail de vos contacts par des virgules.</p>\n    </div>\n    <div>\n      <label for="from">De la part de :</label>\n      <input type="email" id="from" name="from" placeholder="exemple@domaine.fr" required>\n    </div>\n    <div>\n      <label for="message">Votre message :</label>\n      <textarea name="message" id="messsage" cols="30" rows="4"\n      placeholder="Saisissez ici votre message"></textarea>\n    </div>\n<!-- Disabled for the moment\n    <div>\n        <p>J\'accepte de recevoir la newsletter quotidienne du Figaro.fr</p>\n        <label class="fig-micronav__mailform-radio">\n            <input type="radio" name="nl" value="yes" />Oui\n        </label>\n        <label class="fig-micronav__mailform-radio">\n            <input type="radio" name="nl" value="no" checked />Non\n        </label>\n    </div>\n-->\n    <input type="submit" value="Envoyer" class="fig-micronav__mailform-submit">\n</form>\n']),s=i(['\n    <div class="fig-micronav ','">\n        <ul class="fig-micronav__list">\n            ',"\n            ","\n        </ul>\n        ","\n    </div>\n"],['\n    <div class="fig-micronav ','">\n        <ul class="fig-micronav__list">\n            ',"\n            ","\n        </ul>\n        ","\n    </div>\n"]),u=n(28),c=r(u),l=function(t){var e=t.dataComment,n=t.url;return(0,c["default"])(o,null===n?"":'<li class="fig-micronav__item fig-micronav__item--subscription" data-hide="small">\n        <a class="fig-micronav__item-link"\n            style="'+("#?"===n?"cursor:default":"")+'"\n            href="'+n+'"\n            title="Abonnez-vous  Figaro Premium'+("#?"!==n?"(nouvelle fentre)":"")+'"\n            aria-label="Abonnez-vous  Figaro Premium'+("#?"!==n?"(nouvelle fentre)":"")+'"\n            target="'+("#?"!==n?"_blank ":"_self")+'"\n            '+("#?"!==n?'rel="noopener"':"")+'>\n            <img src="http://i.f1g.fr/media/ext/x/www.lefigaro.fr/assets/articles-payants/promo-premium/micronav-new.jpg" alt="Abonnez-vous  Figaro Premium">\n        </a>\n    </li>',e.isClosed===!0?"":'<li class="fig-micronav__item fig-micronav__item--comments">\n        <a class="fig-micronav__item-link"\n        data-target="#reagir"\n        href="#fig-comments"\n        title="'+(e.number>0?"Lire ":"Commentez cet article")+'">\n          <span class="fig-micronav__comments-number">'+e.formattedNb+'\n            <span class="fig-micronav__comments-wording">'+e.wording+"</span>\n          </span>\n        </a>\n    </li>")},f=function(){return(0,c["default"])(a)},p=function(t){var e=t.customTemplate,n=t.micronavHtmlData,r=t.dataComment,i=t.additionalClass,o=t.url;return(0,c["default"])(s,i,e||l({dataComment:r,url:o}),n,f())};e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.source,n=t.remoteId,r=t.type;return self.fetch(o["default"]+"social/sharebar/"+r+"/"+e+"/"+n).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetMicronavData "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.type,n=t.isPremium,r=e+(n?"-premium":"");return self.fetch(o["default"]+"store/"+r).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetStoreData "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(12),f=r(l),p=n(16),h=r(p),d=n(47),v=n(77),m=r(v),g=(u=function(t){function e(n){var r=n.$el,a=n.service,s=void 0===a?m["default"]:a;i(this,e);var u=o(this,t.call(this,{initialData:{slug:"",tag:"",marginLeft:0,displayNav:!1,stepWidth:0,marginLeftMin:0},initialRender:!1,$el:r,service:s,source:r.attr("data-fidji-source"),articleId:r.attr("data-fidji-exclude-id"),$tabs:r.find(".fig-tags__items"),$arrows:r.find(".fig-tags__nav"),$next:r.find(".fig-tags__nav-arrow--right"),$prev:r.find(".fig-tags__nav-arrow--left"),$arrow:r.find(".fig-tags__nav-arrow"),$container:r.find(".fig-tags__articles-container")})),c=u.$el.outerWidth(),l=u.$tabs.outerWidth(),f=l+u.$arrows.outerWidth(),p=-(f-c);return u.setValues({marginLeftMin:p,displayNav:p<0,stepWidth:c/2},u.renderNav),u}return a(e,t),e.prototype.binding=function(){var t=this;this.$tabs.on("click.blockTags","li",this.handleSelectTab).on("keypress.blockTags","li",function(e){13===(e.keyCode||e.which)&&t.handleSelectTab(e)}),this.$arrow.on("click.blockTagsNavigation",function(e){return t.step(0===(0,f["default"])(e.currentTarget).index()?1:-1)}).on("keypress.blockTagsNavigation",function(e){13===(e.keyCode||e.which)&&t.step(0===(0,f["default"])(e.currentTarget).index()?1:-1)})},e.prototype.unbinding=function(){this.$tabs.off(".blockTags"),this.$tabs.off(".blockTagsNavigation")},e.prototype.step=function(t){var e=this.data.toJS(),n=e.marginLeft,r=e.marginLeftMin,i=e.stepWidth,o=(0,d.constrain)(n+(1===t?1:-1)*i,r,0);this.setValues({marginLeft:o},this.renderNav)},e.prototype.renderNav=function(){var t=this.data.toJS(),e=t.marginLeft,n=t.displayNav,r=t.marginLeftMin;this.$arrows.toggle(n),n&&(this.$next.toggleClass("fig-tags__nav-arrow--disabled",e===r),this.$prev.toggleClass("fig-tags__nav-arrow--disabled",0===e),this.$tabs.animate({marginLeft:e},500))},e.prototype.onResize=function(){var t=this.$el.outerWidth(),e=this.$tabs.outerWidth(),n=e+this.$arrows.outerWidth(),r=-(n-t);this.setValues({marginLeftMin:r,displayNav:r<0,stepWidth:t/2,marginLeft:0},this.renderNav)},e.prototype.handleSelectTab=function(t){t.preventDefault(),t.stopImmediatePropagation(),this.$container.attr("aria-busy",!0);var e=t.currentTarget,n=(0,f["default"])(e).attr("data-term"),r=(0,f["default"])(e).html();this.setValues({term:n,tag:r},this.renderArticles)},e.prototype.renderArticles=function(){var t=this,e=this.data.get("term"),n=this.$tabs.find("li");this.service({source:this.source,tag:e,excludeId:this.articleId}).then(function(r){r&&r.html&&(t.$container.attr("aria-busy",!1).html(r.html),window.fpAuth&&window.fpAuth.scanPageForNewElements(),n.each(function(n,r){var i=(0,f["default"])(r).attr("data-term")===e;(0,f["default"])(r).toggleClass("fig-tags__item--current",i).attr("aria-selected",i),i&&t.$container.attr("aria-labelledby",(0,f["default"])(r).attr("id"))}))})},e}(c.Block),s(u.prototype,"handleSelectTab",[h["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleSelectTab"),u.prototype),u);e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.source,n=t.tag,r=t.excludeId;return self.fetch(o["default"]+"tagged-articles/"+e+"/"+n+(r?"?exclude="+r:"")).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceArticleTags "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(12),f=r(l),p=n(16),h=r(p),d=n(79),v=r(d),m=(u=function(t){function e(n){var r=n.$el,a=n.service,s=void 0===a?v["default"]:a;return i(this,e),o(this,t.call(this,{
initialData:{sort:""},initialRender:!1,$el:r,service:s,source:r.attr("data-fidji-source"),section:r.attr("data-fidji-section"),articleId:r.attr("data-fidji-exclude-id"),$tabs:r.find(".fig-tags__items"),$content:r.find(".fig-tags__content")}))}return a(e,t),e.prototype.binding=function(){var t=this;this.$tabs.on("click.blockRubrique","li",this.handleSelectTab).on("keypress.blockRubrique","li",function(e){13===(e.keyCode||e.which)&&t.handleSelectTab(e)})},e.prototype.unbinding=function(){this.$tabs.off(".blockRubrique")},e.prototype.handleSelectTab=function(t){t.preventDefault(),t.stopImmediatePropagation(),this.$content.attr("aria-busy",!0);var e=t.currentTarget,n=(0,f["default"])(e).attr("data-slug");this.setValues({sort:n})},e.prototype.render=function(){var t=this,e=this.$tabs.find("li");this.service({source:this.source,section:this.section,sort:this.data.get("sort"),excludeId:this.articleId}).then(function(n){n&&n.html&&(t.$content.attr("aria-busy",!1).attr("aria-labelledby",t.data.get("sort")).html(n.html),e.each(function(e,n){var r=(0,f["default"])(n).attr("data-slug")===t.data.get("sort");(0,f["default"])(n).toggleClass("fig-tags__item--current",r).attr("aria-selected",r)}))})},e}(c.Block),s(u.prototype,"handleSelectTab",[h["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleSelectTab"),u.prototype),u);e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.source,n=t.section,r=t.sort,i=t.excludeId;return self.fetch(o["default"]+"top-articles/"+e+"/"+n+"/"+r+(i?"?exclude="+i:"")).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetTopArticles "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(16),f=r(l),p=n(12),h=r(p),d=n(47),v=n(55),m=r(v),g=n(81),y=r(g),_=(u=function(t){function e(n){var r=n.$el,a=n.service,s=void 0===a?m["default"]:a,u=n.template,c=void 0===u?y["default"]:u;i(this,e);var l=o(this,t.call(this,{initialData:{index:0},section:r.attr("data-section")||"actu",service:s,template:c,$el:r,$items:[],initialRender:!1,MAX_ITEMS:16}));return l.getFlashData(),l}return a(e,t),e.prototype.getFlashData=function(){var t=this;this.service({section:this.section}).then(function(e){var n=e[t.section].slice(1,t.MAX_ITEMS);n&&n.length&&(t.$el.find(".fig-flash__list").append(t.template(n,t.section)),t.$items=t.$el.find(".fig-flash__item"))})},e.prototype.binding=function(){this.$el.on("click.alert",".js-fig-flash__nav-item--next",{value:1},this.handleNavigation),this.$el.on("click.alert",".js-fig-flash__nav-item--prev",{value:-1},this.handleNavigation)},e.prototype.handleNavigation=function(t){this.$el.find(".fig-flash__list").attr("aria-busy",!0);var e=t.data.value;this.setValues({index:(0,d.constrain)(this.data.get("index")+e,0,this.$items.length-1)})},e.prototype.unbinding=function(){this.$el.off(".alert")},e.prototype.render=function(){var t=this,e=this.data.get("index"),n=0===e;e===this.$items.length-1&&(window.location.href="http://www.lefigaro.fr/flash-"+this.section),this.$el.find(".fig-flash__list").attr("aria-busy",!1),this.$items.toArray().forEach(function(n,r){t.$items.eq(r).toggleClass("fig-flash__item--active",r===e).attr("aria-hidden",r!==e)}),(0,h["default"])(".js-fig-flash__nav-item--prev").toggleClass("fig-flash__nav-item--disabled",n).attr("disabled",n).attr("aria-disabled",n)},e}(c.Block),s(u.prototype,"getFlashData",[f["default"]],Object.getOwnPropertyDescriptor(u.prototype,"getFlashData"),u.prototype),s(u.prototype,"handleNavigation",[f["default"]],Object.getOwnPropertyDescriptor(u.prototype,"handleNavigation"),u.prototype),u);e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(['\n      <li class="fig-flash__item fig-flash__item--'," fig-flash__item--",'" aria-hidden="true">\n        <a href="http://www.lefigaro.fr/flash-actu/" class="fig-flash__label">\n          ','\n          <span class="fig-flash__section">','</span>\n        </a>\n        <a href="','" class="fig-flash__content">\n          <span class="fig-flash__date">',"h","</span>\n          ","\n        </a>\n      </li>"],['\n      <li class="fig-flash__item fig-flash__item--'," fig-flash__item--",'" aria-hidden="true">\n        <a href="http://www.lefigaro.fr/flash-actu/" class="fig-flash__label">\n          ','\n          <span class="fig-flash__section">','</span>\n        </a>\n        <a href="','" class="fig-flash__content">\n          <span class="fig-flash__date">',"h","</span>\n          ","\n        </a>\n      </li>"]),a=n(28),s=r(a),u=function(t,e){return t.map(function(t){var n=t.title,r=t.url,i=t.time,a=t.type,u=new Date(i).toLocaleTimeString("fr-FR").split(":");return(0,s["default"])(o,a,e,"alert"===a?"Alerte ":"Le Flash ",e,r,u[0],u[1],n)})};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var c,l=n(2),f=n(16),p=r(f),h=n(12),d=r(h),v=n(83),m=r(v),g=(c=function(t){function e(n){var r=n.$el,i=n.service,s=void 0===i?m["default"]:i,u=n.adFormat,c=void 0===u?"pave_btf":u;return o(this,e),a(this,t.call(this,{initialData:{currentPage:0,html:"",isLastPage:!1,toggleId:"",show:!0},$el:r,service:s,$more:(0,d["default"])(".js-more-comments"),$listRoot:(0,d["default"])(".js-fig-comments__list--root"),initialRender:!1,adFormat:c}))}return s(e,t),e.prototype.binding=function(){this.$more.on("click.comments",this.getMoreComments),this.$el.on("click.comments",".js-nested-comments",this.showNestedComments)},e.prototype.unbinding=function(){this.$el.off(".comments")},e.prototype.getMoreComments=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t,e,r,i,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.data.toJS(),e=t.currentPage,r=(0,d["default"])(".fig-content").attr("data-app-id"),i=(0,d["default"])(".fig-content").attr("data-fidji-id"),o=(0,d["default"])(".fig-reagir").length,this.$listRoot.attr("aria-busy",!0),n.next=7,this.service({appId:r,articleId:i,page:e+1,actions:o});case 7:a=n.sent,a&&this.setValues({html:a.html,isLastPage:a.is_last_page,currentPage:e+1});case 9:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.showNestedComments=function(t){t.preventDefault(),t.stopImmediatePropagation();var e=(0,d["default"])(t.currentTarget),n=e.attr("id").match(/btn-(\d+)/)[1];this.setValues({toggleId:n,show:(0,d["default"])("#comment-list-"+n).hasClass("fig-comments__list--hide")},this.renderNestedComments)},e.prototype.renderNestedComments=function(){var t=this.data.toJS(),e=t.toggleId,n=t.show;(0,d["default"])("#btn-"+e).toggleClass("fig-comment__show--active",n).attr("aria-expanded",n).find(".js-nested-comments__label").text(n?"Masquer":"Lire"),(0,d["default"])("#comment-list-"+e).attr("aria-hidden",!n).toggleClass("fig-comments__list--hide",!n)},e.prototype.render=function(){var t=this.data.toJS(),e=t.html,n=t.isLastPage;this.$listRoot.attr("aria-busy",!1),(0,d["default"])(d["default"].parseHTML(e)).css({opacity:0}).appendTo(this.$el.find(".fig-comments__list").eq(0)).animate({opacity:1},500),window.figads&&this.adFormat&&window.figads.refresh([this.adFormat]),this.$more.toggleClass("fig-comments__more--active",!n)},e}(l.Block),u(c.prototype,"getMoreComments",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"getMoreComments"),c.prototype),u(c.prototype,"showNestedComments",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"showNestedComments"),c.prototype),u(c.prototype,"renderNestedComments",[p["default"]],Object.getOwnPropertyDescriptor(c.prototype,"renderNestedComments"),c.prototype),c);e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.appId,n=t.articleId,r=t.page,i=void 0===r?1:r,a=t.actions,s=void 0===a?1:a;return self.fetch(o["default"]+"comments/"+e+"/"+n+"?page="+i+"&actions="+s).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceComments "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(2),c=n(12),l=r(c),f=n(85),p=r(f),h=function(t){function e(n){var r=n.$el,i=n.service,s=void 0===i?p["default"]:i,u=n.classname,c=void 0===u?"fig-recommended__item":u,l=n.selectedKey,f=void 0===l?"is_premium":l;return o(this,e),a(this,t.call(this,{initialData:{selectedData:null},initialRender:!1,$el:r,service:s,classname:c,selectedKey:f,$items:r.find("."+c)}))}return s(e,t),e.prototype.binding=function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function n(){var t,e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.$items.toArray().map(function(t){return e.service({url:(0,l["default"])(t).find("a").attr("href")})});case 2:t=n.sent,Promise.all(t).then(function(t){if(t){var n=t.map(function(t){return t[e.selectedKey]});e.setValues({selectedData:n})}});case 4:case"end":return n.stop()}},n,this)}));return t}(),e.prototype.render=function(){var t=this,e=this.data.toJS(),n=e.selectedData;this.$items.toArray().forEach(function(e,r){if(n[r]){var i=t.$el.find(e),o=i.children("a");i.addClass(t.classname+"--premium"),o.attr("title",o.text()+" (article Premium)")}})},e}(u.Block);e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(19),o=r(i),a=function(t){var e=t.url;return self.fetch(o["default"]+"article/more-information?url="+e).then(function(t){return t.json()})["catch"](function(t){return console.error("figtheme serviceGetArticleMoreInformation "+t.message)})};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(2),u=n(12),c=r(u),l=n(87),f=r(l),p=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.$el,a=n.selector,s=void 0===a?".fig-embed":a,u=n.template,c=void 0===u?f["default"]:u;return i(this,e),o(this,t.call(this,{$el:r,selector:s,template:c,regexp:/http:\/\/www.lefigaro.fr\/assets\/infographie\/(.*?)\.html/}))}return a(e,t),e.prototype.binding=function(){var t=this.$el,e=this.selector,n=this.regexp,r=this.template;t.find(e).toArray().forEach(function(t){var i=t.innerHTML.match(n);i&&(0,c["default"])(t).addClass(e.substr(1)+"--expand").append(r({src:i[0]}))})},e}(s.Block);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(['\n  <a href="','" target="_blank" class="fig-media-expand" rel="noopener" aria-label="Ouvrir l\'infographie dans une nouvelle fentre" title="Ouvrir l\'infographie dans une nouvelle fentre">\n    <span class="fig-media__icon"/>\n  </a>'],['\n  <a href="','" target="_blank" class="fig-media-expand" rel="noopener" aria-label="Ouvrir l\'infographie dans une nouvelle fentre" title="Ouvrir l\'infographie dans une nouvelle fentre">\n    <span class="fig-media__icon"/>\n  </a>']),a=n(28),s=r(a),u=function(t){var e=t.src;return(0,s["default"])(o,e)};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(2),u=n(67),c=r(u),l=n(89),f=r(l),p=n(26),h=function(t){function e(n){var r=n.$el,a=n.template,s=void 0===a?f["default"]:a;i(this,e);var u=o(this,t.call(this,{initialData:{opened:!1},initialRender:!1,$el:r,template:s,source:r.data("src"),caption:r.data("caption"),credit:r.data("credit")}));return u.closePopup=function(t){t.stopPropagation(),t.target.className.indexOf("fig-popup-image__img")===-1&&u.setValues({opened:!1}),u.$el.focus()},u.openPopup=function(){u.setValues({opened:!0}),u.$el.find(".fig-popup-image").focus()},r.append('<div class="js-fig-popup-image-container"></div>'),u}return a(e,t),e.prototype.getSrcset=function(){var t=this;return[480,800,1500].map(function(e){return t.source.replace(/orig/,e+"x")+" "+e+"w"}).join(", ")},e.prototype.getDefaultSrc=function(){return""+this.source.replace(/orig/,"480x")},e.prototype.binding=function(){var t=this;this.$el.on("click.pop",function(){return t.openPopup()}),this.$el.on("keyup.pop",function(e){13===(e.keyCode||e.which)&&t.openPopup()}),this.$el.on("click.close",".fig-popup-image",function(e){return t.closePopup(e)}),this.$el.on("keyup.close",".fig-popup-image",function(e){13!==(e.keyCode||e.which)&&27!==(e.keyCode||e.which)||t.closePopup(e)})},e.prototype.unbinding=function(){this.$el.off(".pop"),this.$el.off(".close")},e.prototype.render=function(){var t=this.data.toJS(),e=t.opened,n=this.$el.find(".js-fig-popup-image-container");e?n.append(this.template({src:this.getDefaultSrc(),srcset:this.getSrcset(),caption:this.caption,credit:this.credit})):n.empty(),p.isIe11&&(0,c["default"])()},e}(s.Block);e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t.raw=e,t}e.__esModule=!0;var o=i(['\n    <div class="fig-popup-image" tabindex="0">\n        <button class="fig-popup-image__close js-fig-popup-image__close fig-icon-close"\n        title="Fermer" tabindex="-1"></button> \n        <figure class="fig-popup-image__figure">\n            <img class="fig-popup-image__img" src="','" srcset="','" sizes="100vw">\n            <figcaption class="fig-popup-image__legend">\n                ',"\n                ","\n             </figcaption>\n        </figure> \n    </div>\n"],['\n    <div class="fig-popup-image" tabindex="0">\n        <button class="fig-popup-image__close js-fig-popup-image__close fig-icon-close"\n        title="Fermer" tabindex="-1"></button> \n        <figure class="fig-popup-image__figure">\n            <img class="fig-popup-image__img" src="','" srcset="','" sizes="100vw">\n            <figcaption class="fig-popup-image__legend">\n                ',"\n                ","\n             </figcaption>\n        </figure> \n    </div>\n"]),a=i(['<span class="fig-popup-image__caption">',"</span>"],['<span class="fig-popup-image__caption">',"</span>"]),s=i(['<span class="fig-popup-image__credit">',"</span>"],['<span class="fig-popup-image__credit">',"</span>"]),u=n(28),c=r(u),l=function(t){var e=t.src,n=t.srcset,r=t.caption,i=t.credit;return(0,c["default"])(o,e,n,r&&(0,c["default"])(a,r),i&&(0,c["default"])(s,i))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e.__esModule=!0;var u,c=n(2),l=n(12),f=r(l),p=n(16),h=r(p),d=n(39),v=r(d),m=n(51),g=r(m),y=(u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.tagId,a=void 0===r?"pave_atf":r,s=n.selectorLimit,u=void 0===s?"[data-sticky-limit]":s,c=n.paddingLeft,l=void 0===c?10:c,p=n.containerSelector,h=void 0===p?".fig-type-content":p,d=n.paveSelector,m=n.minHeight,y=void 0===m?900:m;i(this,e);var _=o(this,t.call(this,{initialData:{tagLoaded:!1,isSticky:!1,isOnLimit:!1,headerHeight:60,bannerHeight:0},tagId:a,$limit:(0,f["default"])(u).length?(0,f["default"])(u).eq(0):(0,f["default"])("#fig-footer"),$containerSelector:(0,f["default"])(h),paddingLeft:l,initialRender:!1,minHeight:y}));if(_.tag=figads.tag(a),!_.tag)return _.remove(),o(_);_.$tag=(0,f["default"])(_.tag.node()),d?_.$pave=(0,f["default"])(d):_.$pave=(0,f["default"])(_.tag.node()).parent(".fig-pub");var b=800;return figads.tagLoaded(a).then(function(){return _.$tag.parent(".fig-pub").removeClass("fig-pub--hidden"),"pave_atf"===a&&_.showBlocks(),v["default"].isMobile||_.$containerSelector.height()<_.minHeight?void _.remove():("pave_atf"===a&&_.add(new g["default"]({limit:b})),void _.setValues({tagLoaded:!0},_.onPageScroll))})["catch"](function(t){throw"pave_atf"===a&&_.add(new g["default"]({limit:b})),t}),_}return a(e,t),e.prototype.showBlocks=function(){["bloc-haut","bloc-bas"].forEach(function(t){var e=figads.tag(t);e&&e.loaded.then(function(){(0,f["default"])(e.node()).parent(".fig-pub").removeClass("fig-pub--hidden")})["catch"](function(t){console.warn("BlockContentStickyAds : ",t)})}),["bloc-icone-280-1","bloc-icone-280-2","bloc-icone-280-3","bloc-icone-280-4"].forEach(function(t){var e=figads.tag(t);e&&e.loaded.then(function(){(0,f["default"])(e.node()).parent(".fig-pub").removeClass("fig-pub--hidden")})["catch"](function(t){console.warn("BlockContentStickyAds : ",t)})})},e.prototype.render=function(){var t=this.data.toJS(),e=t.isSticky,n=t.limitOffset,r=t.isOnLimit,i=t.headerHeight,o=t.bannerHeight;this.$pave.css({position:e?"fixed":"static",top:r?n:i+o,paddingLeft:e?this.paddingLeft:0,marginTop:e?0:20})},e.prototype.binding=function(){(0,f["default"])(window).on("scroll",this.onPageScroll)},e.prototype.unbinding=function(){(0,f["default"])(window).off("scroll",this.onPageScroll)},e.prototype.onPageScroll=function(){var t=window.pageYOffset,e=this.$pave.outerHeight(!0),n=this.$limit.offset().top,r=(0,f["default"])('[data-banner-sticky="true"]').length?102:0,i=t>264?60:v["default"].isTablet?110:170;if(this.data.get("tagLoaded")){var o=!v["default"].isMobile&&t>this.$containerSelector.offset().top-i-r;this.setValues({isSticky:o,isOnLimit:t+e+r+i>n,limitOffset:n-e-t,headerHeight:i,bannerHeight:r})}},e}(c.Block),s(u.prototype,"onPageScroll",[h["default"]],Object.getOwnPropertyDescriptor(u.prototype,"onPageScroll"),u.prototype),u);e["default"]=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(2),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.render=function(){if(window.figads){var t=window.figads.tag("inarticle");t&&(window.figads.inarticle(t.node(),{container:'[data-component="fig-content-body"]'}),t.available.then(function(){"inread"===t.format()&&t.show()}))}},e}(a.Block);e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(17),u=r(s),c=n(2),l=n(12),f=(r(l),function(t){function e(n){var r=n.$el;i(this,e);var a=o(this,t.call(this,{initialData:{isLogged:!1},$el:r}));return null!==u["default"].getItem("figaro_toolbar")&&a.setValues({isLogged:!0}),a}return a(e,t),e.prototype.render=function(){var t=this.data.toJS(),e=t.isLogged;e&&this.$el.remove()},e}(c.Block));e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(2),u=n(12),c=r(u),l=function(t){function e(n){var r=n.$el;i(this,e);var a=o(this,t.call(this,{$el:r,$mailForm:r.find(".fig-premium-mail")}));return a._paywallData=a.$el.data("paywall"),a._trackedDisplay=!1,a._formData=a.$mailForm.find("[type=submit]").data("paywall"),a._subscribeTracked=!1,a}return a(e,t),e.prototype.binding=function(){var t=this;this.$mailForm.on("submit",function(){t._subscribeTracked||window.dataLayer&&(t._subscribeTracked=!0,window.dataLayer.push(t._formData))})},e.prototype.onScroll=function(t){var e=t.scrollY;if(!this._trackedDisplay&&window.dataLayer){var n=this.$el.offset().top,r=(0,c["default"])(window).height(),i=this.$el.height();e>n-r+i&&(this._trackedDisplay=!0,window.dataLayer.push(this._paywallData),this.remove())}},e}(s.Block);e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(2),u=n(12),c=(r(u),function(t){function e(n){var r=n.$el;i(this,e);var a=o(this,t.call(this,{$el:r}));return a._authorData=a.$el.data("ga"),a._trackedAuthorFollow=!1,a}return a(e,t),e.prototype.binding=function(){var t=this;this.$el.on("click","[fpapp-type=suivre]",function(){t._trackedAuthorFollow||window.dataLayer&&(t._trackedAuthorFollow=!0,window.dataLayer.push(t._authorData))})},e}(s.Block));e["default"]=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(2),s=function(t){function e(n){var o=n.$el,a=n.searchUrl,s=void 0===a?"http://recherche.lefigaro.fr/recherche/$1/":a;return r(this,e),i(this,t.call(this,{$el:o,searchUrl:s}))}return o(e,t),e.prototype.render=function(){var t=this;this.$input=this.$el.find("#fig-404-search"),this.$form=this.$el.find(".fig-404__search-form"),this.$form.on("submit",function(e){e.preventDefault();var n=t.$input.val()||"";if(n){var r=t.searchUrl.replace("$1",n);window.location.href=r}})},e}(a.Block);e["default"]=s}]);